<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<meta name="baidu-site-verification" content="codeva-HZoIBm8yNp" />
<meta name="bytedance-verification-code" content="xa6iZeY+/XCOJvarHaDY" />








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Liunx Python Rust Goalng DevOPS" />










<meta name="description" content="使用空格    在处理SQL语句时，其中所有空格都被忽略。SQL语句可以在一行上给出，也可以分成许多行。但是多少SQL开发人员认为将SQL语句分成多行更容易阅读和调试。 为了使用SELECT检索表数据，必须至少给出两条信息————想选择什么，以及从什么地方选择。 检索单列：    SELECT prod_name FROM products; 检索多个列：    SELECT prod_id ,">
<meta property="og:type" content="article">
<meta property="og:title" content="Review MySQL">
<meta property="og:url" content="https://blog.feedscoin.com/2015-09-13-Review%20MySQL/index.html">
<meta property="og:site_name" content="逐流小站">
<meta property="og:description" content="使用空格    在处理SQL语句时，其中所有空格都被忽略。SQL语句可以在一行上给出，也可以分成许多行。但是多少SQL开发人员认为将SQL语句分成多行更容易阅读和调试。 为了使用SELECT检索表数据，必须至少给出两条信息————想选择什么，以及从什么地方选择。 检索单列：    SELECT prod_name FROM products; 检索多个列：    SELECT prod_id ,">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2015-09-13T10:46:32.000Z">
<meta property="article:modified_time" content="2024-01-15T06:44:53.774Z">
<meta property="article:author" content="Laird Lau">
<meta property="article:tag" content="Liunx Python Rust Goalng DevOPS">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blog.feedscoin.com/2015-09-13-Review MySQL/"/>





  <title>Review MySQL | 逐流小站</title>
  





<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MW47YH6RH0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MW47YH6RH0');
</script>





<meta name="generator" content="Hexo 7.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">逐流小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">想回到那个能随便跳槽的年代</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015-09-13-Review%20MySQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Review MySQL</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-09-13T18:46:32+08:00">
                2015-09-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/jekyll-update/" itemprop="url" rel="index">
                    <span itemprop="name">jekyll update</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      

        <p>使用空格    在处理SQL语句时，其中所有空格都被忽略。SQL语句可以在一行上给出，也可以分成许多行。但是多少SQL开发人员认为将SQL语句分成多行更容易阅读和调试。</p>
<p>为了使用SELECT检索表数据，必须至少给出两条信息————想选择什么，以及从什么地方选择。</p>
<p>检索单列：<br>    SELECT prod_name FROM products;</p>
<p>检索多个列：<br>    SELECT prod_id , prod_name , prod_price FROM products;<br>&#x2F;&#x2F;当心逗号  在选择多个列时，一定要在列名之前加上逗号，但最后一个列名后不能加。如果在最后一个列名后加了逗号，将出现错误。</p>
<p>检索所有列：<br>    SELECT * FROM products;     &#x2F;&#x2F;给定一个通配符（<em>），则返回表中所有列。<br>&#x2F;&#x2F;当心通配符  一般除非你确实需要表中的每个列，否则最好别使用</em>通配符，因为检索不需要的列通常会降低检索和应用程序的性能。</p>
<p>检索不同的行：<br>使用关键字DISTINCT关键字，此关键字指示MySQL只能返回不同的值。<br>    SELECT DISTINCT vend_id FROM products;<br>&#x2F;&#x2F;不能部分使用DISTINCT关键字，它应用于所有列而不仅仅是前置它的列。如果给出SELECT DISTINCT vend_id prod_id ,除非指定的两个列都不同，否则所有行都将被检索出来。</p>
<p>限制结果：<br>    SELECT prod_name FROM products LIMIT 5;</p>
<pre><code>SELECT prod_name FROM products LIMIT 5,5;
//LIMIT 5,5 指示MySQL返回从行5开始的5行，第一个数为开始位置，第二个数为要检索的行数。
</code></pre>
<p>&#x2F;&#x2F;结论：带一个值的LIMIT总是从第一行开始，给出的数为返回的行数。带两个值的LIMIT可以指定从行号为第一个值的位置开始。<br>&#x2F;&#x2F;行0：检索出来的第一行为行0而不是行1。因此，limit 1 ，1 将检索出第二行而不是第一行。</p>
<p>使用完全限定的表名和列名：<br>    SELECT products.prod_name FROM products;<br>&#x2F;&#x2F;这条SQL语句在功能上等于前边最开始使用的那一条语句，但是这里指定了一个完全限定的列名。</p>
<pre><code>表名也是可以完全限定的，如下所示：
SELECT products.prod_name FROM crashcourse.products;
</code></pre>
<p>第五章：排序检索数据</p>
<p>&#x2F;&#x2F;关系数据库设计理论认为，如果不明确规定排序顺序，则不应该假定检索出的数据的顺序有意义。</p>
<p>排序数据（ORDER BY）：<br>    SELECT prod_name FROM products ORDER BY prod_name;</p>
<p>按多个列排序：<br>    SELECT prod_id ，prod_price , prod_name FROM products ORDER BY prod_price , prod_name;</p>
<p>指定排序方向(ASC DESC)：<br>    SELECT prod_id , prod_price ,prod_name FROM products ORDER BY prod_price DESC;</p>
<pre><code>多个列排序，先按产品，再按产品名排序
SELECT prod_id , prod_price , prod_name FROM products ORDER BY prod_price DESC , prod_name;
//DESC关键字只应用到直接位于其前面的列名。在上例中，只对prod_price列指定DESC,对prod_name列不指定。

使用ORDER BY 和 LIMIT 的组合，能够找出一个列中最高或最低的值。
SELECT prod_price 
FROM products 
ORDER BY prod_price 
DESC LIMIT 1;

ORDER BY子句的位置：在给出ORDER BY 子句是，应该保证它位于FROM子句之后。如果使用LIMIT ,它必须位于ORDER BY 之后，使用子句的次序不对将产生错误消息。
</code></pre>
<p>第六章：过滤数据</p>
<p>使用WHERE子句:<br>    SELECT prod_name , prod_price<br>    FROM products<br>    WHERE prod_price &#x3D; 2.30;</p>
<pre><code>WHERE子句的位置 在同时使用ORDER BY 和 WHERE 子句是，应该让ORDER BY 位于 WHERE 之后，否则将会产生错误。
</code></pre>
<p>WHERE子句操作符<br>    &#x3D;   &lt;&gt;  !&#x3D;  &lt;   &lt;&#x3D;  &gt;   &gt;&#x3D;  BETWEEN</p>
<pre><code>检查单个值
SELECT prod_name , prod_price
FROM products
WHERE prod_name = &#39;fuses&#39;;
//MYSQL在执行匹配时，默认不区分大小写，所以fuses和Fuses匹配。

检查多个值
SELECT prod_name , prod_price
FROM products
WHERE prod_price &lt; 10;
//WHERE prod_price &lt;= 10;

不匹配检查
SELECT vend_id , prod_name
FROM products
WHERE vend_id &lt;&gt; 1003;
//WHERE vend_id != 1003;

范围值检查
SELECT prod_name,prod_price
FROM products
WHERE prod_price BETWEEN 5 AND 10;

空值检查
在创建表时，表设计人员可以指定其中的列是否可以不包含值。
在一个列不包含值时，称其为包含空值NULL.

NULL 无值（no value）它与字段包含0，空字符串或仅仅包含空格不同。

SELECT 语句有一个特殊的WHERE子句，可以用来检查具有NULL值的列。这个WHERE子句就是IS NULL子句。
SELECT prod_name
FROM products
WHERE prod_price IS NULL;
</code></pre>
<p>第七章：数据过滤</p>
<pre><code>mysql 允许给出多个where子句。这些子句可以两种方式使用：以AND子句的方式或OR子句的方式使用。
</code></pre>
<p>AND操作符<br>    SELECT prod_id , prod_price , prod_name<br>    FROM products<br>    WHERE vend_id &#x3D; 1003 AND prod_price &lt;&#x3D; 10;</p>
<pre><code>此SQL语句检索由供应商1003制造且价格小于等于10美元的所有产品的名称和价格。

我们可以添加多个过滤条件，每添加一条就要使用一个AND.
</code></pre>
<p>OR操作符<br>    SELECT prod_name , prod_price<br>    FROM products<br>    WHERE vend_id &#x3D; 1002 OR vend_id &#x3D; 1001;</p>
<p>计算次序<br>    在处理OR操作符前，优先处理AND操作符。<br>    解决方法：使用圆括号明确地分组相应的操作符。</p>
<p>IN操作符<br>    IN操作符用来指定条件范围，范围中的每个条件都可以进行匹配。IN取合法值的有逗号分隔的清单，全都括在圆括号中。<br>    SELECT prod_name , prod_price<br>    FROM products<br>    WHERE vend_id IN (1002,1003)<br>    ORDER BY prod_name;</p>
<pre><code>IN操作符完成了与OR相同的功能。如下：
SELECT prod_name,prod_price
FROM products
WHERE vend_id = 1002 OR vend_id = 1003
ORDER BY prod_name;
</code></pre>
<p>使用IN操作符的优点：<br>在使用长的合法选项清单时，IN操作符的语法更清楚且更直观；<br>在使用IN时，计算的次序更容易管理（因为使用的操作符更少）；<br>IN操作符一般比OR操作符清单执行更快；<br>IN的最大优点是可以包含其他SELECT语句，使得能够更动态的建立WHERE子句。</p>
<p>NOT操作符<br>    WHERE 子句中的NOT 操作符有且只有一个功能，那就是否定它之后所跟的任何条件<br>    SELECT prod_name,prod_price<br>    FROM products<br>    WHERE vend_id NOT IN (1002,1003)<br>    ORDER BY prod_name;</p>
<p>MYSQL支持使用NOT对IN,BETWEEN和EXISTS子句取反， 这与多数其他DBMS允许使用NOT对各种条件取反有很大的差别；</p>
<p>第八章：用通配符进行过滤</p>
<p>LIKE操作符<br>为在搜索子句中使用通配符，必须使用LIKE操作符。LIKE指示MySQL,后跟的搜索模式 利用通配符匹配 而不是直接相等匹配进行比较。<br>谓词    操作符何时不是操作符？答案是在他作为谓词时。从技术上说，LIKE是谓词而不是操作符。（术语）</p>
<p>百分号（%）通配符<br>    SELECT prod_id , prod_name<br>    FROM products<br>    WHERE prod_name LIKE ‘jet%’;<br>区分大小写  根据MYSQL的配置方式，搜索可以是区分大小写的。如果区分大小写，’jet%’与JetPack1000将不匹配。</p>
<p>注意尾空格  尾空格可能会干扰通配符匹配。</p>
<p>下划线（<em>）通配符<br>另一个有用的通配符是下划线（_）。下划线的用途与%一样，但是下划线只匹配单个字符而不是多个字符。<br>    SELECT prod_id , prod_name<br>    FROM products<br>    WHERE prod_name LIKE ‘</em> ton anvil’;</p>
<p>与%能匹配0个字符不一样，_总是匹配一个字符，不能多也不能少。</p>
<p>第九章：正则表达式</p>
<p>第十章：创建计算字段</p>
<p>计算字段<br>我们需要直接从数据库中检索出转换、计算或格式化过的数据；而不是检索出数据，然后再在客户机应用程序或报告程序中重新格式化。</p>
<p>计算字段并不实际存在于数据库表中，计算字段是运行时在SELECT语句内创建的。</p>
<p>拼接字段：<br>例如：某报表需要单个值，而表中数据存储在两个列vend_name和vend_country中。<br>解决办法是把两个列拼接起来，在MYSQL的SELECT语句中，可以使用Concat()函数来拼接两个列。</p>
<pre><code>SELECT Concat(vend_name,&#39;(&#39;,vend_country,&#39;)&#39;)
FROM vendors
ORDER BY vend_name;
</code></pre>
<p>输出为：Jet Set(USA)</p>
<p>删除空格：<br>使用Trim()&#x2F;RTrim()&#x2F;LTrim()函数来完成。<br>    SELECT Concat(RTrim(vend_name),’(‘,RTrim(vend_country) ,’)’)<br>    FROM vendors<br>    ORDER BY vend_name;</p>
<p>使用别名：别名用AS关键字赋予<br>    SELECT Concat(RTrim(vend_name),’(‘, RTime(vend_country),’)’) AS vend_title<br>    FROM vendors<br>    ORDER BY vend_name;</p>
<p>执行算术计算(+ - * &#x2F;)<br>    SELECT prod_id,<br>           quantity,<br>           item_price,<br>           quantity*item_price AS expanded_price<br>    FROM orderitems<br>    WHERE order_num &#x3D; 2005;</p>
<p>第十一章    使用数据处理函数</p>
<p>函数<br>    文本处理函数<br>    Upper()<br>    SELECT vend_name , Upper(vend_name) AS vend_name_upcase<br>    FROM vendors<br>    ORDER BY vend_name;</p>
<p>常用的文本处理函数<br>    Left()      返回串左边的字符<br>    Rigth()     返回串右边的字符<br>    Length()    返回串的长度<br>    Locate()    找出串的一个子串<br>    Lower()     将串转换为小写<br>    LTrim()     去掉串左边的空格<br>    RTrim()<br>    Soundex()   返回串的SOUNDEX值<br>    SubString() 返回子串的字符<br>    Upper()     将串转换为大写</p>
<p>日期和时间处理函数<br>    SELECT cust_id , order_num<br>    FROM orders<br>    WHERE order_date &#x3D; ‘2005-09-01’;</p>
<p>如果有当天的下单时间，则匹配失败，怎么办？<br>解决办法是指示MYSQL仅将给出的日期与列中的日期部分进行比较，而不是将给出的日期与整个列值进行比较。为此，必须使用Date()函数。<br>    SELECT cust_id , order_num<br>    FROM orders<br>    WHERE Date(order_date) &#x3D; ‘2015-09-01’;</p>
<p>如果想检索出2005年9月下的所有订单，怎么办？<br>解决办法：<br>    SELECT cust_id , order_num<br>    FROM orders<br>    WHERE Date(order_date) BETWEEN ‘2005-09-01’ AND ‘2005-09-30’;</p>
<p>还有另一种办法（一种不需要记住每个月总有多少天或不需要操心闰年2月的办法）：<br>    SELECT cust_id , order_num<br>    FROM orders<br>    WHERE Year(order_date) &#x3D; 2005 AND Month(order_date) &#x3D; 9;</p>
<p>数值处理函数<br>    abs()   cos()   exp()   mod()   pi()    rand()  sin()   sqrt()  tan()</p>
<p>第十二章    汇总数据</p>
<p>聚集函数<br>AVG()   返回某列的平均值<br>COUNT() 返回某列的行数<br>MAX()   返回某列的最大值<br>MIN()<br>SUM()   返回某列值之和</p>
<pre><code>AVG()
SELECT AVG(prod_price) AS avg_price
FROM products;
只用于单个列：AVG()只能用来确定特定数值列的平均值，而且列名必须作为函数参数给出。为了获得多个列的平均值，必须使用多个AVG()函数

COUNT()
SELECT COUNT(*) AS num_cust FROM customers; 利用COUNT(*)对所有行计数，不管行中各列有什么值。计数值在num_cust中返回。

SELECT COUNT(cust_email) AS num_cust FROM customers;

MAX()
SELECT MAX(prod_price) AS max_price FROM products;

MIN()
SELECT MIN(prod_price) AS max_price FROM products;

SUM()
SELECT SUM(quantity) AS items_ordered
FROM orderitems
WHERE order_num = 2005;
</code></pre>
<p>注意尽量避免与DISTINCT关键字的搭配使用</p>
<p>第十三章    分组数据</p>
<p>GROUP BY子句 和 HAVING子句<br>分组运行把数据分为多个逻辑组，以便能对每个组进行聚集计算</p>
<p>创建分组：<br>    SELECT vend_id , COUNT(*) AS num_prods<br>    FROM products<br>    GROUP BY vend_id;</p>
<p>GROUP BY 子句必须出现在WHERE 子句之后，ORDER BY子句之前。</p>
<p>过滤分组：<br>WHERE不能完成任务，因为WHERE过滤指定的是行而不是分组。事实上，WHERE没有分组的概念。<br>HAVING非常类似于WHERE，事实上，目前为止所学过的所有类型的WHERE子句都可以用HAVING来代替。唯一的差别是WHERE过滤行，而HAVING过滤分组。<br>    SELECT cust_id , COUNT(<em>) AS orders<br>    FROM orders<br>    GROUP BY cust_id<br>    HAVING COUNT(</em>) &gt;&#x3D; 2;<br>    在这里WHERE 子句是不起作用的，因为过滤是基于分组聚集值而不是特定行值的。</p>
<pre><code>HAVING和WHERE的差别：WHERE在数据分组之前进行过滤，HAVING在数据分组后进行过滤。

SELECT vend_id, COUNT(*) AS num_prods
FROM products
WHERE prod_price &gt;= 10
GROUP BY vend_id
HAVING COUNT(*) &gt;= 2;
</code></pre>
<p>分组和排序<br>GROUP BY 和 ORDER BY 的不同<br>    一般在使用GROUP BY 子句是，应该也给出ORDER BY子句，这是保证数据正确排序的唯一方法。千万不要依赖GROUP BY 排序数据。</p>
<pre><code>SELECT order_num , SUM(quantity*item_price) AS ordertotal
FROM orderitems
GROUP BY order_num
HAVING SUM(quality*item_price) &gt;= 50;

SELECT order_num , SUM(quantity*item_price) AS ordertotal
FROM orderitems
GROUP BY order_num
HAVING SUM(quality*itme_price) &gt;=50
ORDER BY ordertotal;
</code></pre>
<p>第十四章 使用子查询</p>
<p>子查询（嵌套在其他查询中的查询）<br>    SELECT cust_id<br>    FROM orders<br>    WHERE order_num IN (SELECT order_num<br>                        FROM orderitems<br>                        WHERE prod_id &#x3D; ‘TNT2’);</p>
<p>作为计算字段使用子查询（使用了完全限定列名）<br>    SELECT cust_name,<br>           cust_state,<br>           (SELECT COUNT(*)<br>           FROM orders<br>           WHERE orders.cust_id &#x3D; customers.cust_id) AS orders<br>    FROM customers<br>    ORDER BY cust_name;</p>
<p>相关子查询  涉及外部查询的子查询<br>（任何时候只要列名可能有多义性，就必须使用这种语法（表名和列名由一个句点分隔））</p>
<p>逐渐增加子查询来建立查询</p>
<p>第十五章 联结表<br>相同数据出现多次绝不是一件好事，此因素是关系数据库设计的基础。<br>关系数据库的设计就是要保证把信息分解成多个表，一类数据一个表。</p>
<p>创建联结<br>    SELECT vend_name,prod_name,prod_price FROM vendors,products<br>    WHERE vendors.vend_id &#x3D; products.vend_id<br>    ORDER BY vend_name,prod_name;</p>
<p>在联结两个表时，你实际上做的是将第一个表中的每一行与第二个表中的每一行配对。WHERE子句作为过滤条件，它只包含那些匹配给定条件的行。<br>没有WHERE子句，第一个表中的每个行将与第二个表中的每个行配对，而不管它们逻辑上是否可以匹配在一起。</p>
<p>笛卡尔积：由没有联结条件的表关系返回的结果为笛卡尔积。检索出的行的数目将是第一个表中的行数乘以第二个表中的行数。</p>
<p>因此，不要忘了WHERE子句 应该保证所有联结都有WHERE子句，否则MySQL将返回比想要的数据多的多的数据。</p>
<p>内部联结<br>目前为止所有的联结称为等值联结(如上)，它基于两个表之间的相等测试。这种联结也称为内部联结。其实，对于这种联结可以使用稍微不同的语法来明确指定 联结的类型。如下：<br>    SELECT vend_name , prod_name , prod_price<br>    FROM vendors INNER JOIN products<br>    ON vendors.vend_id &#x3D; products.vend_id;</p>
<pre><code>在使用这种语法时，联结条件用特定的ON子句而不是WHERE子句给出。
</code></pre>
<p>联结多个表<br>SQL对一条SELECT语句中可以联结的表的数目没有限制。<br>    SELECT prod_name , vend_name , prod_price ,quantity<br>    FROM orderitems,products,vendors<br>    WHERE products.vend_id &#x3D; vendors.vend_id<br>    AND orderitems.prod_id &#x3D; products.prod_id<br>    AND order_num &#x3D; 2005;</p>
<p>第十六章：创建高级联结</p>
<p>使用表别名<br>别名除了用于列名和计算字段外，SQL还允许给表名起别名。这样做的有两个主要原因：<br>1、缩短SQL语句；<br>2、允许在单条SELECT语句中多次使用相同的表。<br>如下：<br>    SELECT cust_name , cust_contact<br>    FROM customers AS c , orders AS o , orderitems AS oi<br>    WHERE c.cust_id &#x3D; o.cust_id<br>    AND oi.order_num &#x3D; o.order_num<br>    AND prod_id &#x3D; ‘TNT2’;</p>
<pre><code>注意：表别名只在查询执行中使用。与列别名不一样，表别名不返回到客户机。
</code></pre>
<p>使用不同类型的联结（自联结、自然联结、外部联结）：<br>    子查询：<br>    SELECT prod_id , prod_name<br>    FROM products<br>    WHERE vend_id &#x3D; (SELECT vend_id<br>                    FROM products<br>                    WHERE prod_id &#x3D; ‘DTNTR’);</p>
<pre><code>结果相同的自联结查询：
SELECT p1.prod_id , p1.prod_name
FROM products AS p1 , products AS p2
WHERE p1.vend_id = p2.vend_id
AND p2.prod_id = &#39;DTNTR&#39;;

有时处理联结远比处理子查询快得多。应该试一下两种方法，以确定哪种性能更好。
</code></pre>
<p>自然联结：</p>
<p>外部联结：<br>联结包含了那些在相关表中没有关联行的行。这种类型的联结称为外部联结。<br>    SELECT customers.cust_id , orders.order_num<br>    FROM customers LEFT OUTER JOIN orders<br>    ON customers.cust_id &#x3D; orders.cust_id;</p>
<pre><code>RIGHT指出的是OUTER JOIN右边的表，而LEFT指出的是OUTER JOIN左边的表。
上面的例子使用LEFT OUTER JOIN 从 FROM 子句的左边表（customers表）中选择所有行。
记住：永远用小的结果集驱动大的结果集。
</code></pre>
<p>注意：与内部联结关联两个表中的行不同的是，外部联结还包括没有关联行的行。</p>

      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/droped-third-party-analysis-service/" rel="next" title="已弃用第三方统计代码">
                <i class="fa fa-chevron-left"></i> 已弃用第三方统计代码
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/fix-phpmyadmin-on-amh-5-1-cant-login-independently/" rel="prev" title="解决 AMH 5.1 面板安装的 phpMyAdmin 无法独立登录的问题">
                解决 AMH 5.1 面板安装的 phpMyAdmin 无法独立登录的问题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">1451</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">889</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5358884258"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Laird Lau</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
