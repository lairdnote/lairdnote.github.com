<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<meta name="baidu-site-verification" content="codeva-HZoIBm8yNp" />








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Liunx Python Rust Goalng DevOPS" />










<meta name="description" content="个人随想，瞎子的世界">
<meta property="og:type" content="website">
<meta property="og:title" content="逐流小站">
<meta property="og:url" content="https://blog.feedscoin.com/page/27/index.html">
<meta property="og:site_name" content="逐流小站">
<meta property="og:description" content="个人随想，瞎子的世界">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Laird Lau">
<meta property="article:tag" content="Liunx Python Rust Goalng DevOPS">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blog.feedscoin.com/page/27/"/>





  <title>逐流小站</title>
  





<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MW47YH6RH0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MW47YH6RH0');
</script>





<meta name="generator" content="Hexo 7.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">逐流小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">想回到那个能随便跳槽的年代</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/Valine%E6%90%AD%E9%85%8DServer%E9%85%B1%E5%AE%9E%E7%8E%B0%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E6%8E%A8%E9%80%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Valine%E6%90%AD%E9%85%8DServer%E9%85%B1%E5%AE%9E%E7%8E%B0%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E6%8E%A8%E9%80%81/" itemprop="url">Valine 搭配 Server 酱实现博客评论推送</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-06T18:15:14+08:00">
                2019-11-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%8B%AC%E7%AB%8B%E5%8D%9A%E5%AE%A2/" itemprop="url" rel="index">
                    <span itemprop="name">独立博客</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          所以，说白了我们就是想利用它这个“云引擎”来调用 Server 酱的接口，幸运的是，LeanCloud 提供的 Hooks 目前是支持 Nodejs 的，所以，到这里思路就非常清晰了，我们给`Comment`这张表加一个`AfterSave`类型的 Hooks，在保存完以后调用 Server 酱接口推送评论信息即可;[Valine](https://valine.js.org/)是一个基于[LeanCloud](https://leancloud.cn)的评论系统，在很长的一段时间里，一直作为多说、[Gitalk](https://gitalk.github.io/)、[Gitment](https://github.com/imsun/gitment)等等的一个替代品，博主所使用的评论系统实际上就是 Valine，虽然独立博客的整体活跃度无法媲美专业博客，可还是想在这纷扰的世界里有自己的一方天地啊;Valine 本身是利用 LeanCloud 的数据存储 SDK 来实现评论的读写的，所以，它相对于“多说”这种第三方的服务，在数据安全性上更有保障一点，虽然“多说”在关闭评论服务以前，提供了导出 JSON 格式评论信息的功能
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/Valine%E6%90%AD%E9%85%8DServer%E9%85%B1%E5%AE%9E%E7%8E%B0%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E6%8E%A8%E9%80%81/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/839d1638.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/839d1638.html" itemprop="url">分享一些好用的网站（二）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-05T15:32:12+08:00">
                2019-11-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>半年前写了一篇<a target="_blank" rel="noopener" href="https://4ark.me/posts/share-site.html">《分享一些好用的网站》</a>记录了我之前常用的一些网站，现在过去半年，收藏夹也多了一些网站，特地记录下来，希望能对你有所帮助。</p>
<p>由于这些网站都比较杂，我也懒得分类了。</p>
<h2 id="太长不看版"><a href="#太长不看版" class="headerlink" title="太长不看版"></a>太长不看版</h2><ol>
<li>临时邮箱 <a target="_blank" rel="noopener" href="https://temp-mail.org/zh">https://temp-mail.org/zh</a></li>
<li>域名注册商比较 <a target="_blank" rel="noopener" href="https://www.nazhumi.com/domain/.com">https://www.nazhumi.com/domain/.com</a></li>
<li>Tables Generator <a target="_blank" rel="noopener" href="http://www.tablesgenerator.com/html_tables#">http://www.tablesgenerator.com/html_tables#</a></li>
<li>图片放大 <a target="_blank" rel="noopener" href="http://waifu2x.udp.jp/index.zh-CN.html">http://waifu2x.udp.jp/index.zh-CN.html</a></li>
<li>物联网搜索引擎 <a target="_blank" rel="noopener" href="https://www.shodan.io/">https://www.shodan.io</a></li>
<li>AST Explorer <a target="_blank" rel="noopener" href="https://astexplorer.net/">https://astexplorer.net</a></li>
<li>Linux 命令搜索 <a target="_blank" rel="noopener" href="http://git.io/linux">http://git.io/linux</a></li>
<li>Vue render <a target="_blank" rel="noopener" href="https://vuejs-tips.github.io/compiler/#inline-template">https://vuejs-tips.github.io/compiler/#inline-template</a></li>
<li>图片转矢量图 <a target="_blank" rel="noopener" href="https://www.vectorizer.io/">https://www.vectorizer.io</a></li>
<li>在线免费作图 <a target="_blank" rel="noopener" href="https://www.processon.com/">https://www.processon.com</a></li>
<li>拾色器 <a target="_blank" rel="noopener" href="https://color.hailpixel.com/">https://color.hailpixel.com</a></li>
<li>在线幻灯片 <a target="_blank" rel="noopener" href="https://slides.com/">https://slides.com</a></li>
</ol>
<h2 id="1、TempMail（临时邮箱）"><a href="#1、TempMail（临时邮箱）" class="headerlink" title="1、TempMail（临时邮箱）"></a>1、TempMail（临时邮箱）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105152931.png"></p>
<p>有时候注册某些论坛必须提供邮箱，但你又不想使用你常用的邮箱时，临时邮箱应运而生，在注册这些不重要的服务时使用临时邮箱作为替身是个很好的选择。临时邮箱具有匿名性，能有效减少垃圾邮件；同时具有时效性，邮箱在短时间内会自毁。</p>
<p>建议：</p>
<ul>
<li>使用完后手动删除邮件</li>
</ul>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://temp-mail.org/zh">https://temp-mail.org/zh</a></p>
</blockquote>
<h2 id="2、哪煮米（域名注册商比价）"><a href="#2、哪煮米（域名注册商比价）" class="headerlink" title="2、哪煮米（域名注册商比价）"></a>2、哪煮米（域名注册商比价）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105153609.png"></p>
<p>当你想购买一个域名而不知道选哪个注册商时，这个网站可以帮助你对一些价格进行评分。</p>
<p>该站目前已经收录了 58 家域名注册商，可注册域名后缀将近有 2000 个，相关信息还在不断收集中。</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://www.nazhumi.com/">https://www.nazhumi.com</a></p>
</blockquote>
<h2 id="3、Table-Generator（表格生成）"><a href="#3、Table-Generator（表格生成）" class="headerlink" title="3、Table Generator（表格生成）"></a>3、Table Generator（表格生成）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105154026.png"></p>
<p>还记得我当时做一个项目，需要展示十几个不规则的报表，当时弄了一下午愣是没画出一个，终于让我发现这个网站，简直就是神器，只要像在 Excel 一样拽拉合并就可以直接生成 HTML 代码，顿时提高了百倍工作效率。</p>
<p>另外除了 HTML，它还支持：LaTeX、Text、Markdown 等</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="http://www.tablesgenerator.com/html_tables">http://www.tablesgenerator.com/html_tables</a></p>
</blockquote>
<h2 id="4、waifu2x（图片无损放大降噪）"><a href="#4、waifu2x（图片无损放大降噪）" class="headerlink" title="4、waifu2x（图片无损放大降噪）"></a>4、waifu2x（图片无损放大降噪）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105154646.png"></p>
<p>这个网站厉害了，可以将图片无损放大数倍，似乎是通过卷积神经网络等高科技（咱也不懂），反正好用就是了，如果以后刚好有这个需求，不妨用起来，亲测好用！</p>
<p>下面放一个对比图</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/%E4%B8%8B%E8%BD%BD.jpeg"></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/%E4%B8%8B%E8%BD%BD_waifu2x_art_noise1_scale_tta_1.png"></p>
<h2 id="5、shodan（物联网搜索引擎）"><a href="#5、shodan（物联网搜索引擎）" class="headerlink" title="5、shodan（物联网搜索引擎）"></a>5、shodan（物联网搜索引擎）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105160718.png"></p>
<p>首先，Shodan 是一个搜索引擎，但它与 Google 这种搜索网址的搜索引擎不同，Shodan 是用来搜索网络空间中在线设备的，你可以通过 Shodan 搜索指定的设备，或者搜索特定类型的设备。</p>
<p>好了，感兴趣的同学可以自行查阅资料，这里不好叙述过多。。</p>
<p>不过请不要做坏事哦。</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://www.shodan.io/">https://www.shodan.io</a></p>
</blockquote>
<h2 id="6、AST-Explorer（解析器生成-AST）"><a href="#6、AST-Explorer（解析器生成-AST）" class="headerlink" title="6、AST Explorer（解析器生成 AST）"></a>6、AST Explorer（解析器生成 AST）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105162317.png"></p>
<p>如果你在学习 AST 抽象语法树，那么这个网站很对你很有帮助，它可以展示将你输入的代码经过 parser 处理为 AST 的过程。</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://astexplorer.net/">https://astexplorer.net</a></p>
</blockquote>
<h2 id="7、Linux-命令搜索"><a href="#7、Linux-命令搜索" class="headerlink" title="7、Linux 命令搜索"></a>7、Linux 命令搜索</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105163308.png"></p>
<p>有时候需要用到 Linux 命令但一时想不出去的时候，可以在上面搜一下，支持命令、描述搜索。</p>
<p>目前已收集 568 个命令，无聊时也可以上去看看，增加一下印象。</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="http://git.io/linux">http://git.io/linux</a></p>
</blockquote>
<h2 id="8、Vue-render"><a href="#8、Vue-render" class="headerlink" title="8、Vue render"></a>8、Vue render</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105164607.png"></p>
<p>一个将 Vue HTML 编译为 JavaScript 的工具（有助于 Debug 和理解 Vue），深入学习 Vue 是如何把 HTML 编译成 JavaScript 有助于让你了解原理。</p>
<p>另外网站已经内置很多案例，可以快速查看一些内置指令在 render 函数中是如何编写的。</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://vuejs-tips.github.io/compiler/#inline-template">https://vuejs-tips.github.io/compiler/#inline-template</a></p>
</blockquote>
<h2 id="9、Vectorizer（图片转矢量图）"><a href="#9、Vectorizer（图片转矢量图）" class="headerlink" title="9、Vectorizer（图片转矢量图）"></a>9、Vectorizer（图片转矢量图）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105165152.png"></p>
<p>该网站可以将位图转成矢量图（SVG），不仅支持 PNG、BMP、JPEG 格式，而且完全免费，亲测效果不错。</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://www.vectorizer.io/">https://www.vectorizer.io</a></p>
</blockquote>
<h2 id="10、processOn（免费在线作图）"><a href="#10、processOn（免费在线作图）" class="headerlink" title="10、processOn（免费在线作图）"></a>10、processOn（免费在线作图）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105165623.png"></p>
<p>ProcessOn 是一个在线协作绘图平台，为用户提供最强大、易用的作图工具！支持在线创作流程图、思维导图、组织结构图、网络拓扑图、BPMN、UML 图、UI 界面原型 …</p>
<p>之前做技术分享时用过一次，觉得挺不错的，免费版不支持直接导出高清图，解决方法就是先导入 SVG 再用别的工具转成 png。</p>
<p>但这个网站免费版只能在线存储 9 张图（包括回收站），目前的做法是先导入备份，有需要再导入。</p>
<p>这里推荐另外一个类似的网站 <a target="_blank" rel="noopener" href="https://www.draw.io/">draw.io</a>，不同之处在于：</p>
<ul>
<li>英文、可在线存储（利用 Google）、完全免费、不限数量</li>
</ul>
<p>所以如果是常用的话，建议还是使用 draw.io</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://processon.com/">https://processon.com</a></p>
</blockquote>
<h2 id="11、Colordot（拾色器）"><a href="#11、Colordot（拾色器）" class="headerlink" title="11、Colordot（拾色器）"></a>11、Colordot（拾色器）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105171134.png"></p>
<p>这个网站的特点就是通过摇动滑鼠轻松找出配色灵感，对于我这种不是很懂配色的人，以后就可以在上面挑几个比较顺眼的啦。</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://color.hailpixel.com/">https://color.hailpixel.com</a></p>
</blockquote>
<h2 id="12、Sliders（在线幻灯片）"><a href="#12、Sliders（在线幻灯片）" class="headerlink" title="12、Sliders（在线幻灯片）"></a>12、Sliders（在线幻灯片）</h2><p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20191105171436.png"></p>
<p>可以在浏览器中创建在线幻灯片，轻松做出简洁实用的幻灯片，对于开发者需要制作技术分享文稿时是个不错的选择。</p>
<p>但 Sliders 的一些高级功能是要收费的，仅提供一些基本的使用，如果愿意折腾不妨使用这个 <a target="_blank" rel="noopener" href="https://github.com/hakimel/reveal.js">Reveal.js</a>。</p>
<blockquote>
<p>网站链接：<a target="_blank" rel="noopener" href="https://slides.com/">https://slides.com</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/bebf2aea.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/bebf2aea.html" itemprop="url">HTTPS 与加密那些事儿</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-04T17:57:45+08:00">
                2019-11-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>HTTPS 在我们日常中经常能用到，我们经常说 HTTPS 安全，那么你知道它为什么安全吗？有些同学会说：是因为加密啊，那么你知道它是怎么加密的吗？</p>
<p>如果你对此不是很明白，欢迎阅读本文，希望能让你解开 HTTPS 的迷雾，但如果你是大神级别的人物，那么请轻喷，因为我也不是很懂。。</p>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>在说 HTTPS 之前，我们需要先知道 HTTP，HTTP 是基于 TCP 协议的一个无状态协议，如果你不是很懂欢迎阅读我上一篇文章，<a target="_blank" rel="noopener" href="https://4ark.me/post/b6c7c0a2.html">在浏览器输入 URL 回车之后发生了什么</a>，此文讲解了一个 HTTP 请求的过程。</p>
<p>缺点：</p>
<ol>
<li>使用明文进行传输，内容可能被窃听</li>
<li>不验证通信方的身份，通信方的身份可能是伪装</li>
<li>无法证明报文的完整性，报文有可能被篡改</li>
</ol>
<h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><p>HTTPS 并不是一个新协议，而是 HTTP 先和 <a href="SSL/TLS">SSL&#x2F;TLS</a>，再由 SSL&#x2F;TLS 和 TCP 通信。也就是说 HTTPS 使用了隧道进行通信。</p>
<p>为什么不直接对 HTTP 报文进行加密，而是多加一层 SSL&#x2F;TLS 呢？因为 HTTP 报文分为报文首部和报文主体，如果只对发送内容进行加密（也就是报文主体），而未加密的报文首部信息也会导致信息不安全。</p>
<p>在开始讲之前我们需要介绍一下加密算法。</p>
<h2 id="加密算法"><a href="#加密算法" class="headerlink" title="加密算法"></a>加密算法</h2><p>加密算法的实现原理是公开的，读者可能觉得这观点很奇怪，很多开发者喜欢设计千奇百怪的算法，窃以为别人并不知道，其实自行设计的算法根本不具备严格的数学模型，很容易被攻破。流行的密码学算法其算法实现是公开的，经过了长时间的考验。</p>
<h3 id="对称加密"><a href="#对称加密" class="headerlink" title="对称加密"></a>对称加密</h3><p>简单来说就是加密和解密都是通过同一个密钥，比如我要传输的明文是 <code>5201314</code>，我在传输前将明文的所有数字+1，得到：<code>6302425</code>，然后接收方根据相同的密钥将密文进行解密，得到明文。</p>
<p>一般的对称加密算法是使用 XOR（异或） 这个特点，例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5201314</span> <span class="comment">// 明文</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">123456</span> <span class="comment">// 密钥</span></span><br><span class="line"><span class="keyword">var</span> c = a ^ b <span class="comment">// 加密</span></span><br><span class="line"><span class="keyword">var</span> d = c ^ b <span class="comment">// 解密 =&gt; 5201314</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果对按位操作符感兴趣可以阅读我之前的文章：<a target="_blank" rel="noopener" href="https://4ark.me/post/learn-bitwise-operators.html">深入理解按位操作符</a></p>
</blockquote>
<h4 id="一次性加密"><a href="#一次性加密" class="headerlink" title="一次性加密"></a>一次性加密</h4><p>上面这个例子就是一次性加密，在不知道密钥的情况下，理论上是无法破解，因为即便你遍历了所有情况，但由于你不确定破译出来的是不是原文，所以这就是它无法破解的原因。这个理论是香农(C.E.Shannon)于 1949 年通过数学方法加以证明的。</p>
<h4 id="DES-加密"><a href="#DES-加密" class="headerlink" title="DES 加密"></a>DES 加密</h4><p>DES 是 1977 年美国联邦信息处理标准中采用的一种对称加密算法，但是在 1998 年已经被成功破解，耗时紧紧 22 小时，目前不再推荐使用。</p>
<p>它是一种把 64 位明文加密成 64 位密文的对称加密算法，也就是一次性只能加密 64 位，如果超过了 64 位，就需要进行分组加密。</p>
<p>对称加密还有很多种，想要了解更多可以查看这篇文章：<a target="_blank" rel="noopener" href="https://halfrost.com/symmetric_encryption/">漫游对称加密算法</a></p>
<h4 id="对称加密的缺点"><a href="#对称加密的缺点" class="headerlink" title="对称加密的缺点"></a>对称加密的缺点</h4><p>无论对称加密算法再怎么复杂，它们都有一个共同的弱点，就是</p>
<ul>
<li>如何传输密钥</li>
</ul>
<p>如果我们要和接收方进行通信，我们需要提前协商好一个密钥，那么这个如何才能保证密钥能安全地送达，而不会落到中间人手中？</p>
<p>自然是将密钥进行加密，但如何依然使用对称加密，那是不是又需要另外一个密钥？所以这就陷入死循环了。</p>
<p>这时候就要介绍密码学上伟大的发明：RSA（公钥私钥密码算法），也就是非对称加密算法。</p>
<h3 id="非对称加密算法"><a href="#非对称加密算法" class="headerlink" title="非对称加密算法"></a>非对称加密算法</h3><blockquote>
<p>1977 年，三位数学家 Rivest、Shamir 和 Adleman 设计了一种算法，可以实现非对称加密。这种算法用他们三个人的名字命名，叫做<a target="_blank" rel="noopener" href="http://zh.wikipedia.org/zh-cn/RSA%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95">RSA 算法</a>。</p>
</blockquote>
<p>非对称加密有公钥和私钥，也就是私钥加密的密文只有公钥才能解密，公钥加密的密文只有私钥才能解密。</p>
<p>关于原理部分我认为阮一峰老师的这篇文章<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html">RSA 算法原理</a>已经讲得很通俗易懂了，这里不再赘述。</p>
<h4 id="非对称加密的缺点"><a href="#非对称加密的缺点" class="headerlink" title="非对称加密的缺点"></a>非对称加密的缺点</h4><p>非对称加密虽然安全，至今都无法被破解，但也不是完全没有缺点的，一个比较显著的缺点就是加密时需要经过大量的计算，消耗计算机资源。</p>
<h2 id="HTTPS-采用的加密方式"><a href="#HTTPS-采用的加密方式" class="headerlink" title="HTTPS 采用的加密方式"></a>HTTPS 采用的加密方式</h2><p>对称加密特点：</p>
<ul>
<li>优点：运算速度快</li>
<li>缺点：密钥容易被获取</li>
</ul>
<p>非对称加密特点：</p>
<ul>
<li>优点：更安全</li>
<li>缺点：运算速度慢</li>
</ul>
<p>很明显，如果 HTTPS 采用非对称加密的话，会消耗大量的计算资源，那么有没有一种方式可以解决这个问题呢？有的。</p>
<p>我们知道对称加密的缺点就是密钥的分发问题，既然这样，我们可以使用非对称加密对密钥进行加密，保证只有通信双方知道密钥后，接着就可以使用对称加密进行通信。</p>
<h2 id="认证"><a href="#认证" class="headerlink" title="认证"></a>认证</h2><p>但依然存在一个很严重的问题就是：<strong>公钥如何分发？</strong></p>
<p>因为客户端无法确认公钥是来自服务器还是来自中间人，所以需要一个客户端和服务器双方都信赖的第三方机构，配分配公钥，这个机构就叫做 数字证书认证机构（CA，Certificate Authority）。</p>
<p>进行 HTTPS 通信时，服务器会把证书发送给客户端，客户端取得其中的公开密钥之后，先进行验证，如果验证通过，就可以开始通信。</p>
<p>但依然存在问题：<strong>证书怎么安全传输？ 被篡改了怎么办？</strong></p>
<p>使用数字签名就好了，简单来说就是将公钥和个人信息用一个 Hash 算法生成一个信息摘要。我们知道 Hash 算法有个极好的特征，只要输入的数据有一点点变化，那生成的信息摘要就会发生巨变，这样就可以防止别人修改原始内容。</p>
<p>但还有个问题就是，<strong>如何防止别人冒充 CA？</strong></p>
<p>如果连 CA 都无法信任的话，那么之前的一切都是徒劳的，所以必须打破僵局，我们必须信任 CA。</p>
<p>CA 是像树一样分级的，在操作系统&#x2F;浏览器中都会内置一些顶层的 CA 证书，而这些顶层 CA 会为上层的 CA 做信用背书。</p>
<p>说到底其实我们相信的是操作系统&#x2F;浏览器，如果中间人连这个都可以伪装，那么我们就没有安全可言了。</p>
<h2 id="HTTPS-中的-TLS-SSL-协议"><a href="#HTTPS-中的-TLS-SSL-协议" class="headerlink" title="HTTPS 中的 TLS &#x2F; SSL 协议"></a>HTTPS 中的 TLS &#x2F; SSL 协议</h2><blockquote>
<p>能让 HTTPS 带来安全性的是其背后的 TLS 协议。它源于九十年代中期在 Netscape 上开发的称为安全套接字层(SSL)的协议。到 20 世纪 90 年代末，Netscape 将 SSL 移交给了 IETF，IETF 将其重命名为 TLS，并从此成为该协议的管理者。许多人仍将 Web 加密称作 SSL，即使绝大多数服务已切换到仅支持 TLS。</p>
</blockquote>
<p>TLS&#x2F;SSL 协议位于应用层和传输层 TCP 协议之间，注意 TLS&#x2F;SSL 并不是只有 HTTP 才能使用，而是位于应用层的协议都可以使用，换句话说 TLS&#x2F;SSL 协议 是用于加密应用层协议并传递给下层的 TCP。</p>
<p>TLS 粗略的划分又可以分为 2 层：</p>
<ul>
<li>靠近应用层的握手协议 TLS Handshaking Protocols</li>
<li>靠近 TCP 的记录层协议 TLS Record Protocol</li>
</ul>
<p>TLS 握手协议还能细分为 5 个子协议：</p>
<ul>
<li>change_cipher_spec (在 TLS 1.3 中这个协议已经删除，为了兼容 TLS 老版本，可能还会存在)</li>
<li>alert</li>
<li>handshake</li>
<li>application_data</li>
<li>heartbeat (这个是 TLS 1.3 新加的，TLS 1.3 之前的版本没有这个协议)</li>
</ul>
<p>TLS&#x2F;SSL 可以查看以下流程：</p>
<p><img src="https://i.loli.net/2019/11/05/ALpa2NBYJfsgi3c.png"></p>
<h3 id="握手失败"><a href="#握手失败" class="headerlink" title="握手失败"></a>握手失败</h3><p>浏览器访问 HTTPS 网站的时候，在握手阶段可能会存在错误，比如证书的有效期过期、证书是自签名证书、客户端和服务器无法协商出一致的密码套件，遇到类似的情况，浏览器会出现一个错误页面，告知用户存在的问题。</p>
<p>一般握手失败时，浏览器会直接告诉用户该网站不安全。</p>
<p>其实 TLS &#x2F; SSL 协议的原理是很复杂的，如何感兴趣可以看一下《深入浅出 HTTPS》这本书。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li>《深入浅出 HTTPS》</li>
<li><a target="_blank" rel="noopener" href="https://halfrost.com/https-begin/">HTTPS 温故知新</a></li>
<li><a target="_blank" rel="noopener" href="https://halfrost.com/symmetric_encryption/">漫游对称加密算法</a></li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019-10-30-fight-with-big-data/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019-10-30-fight-with-big-data/" itemprop="url">像做产品一样做大数据 - 读《决战大数据》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-30T20:00:01+08:00">
                2019-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>车品觉是《决战大数据》的作者，阿里巴巴的前副总裁，红杉资本中国基金专家合伙人。在阿里巴巴的 6 年，车品觉从刚开始只负责支付宝，到后来负责淘宝，最后负责整个阿里集团的数据工作。</p>
<p>作为大数据背景，很难有第二人能够做到这样的职业跃升。在看完整本书后，我才明白了，原来车品觉不单单只是在做大数据，而是把大数据当作一个产品，把业务负责人及需求方当作用户，不但在大数据的产品上做到了创新，而且还深度理解和配合业务方，难怪他最后能够统管整个阿里集团的数据工作。</p>
<p>那么车品觉做了哪些亮点的事情呢？以下是我的小结。</p>
<h2 id="把数据报告当成产品"><a href="#把数据报告当成产品" class="headerlink" title="把数据报告当成产品"></a>把数据报告当成产品</h2><p>数据报告最容易做成例行的数据罗列，如果是罗列数据，那么数据团队就真正只是在做数据了。</p>
<p>车品觉首先觉得数据报告应该做成一个好产品，那么好的产品是什么样的呢？他列了一些要求：</p>
<ul>
<li>有好的开头。报告的前 3 页一定要吸引人，让人有欲望读下去</li>
<li>有结论。当有人猜测数据背后的各种原因时，下一页要解答他的疑问</li>
<li>有讨论。每次的数据报告如果高层只看了 5 分钟，就是失败的。车品觉后来做到了每份报告被讨论几个讨论。</li>
</ul>
<p>为了达成以上的目标，在执行层面，车品觉又做了下面这些事情。</p>
<h2 id="深入用户"><a href="#深入用户" class="headerlink" title="深入用户"></a>深入用户</h2><p>将日常的业务需求与紧急的数据需求拆开，然后车品觉自己天天和业务高层混在一起，了解他们当前最关心的事情，然后利用自己的数据突击队，提供这些事情的数据支撑。</p>
<p>车品觉和业务高层紧密接触就相当于产品经理和用户紧密接触一样，只有这样才知道核心的需求在哪里，才能抽像出需求，及时响应，而不是等着用户提需求。</p>
<p>在车品觉的团队给高管做报告的时候，车品觉不会看报告，而是主要记录高管们什么时候记了笔记，什么时候在玩手机。因为高管看手机的时间，就说明数据报告相关的内容没有吸引力，应该改进。</p>
<p>在车品觉负责整个阿里集团的数据时，他也将这个理念口号化，他提出数据同事要 “混、通、晒”，这里中的 “混”，就是和业务团队混在一起，深入业务。</p>
<h2 id="数据产品创新"><a href="#数据产品创新" class="headerlink" title="数据产品创新"></a>数据产品创新</h2><p>在深入了解需求，努力提供有吸引力的数据报告的同时，车品觉也在不停地整理需求，提供创新性的数据产品。他针对阿里的高层、中层都分别做了合适的数据产品，方便不同职位的同事便利地获取数据。</p>
<p>他在技术上也努力创新，曾经有一个数据产品需求，没有哪个技术同事可以做到 3 秒以内出结果，但是他坚持要做到 3 秒以内，最后终于找到了一个能够做到的同事，这个同事后来做到了腾讯数据中心总经理。</p>
<h2 id="建立数据原则、理念与方法论"><a href="#建立数据原则、理念与方法论" class="headerlink" title="建立数据原则、理念与方法论"></a>建立数据原则、理念与方法论</h2><p>车品觉将自己的数据工作整理成了各种原则、理念和方法论，方便在整个集团进行推行。</p>
<p>他将数据工作分成两类：</p>
<ul>
<li>运营数据，是指将数据进行收集、整理，然后进一步提供数据创新或改善的工作。</li>
<li>数据化运营，是指将已有的数据进行分析判断，进而解决我们业务当中的各种问题。</li>
</ul>
<p>对这两类工作，车品觉提出了运营数据的「存、管、用」，以及数据化运营的「混、通、晒」原则。</p>
<img src="/images/fight-with-big-data.png" class="">

<h3 id="运营数据的「存、管、用」"><a href="#运营数据的「存、管、用」" class="headerlink" title="运营数据的「存、管、用」"></a>运营数据的「存、管、用」</h3><p>现在这个大数据时代，业务 &#x2F; 产品负责人很容易想当然地把数据尽可能地收集。但是数据增长实在太快了，如果我们没有目标，那么收集到再多的数据也没有意义。</p>
<p>车品觉自己在经历过很长一段盲目收集数据，不知道如何备份和管理数据的日子后，终于觉得：数据收集应该有目的性。他在书中说：「我们必须知道这些数据未来可以用来做什么，如果今天都想不出来的话，日后就更不可能了」。</p>
<p>车品觉将这个理念整理到他的数据原则：「存、管、用」中。</p>
<ul>
<li>存：就是指衡量收集多少数据、哪些数据才足够。</li>
<li>管：如何管理如此多的大数据。</li>
<li>用：如何使它们实现更大的价值。</li>
</ul>
<p>在保存数据的时候，我们需要「假定数据是脏的」，对数据进行合理的清洗，因为大数据来源各种各样，很容易获得脏数据。脏数据不进行处理的话，所有的后续结果都会是错的。</p>
<h3 id="数据化运营的「混、通、晒」"><a href="#数据化运营的「混、通、晒」" class="headerlink" title="数据化运营的「混、通、晒」"></a>数据化运营的「混、通、晒」</h3><p>数据化运营，是指利用现有的数据来解决业务运营中的各类问题。</p>
<p>车品觉提出了「混、通、晒」的口号：</p>
<ul>
<li>混：是指数据分析师需要和业务混在一起。这样才会有商业的敏感度，知道当前业务部门最关心什么问题，最关心什么数据。</li>
<li>通：通有两层意思。我们首先需要将不同地方收集到的数据打通，也需要将商业理解和数据之间的联系打通。</li>
<li>晒：是指数据要易于获取，易于呈现和理解。相关的报告要人性化，相关的系统要好用。</li>
</ul>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>车品觉的这本书对我的最大感受，还是来自于他的类似于做产品的创新意识。很多人做工作就只是重复前人的做法，车品觉将自己的工作产出看成一个高品质的产品，用做产品的思路来做大数据分析。</p>
<p>战略对了，战术也就很容易了，战术执行上车品觉的深入理解用户，提创新解决方案，总结方法论都将大数据分析高质量地落地了，帮助业务的同时，也成就了自己成为负责整个阿里集团的数据工作的副总裁。</p>
<p>天下无难事，就怕有心人。与君共勉。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/posts/why-i-became-a-programmer.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/why-i-became-a-programmer.html" itemprop="url">我为什么会成为一名程序员</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-27T16:18:43+08:00">
                2019-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>今天突发奇想，心里冒出一个很奇怪的问题：我为什么会成为一名程序员？</p>
<p>其实也是在问，我成为程序员的初心是什么？</p>
<h2 id="接触电脑"><a href="#接触电脑" class="headerlink" title="接触电脑"></a>接触电脑</h2><p>第一次接触电脑应该是在小学四年级被同学带去网吧玩游戏，那时候对电脑的印象就是一台比较大的游戏机，从此以后我就成了一名网瘾少年，终日泡在网吧，但那时对于计算机的认识也只停留在玩游戏上。</p>
<p>不过这也让我从小对任何所接触的电子产品都感兴趣，到后来学会自己利用网上的教程去刷机、拆机等，总之那时就养成了比较爱折腾的习惯。</p>
<h2 id="初中辍学、读技校"><a href="#初中辍学、读技校" class="headerlink" title="初中辍学、读技校"></a>初中辍学、读技校</h2><p>初二那年我 14 岁，因为叛逆期的缘故，我辍学了，那时我就出来工作，我做过一些工厂的杂工、服务员等。</p>
<p>就这样过了两年，因为家人的劝说和自己也觉得需要重回学校学习，所以我还是决定回去读书。</p>
<p>因为从小对计算机感兴趣，所以选择了这个专业，现在看来，可能这是影响一生的决定。</p>
<h2 id="接触编程"><a href="#接触编程" class="headerlink" title="接触编程"></a>接触编程</h2><p>进入学校第三个学期，我才真正开始接触编程，那时候我们还没有相关的课程，只能自己学习，我开始接触 HTML、CSS，从此以后，我开始每天不孜不倦地学习，但那时候也没想过自己以后会从事这方面的工作，甚至连“程序员”、“前端开发”这些名称都没听说，但因为兴趣的缘故，我坚持了下来，那段时间没有一个同学和我交流，他们也不懂我做出一个看上去很难看的网页喜悦的心情。</p>
<h2 id="进入工作室"><a href="#进入工作室" class="headerlink" title="进入工作室"></a>进入工作室</h2><p>在第四个学期，我进入了学校的前端开发工作室，接触到比我厉害的师兄，我才真正明确以后要从事什么工作。</p>
<p>在不断的学习中，我经历了很多次从觉得自己很厉害、到发现其实自己懂得很少的阶段。</p>
<p>但我从来没有想过放弃编程，因为它确实改变了我的人生，而编程也能让我感到快乐，那是探索、创造的乐趣。</p>
<h2 id="工作之后"><a href="#工作之后" class="headerlink" title="工作之后"></a>工作之后</h2><p>之前我认为每个之所以成为程序员的人，都是因为对编程感兴趣，但后来发现也并不完全是，有些人的兴趣并不在此，他们做程序员的目的也不那么纯碎，可能是为了薪资高、为了谋生…</p>
<p>但我认为大部分程序员最初的目的肯定也是因为感兴趣使然，只是他们后来因为各种原因，忘记了最开始的初心。</p>
<p>我不想变成他们那样，但怎样才能让自己的初心不变呢？我思来想去，只有跟自己有共同想法的人一起工作，因为只有这样，我们可以一直督促自己前行。</p>
<h2 id="我的初心"><a href="#我的初心" class="headerlink" title="我的初心"></a>我的初心</h2><p>从我接触编程至今，我对技术始终保持浓烈的兴趣，虽然自知天资愚钝，但从未想过放弃。</p>
<p>我想即便不从事这个行业，我也会利用业余的时间来学习技术，当然现在更好的情况是，我可以以此当做职业。</p>
<p>因为当你的兴趣成为你的工作时，这是很幸福的。</p>
<p>我不要求自己以后成为什么技术大牛、架构师等等，只希望自己可以一直保持这份对技术的追求，这就足够了。</p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>写这篇文章的原因，是为了复盘自己为何成为程序员，也是为了告诉未来的自己，不要忘记最开始的初心是什么。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019/2019-10-27-zelda-breath-of-the-wild/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/2019-10-27-zelda-breath-of-the-wild/" itemprop="url">塞尔达传说：旷野之息（The Legend of Zelda: Breath of the Wild）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-27T00:00:00+08:00">
                2019-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>开门见山地说，「<a target="_blank" rel="noopener" href="https://www.nintendo.com/games/detail/the-legend-of-zelda-breath-of-the-wild-switch/">塞尔达传说：旷野之息</a>」是我玩过最好的 RPG（角色扮演）游戏，可能也是目前最好玩的开放世界、动作解密类的 RPG 游戏。我在八月初买了 Switch 和旷野之息之后，几乎每天晚上、每个周末都在玩，上班也要带着午休的时候玩，出门也要带着边走边玩。目前的游戏时间超过 160 小时，我觉得就算买来 Switch 只用来玩旷野之息，也值了。</p>
<p>对一个事物最好的评价应该是「恰到好处」，旷野之息就是这样一个恰到好处的游戏，很难说它有什么地方是最好的，但就是各种恰到好处的取舍，让它营造出了一个有着充分的代入感的世界，成为了最好玩的游戏。</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-rendering.jpg"></p>
<p>旷野之息选择了一种类似赛璐珞的风格来渲染 3D 模型，带来了一种非常特殊的、类似水彩画的视觉风格。旷野之息在掌机模式下是 720p 30 帧，TV 模式下是 960p 30 帧，只能说是一个中规中矩的数据，不如同时期游戏在我的 Windows PC 上的效果。实际游玩过程中在极少数光影比较复杂的雨林场景会有明显的掉帧，其他的时候都非常流畅。</p>
<h2 id="探索开放世界"><a href="#探索开放世界" class="headerlink" title="探索开放世界"></a>探索开放世界</h2><p>旷野之息首先给我带来的就是「探索」的乐趣，我在开始玩旷野之息之前并没有看太多的测评，在打开游戏时其实我对这个「世界」一无所知（尤其塞尔达传说是一个系列作品），但好在本作的主角也失去了记忆，同样对这个世界一无所知，我随着主角的视角探索着这个世界，了解之前发生过的事情，经历着很多个「第一次」，体验着很久都没有过的、有关发现的乐趣。</p>
<p><strong>如果你准备在近期游玩旷野之息，并且想充分体验这种「探索」的乐趣，那么建议你关掉这篇文章，在完成主线剧情之前不要看任何的测评、教程和攻略。</strong> 如果你不打算在近期游玩的话，还是可以继续看的，毕竟在一段时间后你的记忆就会模糊掉，不至于太严重地影响探索的乐趣。</p>
<p>有一个说法是，「开放世界」的重点不在于「开放」而在于「世界」。只有构建了一个能够让玩家产生代入感的世界，玩家才会感觉到开放，感觉自己可以在这个世界中获得自由。</p>
<p>旷野之息便做到了这一点，它有着一个非常大的无缝地图，据网友测算面积大概在 40 - 80 平方公里左右，其中有平原、湿地、火山、雪山、沙漠、峡谷等地形，因为面积足够大，这些地形之间的过渡也非常自然。更关键的是，这几十平方公里的地图是经过精心设计的，而不是随意摆放或随机生成的，地图的每一个角落都恰到好处地安排了可以互动的元素，可以是一个有趣的景观，一个驿站、一个村落、一个怪物营地、一个解谜任务，或是一个可收集要素。</p>
<p>旷野之息赋予了主角攀爬、滑翔、游泳的能力，因此这个巨大的地图对于玩家来说并不是平面的，而是立体的，玩家可以先攀爬到高处，再通过滑翔越过低处的障碍等等。地形会阻挡或引导玩家的视线，从地图上的一个点到另外一个点不再是一条直线，每一条路线上都会有不同的体验。</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-lookout.jpg"></p>
<blockquote>
<p>图为从山上远眺海拉鲁平原</p>
</blockquote>
<p>当你想要探索一个地区的时候，也会非常自然地先登上高处 —— 这是我第一次在游戏中产生这么直观的念头，也是我第一次在一个游戏里认真地俯瞰远处的事物，因为我知道视线所及的一些都是可探索的，我早晚有一天会去到那里，而不仅仅是一张贴图。前面提到的攀爬、滑翔和游泳都会用到一个「精力值」，用尽的话就会从山上跌落，所以还是要谨慎地在登山过程中寻找落脚点来休息。</p>
<p>游戏中的主线和支线任务会引导你去探索地图，所有的故事也围绕着这个地图展开。同时在游玩的过程中你也会有一种内在的动力，想要去走遍地图的每个区域。只有这样一个足够庞大和丰富的世界，才会让玩家感受到这是一个完整的世界，而不是自己被局限在某个小区域。再加上天气和昼夜的变化，在不同的时间和天气，来到同一个地方，观感是完全不同的，这在扩充了游戏内容的同时也进一步提升了代入感。</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-gradon.jpg"></p>
<blockquote>
<p>图为第一次遇到的龙，非常震撼</p>
</blockquote>
<p>我们不提人物、剧情、战斗，仅仅这个地图就值得说这么多，实际上我觉得旷野之息的要素完全是基于这张地图展开的。旷野之息并不是要复刻一个「真实」的世界（例如 GTA），而是要在其中去填充有趣的细节，给玩家带来一种经过了精心设计的探索体验。</p>
<h2 id="非线性流程"><a href="#非线性流程" class="headerlink" title="非线性流程"></a>非线性流程</h2><p>因为开放世界的缘故，旷野之息的剧情是非线性的，玩家可以自由选择完成主线和支线任务的顺序。当然游戏并不会把这些任务摆出来给你选，所以其实是很随机地，你走到了哪里就遇到了什么样的任务。这样的设定造成每个玩家的体验是完全不同的，每个玩家完成每个任务、第一次遇到某个事物的顺序都是不同的，每个玩家觉得有趣和困难的点也不同。</p>
<p>游戏一开始就告诉你了反派盖农就在城堡里，你需要去城堡里救公主。而其余大部分的剧情都是非常直接地在为这个目标服务，例如有若干段回忆（CG）告诉你一百年前发生的事情，另外一部分有关四大神兽的主线任务则是为击败盖农所做的准备。这样的设计让玩家在探索世界的过程中不至于失去目标，因为你知道你做的一切都是在积蓄力量，等待着有朝一日去城堡战胜盖农，救出公主，拯救世界。城堡位于地图的中央，在整个游戏的过程中你一直都能看得到城堡，记得自己的目标。</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-castle.jpg"></p>
<blockquote>
<p>图为远处的海拉鲁城堡</p>
</blockquote>
<p>不同于其他一些 RPG 游戏，旷野之息中并没有经验、等级和技能树这样的机制来大幅提升主角的能力；防具系统也较为简单，只能增加防御和提供一些特殊效果；完成的神庙数量会增加血量和精力槽（限制攀爬、游泳和滑翔续航）。</p>
<p>在此之外，游戏并没有限制你在什么样的阶段可以去挑战什么样的敌人。你在游戏的过程中可以感受到更大程度上是因为你的技术的提升（或者说对游戏机制的了解），你才能够逐步地去挑战更强大的敌人。除了一开始的初始台地之外，游戏也没有限制你在什么样的阶段可以去到地图的哪个区域，在非常早的阶段，你就获得了去到地图上任意一点、甚至跳过剧情直接挑战最终 Boss 的能力。</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-inside-castle.jpg"></p>
<blockquote>
<p>图为进入城堡挑战盖农之前</p>
</blockquote>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda.jpg"></p>
<blockquote>
<p>图为赛尔达公主封印盖农</p>
</blockquote>
<p>相比于其他一些游戏中手把手地、较为出戏的「新手教程」，旷野之息将所有的引导都放在了游戏流程中。一部分内容会通过不那么显眼的 NPC 对话来交待，另外一部分则可能完全没有介绍，而是将你放到一个较为封闭的环境中，然后等待你自己去摸索发现新机制的用法，然后再逐渐地增加难度、与其他机制进行组合。</p>
<h2 id="1-1-2-的互动机制"><a href="#1-1-2-的互动机制" class="headerlink" title="1 + 1 &gt; 2 的互动机制"></a>1 + 1 &gt; 2 的互动机制</h2><p>旷野之息的互动机制，包括和怪物的互动（战斗）、和环境的互动（探索）、和谜题机关的互动（解谜）都显得精简而完备，更注重将不同的元素加以组合，用少量的机制来支持多样的玩法，而不是简单地堆砌。</p>
<p>游戏中没有复杂的战斗技能，魔法效果也仅有三种：冰、火、电。但无论是武器、怪物还是环境都会和这三种基本属性发生互动。</p>
<ul>
<li>冰可以可以被火融化、拿着冰属性的武器可以抵御炎热、冰属性的武器可以冻结敌人。</li>
<li>火会产生上升气流吹起滑翔伞、火可以抵御寒冷、火可以点燃草、篝火或者敌人、烘烤食物。</li>
<li>电可以在水中传导更远、金属物体可以导电、雷属性的武器可以麻痹目标令其手持的武器掉落。</li>
</ul>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-ice-and-fire.jpg"></p>
<blockquote>
<p>图为使用篝火来融化冰块</p>
</blockquote>
<p>游戏中还有温度、天气和日夜变换，这些效果不仅仅在影响着视觉效果，也在非常积极地参与游戏机制：</p>
<ul>
<li>玩家需要穿戴对应抗性的防具来抵御过高或者过低的温度，过高的温度会烤熟食物、点燃木质武器；过低的温度则会冷冻食物。</li>
<li>雨会浇灭火、会让岩壁变得湿滑难以攀爬；金属物体在雷雨天会被雷劈。</li>
<li>风会影响草燃烧的方向、可以吹走物品、滑翔伞会沿着风的方向滑行。</li>
<li>夜晚会出现骷髅构成的敌人、萤火虫等生物；NPC 和怪物在夜晚也会睡觉；晚上会有陨石（流星）掉落；昼夜变换也会影响沙漠地区的温度。</li>
</ul>
<p>总之这些机制以一种「合乎逻辑」的方式在产生着互相作用，也在影响你游戏时的行为，你会做出一些非常符合逻辑的行为，进一步提升代入感。例如在下雨时因为难以攀爬、能见度不高，你会想要找个地方避雨，点燃篝火来消磨时间；在身上着火的时候会想要跳入水中灭火等等。</p>
<p>这样的组合机制会让玩家非常积极地去尝试新的互动类型，同时旷野之息的死亡惩罚也非常地低，游戏允许在任何时刻暂停来更换武器和防具、服用料理和药物，在除 Boss 战的任何时候传送和存档，死亡不会掉落任何物品或携带负面效果，非战斗死亡（摔死、溺水）自动在最近的安全地点复活。</p>
<h2 id="战斗、解谜和其他"><a href="#战斗、解谜和其他" class="headerlink" title="战斗、解谜和其他"></a>战斗、解谜和其他</h2><p>这个世界是如此地吸引我，以至于同样非常吸引人的战斗和解谜被我放在了最后来介绍。</p>
<p>游戏的战斗和解密共用了一套物理引擎，它支持了前面提到的冰、火、电、风等互动效果，也支持了炸弹、磁铁、冰块、时间暂停这几个有限的解谜技能。这意味着游戏中并不存在明确的「战斗技能」和「解谜技能」的区分，你可以用磁铁吸起铁块来砸死怪物，也可以用电属性的武器来点亮解密关卡中的电路。</p>
<p>虽然前面提到游戏的要素十分精简，怪物仅有十几种模型，但战斗的流畅性和打击感却意外地好，可以锁定视角、可以潜行暗杀、可以蓄力和跳劈、可以投掷、可以弹反、可以骑马战斗、在飞行中拉弓可以触发「林克时间」—— 放慢时间来提供更多瞄准的时间。同时旷野之息中有弓箭、单手剑、双手剑、枪等不同类型的武器，种类多但不重复。这些机制的组合让旷野之息即使作为一个刷怪的游戏也相当有可玩性。</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-guardian.jpg"></p>
<blockquote>
<p>图为使用弓箭射击守护者</p>
</blockquote>
<p>旷野之息有一个很有趣的设定，武器是有耐久度的，且耗尽会直接消失，无法修复。这意味着无论多厉害的武器，大概在砍了几十下之后便会消失。虽然有些朋友表示非常不舒服，但我觉得一旦接受了这种设定就会感觉到这是一个很好的设计：鼓励玩家尝试不同的武器，而不是一直用着「最好的武器」；同时后期打小怪时也不会那么无聊 —— 我通常是用比较差一点的武器打小怪。</p>
<p>因为旷野之息的地图如此之大，虽然可以随时传送，但仍有时候需要借助载具来赶路，不算 DLC 中的摩托车的话，唯一可用的载具就是马。而马这个系统的设计也非常地下功夫，和其他的游戏内容很好地结合在了一起，例如游戏中有 15 个以寄存马匹为核心服务的驿站，顺便也承担了其他一些补给功能。</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-horse.jpg"></p>
<p>马匹需要你自己去捕捉，在捕捉到马匹之后还要经过一段时间的磨合来达到最好的操控效果。在地图中有比较明显的「道路」你在骑马的时候会有意识地沿着道路来走 —— 否则马跨越障碍的能力是很差的，游戏中刻意模拟了一种「操纵另外一个生物」的感觉，让你感觉到马并不是万能的，但在有条件的时候你一定会想到它。</p>
<h2 id="DLC"><a href="#DLC" class="headerlink" title="DLC"></a>DLC</h2><p>在完成主线任务（讨伐盖农）之前我就买了 DLC，作为一个统计爱好者，主要还是看是看中了可以在大地图上显示轨迹的功能：</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2019/zelda-map.jpg"></p>
<p>DLC 中的剑之试炼和英杰的诗篇是在完成主线后开始打的，总体上来说我对这两个 DLC 并不感兴趣，原因是这两个 DLC 都以解密和限制性的战斗关卡为主，相比于游戏本体难度也有提升，但并没有给我带来探索的乐趣，截至本文发布我还未完成剑之试炼。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>旷野之息就是这样一个可以称之为艺术品的游戏，它恰到好处地营造了一个让你有着充分的代入感的世界，也提供了充实的游戏内容，可以轻松支持 200 小时左右的游戏时间。本文也仅仅是从我的个人的角度介绍了最吸引我的部分，但仍有大量的游戏机制和内容并没有提到，在此推荐所有读者尝试一下这款游戏。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019-10-25-thinking-framework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019-10-25-thinking-framework/" itemprop="url">可复用的工作模式 - 读《解决问题的商业框架图鉴》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-25T20:49:55+08:00">
                2019-10-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>什么是框架？框架是一种可复用的思考模式，通过这个模式我们可以快速地将一个问题 &#x2F; 思考 &#x2F; 工作整理清楚。</p>
<p>比如：Scrum 就是一种框架，它把工作流程分为：计划，每日站会，评审，回顾。然后在这种框架下工作就会比较舒服，既保证了沟通的透明度，又保证了进度追踪和反馈迭代。</p>
<p>又比如：SWOT 分析也是一种框架。它将环境整体分为内部和外部，然后分别进行优势和劣势的判断。</p>
<p>框架不是万能的，具体问题还需要具体分析。但框架确实给解决问题提供了一些范本，用于进行有条理的思考。同时，框架也是一种共同语言，大家用同一个框架讨论问题，就更容易同步想法，沟通见解。</p>
<p>最近看了一本框架类的书，叫《解决问题的商业框架图鉴》，把常见的框架都整理了出来。我一开始以为只是工具书，用到的时候查阅，读下来之后，发现一些常见的工作场景，都可以应用书中提到的大框架，所以收获挺多。</p>
<p>以下是一些小结，分享给大家。</p>
<h2 id="找出问题的框架"><a href="#找出问题的框架" class="headerlink" title="找出问题的框架"></a>找出问题的框架</h2><h3 id="To-be-As-is"><a href="#To-be-As-is" class="headerlink" title="To be &amp; As is"></a>To be &amp; As is</h3><p>有些时候我们遇到一个复杂问题或目标，都找不出问题在哪儿，书中提到了一个理清问题在哪儿的框架：为名「理想状态 To be 和 现状 As is」法。</p>
<p>书中举了一个将公司经营得更好的例子，什么样是更好的？首先用 To Be 和 As is 列出理想的一些状态和现状，然后就可以关注落差。</p>
<img src="/images/thinking-framework-1.png" class="">


<p>「落差」其实就是我们需要达成的目标。这样就把问题视觉化，目标清晰化了。</p>
<p>进一步，用 TAPS 就可以进一步思考问题原因和解决方案。</p>
<img src="/images/thinking-framework-2.png" class="">


<h3 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h3><p>这也是一种技巧，遇到问题，连续追问为什么，就可能找到问题的本质。</p>
<h3 id="6W2H"><a href="#6W2H" class="headerlink" title="6W2H"></a>6W2H</h3><p>这也是一种把问题了解得更清楚的框架，通过列出 Who, Whom（对谁）, What, Where, When, Why 以及 How, How much，把问题理清楚。</p>
<h2 id="分析市场"><a href="#分析市场" class="headerlink" title="分析市场"></a>分析市场</h2><h3 id="SWOT"><a href="#SWOT" class="headerlink" title="SWOT"></a>SWOT</h3><p>SWOT 是把环境当成第一维度，分析自身优势和劣势的一种框架。</p>
<img src="/images/thinking-framework-3.png" class="">

<h3 id="五力图"><a href="#五力图" class="headerlink" title="五力图"></a>五力图</h3><p>《竞争战略》那本书提到的思考角度，把竞争的来源分成 5 类。如下图：</p>
<img src="/images/thinking-framework-4.png" class="">

<h2 id="探索"><a href="#探索" class="headerlink" title="探索"></a>探索</h2><h3 id="曼陀维九宫格"><a href="#曼陀维九宫格" class="headerlink" title="曼陀维九宫格"></a>曼陀维九宫格</h3><p>有些时候为了让自己穷尽所有的想法，以便遍历出所有可能的选项，「曼陀维九宫格」可以是一个不错的办法。如下图：</p>
<img src="/images/thinking-framework-5.png" class="">

<p>「曼陀维九宫格」的使用方法：</p>
<ul>
<li>【设定中央的关键字】：在正中央的格子写下主题或关键字。</li>
<li>【写下联想到的关键字】：在周围的 8 个格子写下从中央关键字所能联想到的关键字。</li>
<li>【再写出从这里联想到的更多关键字】：在周围的 8 个 3x3 的格子里，再扩展写 8 个相关的关键字。</li>
</ul>
<p>格子的数量其实不一定非得是 8 个，可以具体情况进行表格数量的拆分或者合并。</p>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><h3 id="KPI-树状图"><a href="#KPI-树状图" class="headerlink" title="KPI 树状图"></a>KPI 树状图</h3><p>有些时候，我们需要将 KPI 拆解，而 KPI 树状图就可以很好地达到我们的目标。比如一家饭店，如果以营业额作为 KPI，那么就可以按下图的方式进行拆解。</p>
<img src="/images/thinking-framework-6.png" class="">

<p>把 KPI 拆解的好处是可以进一步细化执行，找到比较容易落地的方案。</p>
<p>我个人认为拆解也有一定的坏处，就是失掉了整体性，如果过度追求某个拆解的 KPI，可能对业务长远的或隐性的基石（比如品牌）带来影响。</p>
<h3 id="PDCA"><a href="#PDCA" class="headerlink" title="PDCA"></a>PDCA</h3><p>PDCA 将工作阶段分成计划、执行、检查、行动。其重要的就是其中的检查环节，使得迭代成为活动流程中重要的一环。</p>
<img src="/images/thinking-framework-7.png" class="">

<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>框架不是银弹，不能解决所有问题，也不一定适用每个场景。</p>
<p>对于一个新的问题，整理出一套解决这个问题的框架，其实就是形成了特定的方法论，还是非常有必要的。</p>
<p>本书的价值就是让你对现有商业环境常见的方法论有一个大概了解。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/2dfd4a9c.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/2dfd4a9c.html" itemprop="url">如何打造自动化前端项目CLI 工具</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-25T15:32:11+08:00">
                2019-10-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在开发过程中，尤其是新开项目的时候，往往需要重新进行各种配置、甚至复制以往的代码，为了解决这种场景，就有了 CLI，想必大家平时都经常使用，比如 Vue 的<code>vue-cli</code>，React 的 <code>create-react-app</code>，这类工具存在的主要目的是：释放双手、加快项目开发进度。</p>
<h2 id="我的场景"><a href="#我的场景" class="headerlink" title="我的场景"></a>我的场景</h2><p>本文就将介绍我如何根据我们团队内部的繁琐场景编写 CLI，从而加快项目开发速度。</p>
<p>开发项目中最常见的非后台管理系统莫属了，如果你仔细观察，就会发现大多数的后台管理大同小异。</p>
<p>就我们团队内部的后台管理系统而言，每次新开项目时，我们都需要进行以下操作：</p>
<ul>
<li>搭建项目：拷贝之前的项目来改，或者重新创建一个项目，再根据需求拷贝文件</li>
<li>新增页面的时候，需要创建很多文件（视图、路由、Vuex）</li>
</ul>
<p>而每个页面其实也是大同小异：</p>
<ul>
<li>数据表格（搜索、分页、其他操作等）</li>
<li>表单</li>
</ul>
<h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><p>基于以上场景，我想到的解决方法就是编写一个 CLI 工具，可以一行命令实现以下功能：</p>
<ul>
<li>初始化项目</li>
<li>增删页面</li>
</ul>
<p>只有 CLI 自然是不够的，还要搭配项目模板（template）使用。</p>
<p>但要注意脚手架工具要与项目模板解耦，下面细讲。</p>
<h3 id="项目模板"><a href="#项目模板" class="headerlink" title="项目模板"></a>项目模板</h3><p>创建一个 GitHub 组织存放项目模板，一个模板应该包含以下：</p>
<ol>
<li><p>meta.json</p>
<p>根据项目自定义一些问题，比如：</p>
<ul>
<li>项目名称</li>
<li>项目描述</li>
</ul>
</li>
<li><p>template 文件夹</p>
<p>存放项目模板，初始化时根据用户回答的问题，生成项目。</p>
</li>
<li><p>generator 文件夹</p>
<p>执行 CLI 命令时，由 CLI 调用，主要用来自定义一些问题、模板文件信息等。</p>
</li>
</ol>
<h3 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h3><p>主要命令：</p>
<ol>
<li><p>init：</p>
<p>初始化项目，这时候会查询项目模板列表，然后根据用户所选的模板进行初始化（把项目模板下载到本地），并且生成一个<code>template.json</code>记录当前项目模板的名字，供后续使用</p>
</li>
<li><p>add、delete：</p>
<p>此命令需在生成后的项目中使用，会根据<code>template.json</code>中的模板信息找到对应的 <code>generator</code> 目录下的方法，执行对应的方法。</p>
</li>
</ol>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>每个团队面临的场景不一样，如果你也想编写一个自己的 CLI 工具，希望本文能给你提供一些思路。</p>
<p>如果有兴趣可以参考一下我的 CLI 实现：<a target="_blank" rel="noopener" href="https://github.com/gd4Ark/fa-cli">fa-cli</a>，项目模板：<a target="_blank" rel="noopener" href="https://github.com/fa-web-template/vue-admin">fa-web-template</a></p>
<p>感谢观看。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/%E6%B5%85%E6%9E%90%E7%BD%91%E7%AB%99PV-UV%E7%BB%9F%E8%AE%A1%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E8%AE%BE%E8%AE%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/%E6%B5%85%E6%9E%90%E7%BD%91%E7%AB%99PV-UV%E7%BB%9F%E8%AE%A1%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E8%AE%BE%E8%AE%A1/" itemprop="url">浅析网站 PV/UV 统计系统的原理及其设计</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-22T12:50:49+08:00">
                2019-10-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/" itemprop="url" rel="index">
                    <span itemprop="name">数据存储</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          至此，我们就达到了基于 Nginx 访问日志实现 PV/UV 统计的目的;考虑到“不蒜子”里因为更换域名而导致的访问统计重置的问题，我增加了一个初始化站点 UV/PV 的功能，满足了像博主这样虚荣心爆棚的人的需要;实际上这里整个站点的 UV 统计是不严谨的，因为严格地来讲，同一个 IP 访问了同一个站点下的 N 篇文章，它的 UV 严格地来说应该算 1 次，可我们这个方案本身就是向 LeanCloud 妥协的一种做法，就像我这里直接使用了`location.href`和`document.title`，它带来的问题就是，一个网站的域名或者链接发生变化的时候，访问统计就会被重置从 0 开始
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/%E6%B5%85%E6%9E%90%E7%BD%91%E7%AB%99PV-UV%E7%BB%9F%E8%AE%A1%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E8%AE%BE%E8%AE%A1/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019/windows-terminal-setup-guide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/windows-terminal-setup-guide/" itemprop="url">Windows Terminal 安装与配置指南</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-14T20:08:00+08:00">
                2019-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>自今年微软开发者大会 Build 2019 中<a target="_blank" rel="noopener" href="https://devblogs.microsoft.com/commandline/introducing-windows-terminal/">首次亮相</a>以来，经历了近半年的发展，万众瞩目的 Windows Terminal 已经日趋成熟。从十月份开始，我将其作为主力终端使用了一段时间，暂时还没遇到什么严重的问题。</p>
<p>为了方便其他想要试试 WT 的选手，这里我将安装配置过程中的一些步骤以及踩到的坑整理成文，希望对各位有所帮助。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/windows-terminal-setup-guide/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019/hexo-posts-in-subfolder/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/hexo-posts-in-subfolder/" itemprop="url">使用子文件夹管理 Hexo 文章且不改变文章永久链接</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-13T03:38:00+08:00">
                2019-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <blockquote>
<p><strong>2020-01-15 更新</strong>：如果你只是想实现「文章源码放在子目录、永久链接保持不变」的效果，可以直接修改 <code>_config.yml</code> 中的配置：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:name/</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:year/:title.md</span></span><br></pre></td></tr></table></figure>
<p>感谢 <a target="_blank" rel="noopener" href="https://skk.moe/">@SukkaW</a> 在评论区提供的建议！</p>
</blockquote>
<p>在 Hexo 中，我们可以通过站点配置中的 <code>permalink</code> 配置项来指定文章的永久链接的格式。比如说默认值是 <code>:year/:month/:day/:title/</code>，那么一篇 slug 为 <code>hello-world</code> 的文章，最终生成的链接就是 <code>2019/10/13/hello-world/</code>。</p>
<p>如果你不想分得这么细，也可以根据自己的喜好 <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/permalinks">自定义这个配置项</a>。本博客就将其设置为了 <code>:title/</code>，即仅使用文章的 slug 作为永久链接，更清爽一些。</p>
<p>但是这样一来，文章源文件的管理就有点难办了。Hexo 中所有的文章（Post layout）都存放在 <code>source/_posts</code> 目录中，如果仅使用 slug 作为文件名的话，文章一多就会出现乱成一坨的惨状 —— 只能通过文件名查找，根本无法通过日期定位文章！</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/hexo-posts-in-subfolder/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/%E4%BD%BF%E7%94%A8Python%E5%BC%80%E5%8F%91%E6%8F%92%E4%BB%B6%E5%8C%96%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/%E4%BD%BF%E7%94%A8Python%E5%BC%80%E5%8F%91%E6%8F%92%E4%BB%B6%E5%8C%96%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/" itemprop="url">使用 Python 开发插件化应用程序</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-11T08:56:27+08:00">
                2019-10-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index">
                    <span itemprop="name">编程语言</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          考虑到 Python 是一门解释型的语言，我们在编写插件的时候，更希望做到“热插拔”，比如修改了某个插件后，希望它可以立刻生效，这个时候我们就需要重新加载模块，此时 importlib 的 reload 就能满足我们的要求，这正是博主一开始就要使用 importlib，而不是 import 语法对应内建方法__import__()的原因;好了，现在我们就完成了这次“插件化”的迭代，截止到目前为止，博主共完成了 [Unsplash](.) 、 [Bing 壁纸](.) 、 [WallHaven](.) 和 [国家地理](.) 四个“源”的接入，这些插件在实现上基本大同小异，本质上来讲它们是一个又一个的爬虫，只要实现了 getImage()这个方法都可以接入进来，这就是我们通常说的“约定大于配置”，关于更多的代码细节，大家可以通过[Github]((https://github.com/qinyuanpei/WallPaper))来了解;mkt=zh-CN) 和 [WallHaven](https://wallhaven.cc) 两个壁纸来源，考虑到大多数的壁纸抓取流程是一样的，博主决定以“插件”的方式完成这次迭代，换句话说，主程序不需要再做任何调整，当我们希望增加新的数据源的时候，只需要写一个.py 脚本即可，这就是今天这篇文章的写作缘由
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/%E4%BD%BF%E7%94%A8Python%E5%BC%80%E5%8F%91%E6%8F%92%E4%BB%B6%E5%8C%96%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019-10-06-humble-inqiury-book-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019-10-06-humble-inqiury-book-summary/" itemprop="url">询问而非命令的艺术 - 读《谦逊的探询》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-06T00:22:20+08:00">
                2019-10-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <img src="/images/humble-inqiury.jpeg" class="">

<h2 id="序"><a href="#序" class="headerlink" title="序"></a>序</h2><p>最近读了一本很薄的书，叫《谦逊的探询》，讲的是作为管理者如何进行更好地沟通和决策。</p>
<p>这本书写作的背景是：作者发现一些严重的事故，比如核污染事故和哥伦比亚号事故，都是因为职位级别的原因。在这些事故中，底层员工掌握的重要信息要么并没有被上报，要么虽然上报了，但是被忽视或否定了。</p>
<p>于是，作者认为我们缺失的是一种下层员工能够放心的把问题向上层传递的气氛。那么如何才能够建立这种气氛呢？答案就是管理者必须学会更好地提问。</p>
<p>以下是我的一些读书笔记。</p>
<h2 id="文化的困境"><a href="#文化的困境" class="headerlink" title="文化的困境"></a>文化的困境</h2><p>我们首先处在一个崇尚个人主义大于集体主义的社会。在企业，表现优秀的员工被提拔。所以，大家认为管理者就应该是优秀的个人，就可以独立做出正确的决策。</p>
<p>第二，我们的文化也强调少说多做。强调执行力，强调完成。在安排任务的时候提问题可能会被人认为是“挑刺”。这种文化压抑了员工的表达欲望。</p>
<p>第三，大部分员工习惯听命于领导的安排，因为这样员工不用承担决策责任。在文化上，决策权责确实通常也是赋予给管理层的。</p>
<p>以上，使得员工并不习惯把信息尽力上报。因此，管理者需要构建一种合适的气氛，尽可能收集到底层的信息。</p>
<h2 id="谦逊的探询"><a href="#谦逊的探询" class="headerlink" title="谦逊的探询"></a>谦逊的探询</h2><p>把“谦逊的探询”拆开来看，分为“谦逊”和“探询”。</p>
<h3 id="谦逊"><a href="#谦逊" class="headerlink" title="谦逊"></a>谦逊</h3><p>作者认为，我们首先要在心底做到“谦逊”。这种谦逊不同于对于长者或者偶像的谦逊，它表达的是一种对自己无法独立决策，需要时刻依赖别人来共同完成任务的心态。</p>
<p>这种心态在我看来也是这个社会信息爆炸的一种现象，就像《赋能》一书所说，现代社会大量的信息是被基层人员掌握。管理者仅仅只有综合信息而决策的优势，不再有信息掌握的优势。认识到这一点，才可以做到足够“谦逊”。</p>
<p>谦逊的态度本身，也给了其他人足够的心理安全感，让他们能够缓解由于职级或者文化带来的表达压力。</p>
<p>做到谦逊之后，我们应该学习的就是如何“探询”。</p>
<h3 id="探询"><a href="#探询" class="headerlink" title="探询"></a>探询</h3><p>我理解的探询是一种“请教”或者“咨询”，通过放低姿态提问，让双方可以尽可能地共享信息。</p>
<p>但是探询的本质不仅仅是提问。因为这种探询源自于兴趣和好奇的态度。它表示我们对建立关系抱有渴望，这样可以带来更加开放的交流。</p>
<p>在这种开放的交流气氛下，提问者暂时处于从属地位，如果你利用这种机会欺骗了我或者利用我，提供了并不需要或者糟糕的建议，我会在未来避免接触你。如果你的建议帮助了我，我们就已经建立起了一种积极的关系。</p>
<h3 id="探询的形式"><a href="#探询的形式" class="headerlink" title="探询的形式"></a>探询的形式</h3><p>书中给了 4 种不同形式的询问：</p>
<ol>
<li><p>谦逊的探询。最大限度地表达出自己的好奇心和对他人的兴趣，是引导他人多说的提问方法，对方并不需要多想。</p>
</li>
<li><p>诊断式询问。与上一个的区别在于，这个需要对方多想，想一些之前没有意识到的问题。这样可以引导对方的思维过程。是一种解决问题的提问方式。比如：“你对此感受如何？”</p>
</li>
<li><p>对抗式询问。在提问中使用反问句比较常见，直接带入自己的猜测。比如：”为什么今晚我们不去看电影？”</p>
</li>
<li><p>面向过程的询问。是直接针对谈话流程的提问，特别是认为对话朝一个错误的方向进行时。比如：“我们跑题了吗？”，“这样问会不会太过隐私？”。</p>
</li>
</ol>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>案例一：一个公司的 CEO 觉得大家开会的时候都坐得很远，但是又不希望命令大家。一个好的谦逊的探询是问：“大家为什么坐那么远？”。</p>
<p>案例二：作者在很忙碌地写作，他妻子打扰到了他，邀请他出去走走。作者认为谦逊的探询是：给妻子一个认真的谈话，表达当前自己需要集中精力写作，询问妻子的建议。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>谦逊的探询是一种组织能力，可以团结团队成员，激发成员的表达，最终获得充分的信息并且与团队成员共同决策和成长。</p>
<p>团队成员既可以借此机会建立和管理者的友谊，又可以部分参与决策思考过程，帮助自身成长。</p>
<p>推荐给大家~</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019/disqus-migration-tools-url-mapper/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/disqus-migration-tools-url-mapper/" itemprop="url">使用 URL Mapper 迁移整理 Disqus 评论</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-26T22:06:00+08:00">
                2019-09-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>本文主要介绍了 Disqus 提供的评论迁移工具之一，URL Mapper 的使用方法。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/disqus-migration-tools-url-mapper/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019/first-post-of-2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/first-post-of-2019/" itemprop="url">博客更新报告：2019 年的第一篇博文</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-23T05:00:00+08:00">
                2019-09-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%97%A5%E5%B8%B8/" itemprop="url" rel="index">
                    <span itemprop="name">日常</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>哎呀你看，这人博客草都长三米高了耶！博主好摸哦！</p>
<hr>
<p>好久不见。各位最近过得怎么样？我还是老样子，忙。又摸又忙。</p>
<p>大概从去年年底开始到最近几个月，我在某个项目（大概能算是项目吧？）上投注了大量的时间和精力，以至于基本没有时间顾及这边的东西。从我的 GitHub 格子就可以很直观地看出来，我这一年实属摸得透彻。</p>
<p><img src="https://img.prin.studio/images/2019/09/23/github-activities-2018-now.png" alt="github-activities-2018-now"></p>
<p>至于在忙什么，等到以后能公开的时候我会写一篇博客聊一聊的。</p>
<p>回到正题。这次久违的博文主要是报告一下博客的变化。<strong>没错，我终于换主题啦！</strong></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/first-post-of-2019/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019-09-21-competitive-strategy-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019-09-21-competitive-strategy-summary/" itemprop="url">如何有效地竞争 - 读《竞争战略》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-21T23:18:55+08:00">
                2019-09-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <img src="/images/competitive-strategy-book.jpg" class="">

<p>最近看了一本比较老的书，写于 1990 年，作者是哈佛大学商学院的教授迈克尔·波特，书名叫<a target="_blank" rel="noopener" href="https://item.jd.com/11501322.html">《竞争战略》</a>。</p>
<p>竞争这件事情其实挺复杂，因为每个企业就像每个人一样，生下来就和别人不完全一样，各自有着不同的优势和劣势。有些人家庭条件好，可以和别人拼教育资源；有些人天赋高；有些人只能拼努力。</p>
<p>企业也一样，有些企业是明星创业团队，一开始就有比较好的资源；有些企业是草根创业，无法吸引到顶级的人才。</p>
<p>《竞争战略》这本书，讲的就是如何有效地竞争，以下是我的一些感受。</p>
<h2 id="竞争来自哪里"><a href="#竞争来自哪里" class="headerlink" title="竞争来自哪里"></a>竞争来自哪里</h2><p>波特首先分析了竞争的五种力量：</p>
<ul>
<li>新进入的力量</li>
<li>替代品的威协</li>
<li>买方的议价能力</li>
<li>供应商的议价能力</li>
<li>当前竞争者的对抗力量</li>
</ul>
<img src="/images/competitive-strategy-1.jpg" class="">

<p>每种力量相互的博弈会产生利润分配方式的极大差异。比如苹果和富士康，虽然富士康是苹果的上游企业，但是因为苹果极强的议价能力，所以苹果手机的大部分利润都没有富士康什么事。</p>
<p>但是换个行业可能就完全不一样。比如，上次看一篇电子烟的文章，里面就提到电子烟其实核心的生产厂家就那么几家，品牌商都没有什么核心竞争力，这个时候，品牌厂商就得分给生产厂商大部分利润。</p>
<p>说到底还是话语权的高低，半年前的 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-hans/%E8%A5%BF%E5%AE%89%E5%A5%94%E9%A9%B0%E6%96%B0%E8%BD%A6%E6%BC%8F%E6%B2%B9%E7%BB%B4%E6%9D%83%E4%BA%8B%E4%BB%B6">奔驰女车主维权事件</a>，暴露出奔驰厂家和 4S 店利星行的冲突，而这其中就显示出利星行作为经销商极强势的话语权。事后因为好奇，我查了一下利星行的历史，利星行不但垄断了奔驰车的销售，而且还反过来持股奔驰的合资公司，真正控制了下游企业。</p>
<p>我理解话语权的背后，是自己的不可替代性，以及对决策的控制力。不可替代不一定表示自己的竞争力很强，像利星行只是因为垄断了销售渠道，别的地方买不到奔驰，所以也达到了不可替代。而对决策的控制力，就是进入到决策层，比如投资和控股对方企业。</p>
<h2 id="进入壁垒"><a href="#进入壁垒" class="headerlink" title="进入壁垒"></a>进入壁垒</h2><p>创业的时候，投资人总喜欢问：“你的壁垒是什么？” 波特在书中介绍了 7 方面的壁垒：</p>
<ul>
<li>规模经济。规模经济是指：随着产出的数量的增加，产品的单位成本将会下降。这将使得竞争者需要以一定规模进入，才能产生足够的竞争力；或者接受成本劣势。</li>
<li>品牌识别度和客户忠诚度。简单来说就是品牌价值。这种心智的力量非常强大，竞争者如果选择同样进行品牌建设，那么将投入巨大的资金成本。</li>
<li>资金。汽车的研发就是一个重资金的产业。如果企业没有足够的融资能力，就无法进入相关的高资金门槛行业。</li>
<li>转换成本。每个产品都会让消费者产生一些习惯，有一些产品甚至会让消费者产生数据（比如苹果手机），如果迁移到别的产品，这种转换成本会使得消费者犹豫。</li>
<li>分销渠道。在互联网没有兴起的时候，销售渠道确实是一个极大的壁垒。即便是现在，零售商都有极大的话语权。有一次我听一个在 711 负责采购的人说，某家方便面就因为不配合降价，于是被 711 拒绝采购了。互联网的时代，分销的渠道变得更加集中，于是渠道费用也不可避免，上次问一家公司旁边的饮料店，为什么在美团上不能点他们的外卖了，老板说，因为美团要抽 20% 的分成。过了半个月，我发现美团上又可以点了，不过饮料的价格都比门店的高了一些，看来老板还是怂了。</li>
<li>与规模无关的成本劣势。比如：专利、特许经营、原材料获取优势、地理位置优势、政府补贴、学习曲线。上次看一个文章讲大疆与美国一家公司的竞争，印象深刻的一点就是大疆在深圳相比美国占了极大的地理位置优势。这种优势一方面是可以更低的成本获得原材料；另一方面是人力成本大概只有美国的一半。</li>
<li>政府政策。政府有些时候为了安全，会要求一些行业准入，比如食品业和健康相关的行业。这些行业因此进入门槛就变得很高。另外有些行业会受到管制，比如运输，能源等。</li>
</ul>
<p>对于互联网行业，因为政府限制较少、资金门槛低、也不太需要销售渠道，所以壁垒会更加集中。刘润在「五分钟商学院」里面的总结就只有 4 点，即：</p>
<ul>
<li>专利或特许授权 </li>
<li>网络效应 </li>
<li>规模效应 </li>
<li>迁移成本</li>
</ul>
<p>只是刘润把品牌价值这一条忽略了，其实这一条同样重要。</p>
<h2 id="竞争战略"><a href="#竞争战略" class="headerlink" title="竞争战略"></a>竞争战略</h2><p>在波特看来，对了应对上面提到的五种竞争力量，有效的竞争战略只有三类：</p>
<ul>
<li>成本领先战略</li>
<li>差异化战略</li>
<li>聚焦战略</li>
</ul>
<p>不过这 3 点并不是互斥的，而是可以同时实现一个或多个。下图表示了这 3 种战略的关系。</p>
<img src="/images/competitive-strategy-2.jpg" class="">

<h3 id="成本领先战略"><a href="#成本领先战略" class="headerlink" title="成本领先战略"></a>成本领先战略</h3><p>成本领先战略简单说起来就是比别人的成本低。这种战略可能是通过规模化生产实现的，可能是通过不断优化成本环节实现的。但是，优化成本并不是意味着低质量，差服务。</p>
<p>应用成本领先战略通常情况下表示企业需要获得比较高的市场份额。</p>
<p>711 通过密集开店，从而减少了配送的成本。它的竞争对手如果开店数量不够，那么就会使得配送的效率不及 711 而在成本上有劣势。宜家家居通过标准化生产，以及自助提货，使得家居的生产和销售成本得到大幅降低，在保证板材家俱质量的同时，提供了极具竞争力的价格。</p>
<h3 id="差异化战略"><a href="#差异化战略" class="headerlink" title="差异化战略"></a>差异化战略</h3><p>差异化战略就是指企业使其产品与众不同。这种差异可能是产品设计、品牌形象、技术、客户服务、经销商渠道等。而好的差异化战略，可能在多个方面都与众不同。</p>
<p>海底捞在服务上就做到了与众不同，真正实现了餐饮业的差异化竞争。这种服务的与众不同又与海底捞的管理、文化极度绑定，使得市场非常难以抄袭。</p>
<p>差异化战略通常都不是把成本当作第一考虑点，所以差异化战略的成功实施使得消费者对于价格并不那么敏感，从而使得企业可以获得较高利润。</p>
<p>差异化战略的选择，某些时候也代表企业放弃了较大的市场份额。</p>
<h3 id="聚焦战略"><a href="#聚焦战略" class="headerlink" title="聚焦战略"></a>聚焦战略</h3><p>聚焦是指企业聚焦于某个特定的购买团体，这个团体可能是某个产品线的细分区间，也可能是某个特定的地理市场。</p>
<p>因为只服务于特定团体，所以企业有可能更好地满足客户的需求；也可能使得研发资源更加集中，从而获得成本优势；也可能做出更有差异化的产品。</p>
<p>我在猿辅导公司确实多次体会到聚焦战略的决策。比如我们只做 K12，只做线上，这些都是我们将精力集中的一种战略。</p>
<h2 id="竞品分析"><a href="#竞品分析" class="headerlink" title="竞品分析"></a>竞品分析</h2><p>这本书还拿一个小节讲了讲如何做竞品分析。我特别赞同其中的两点：</p>
<ul>
<li>应该强调竞品分析的沟通功能，除非收集到的竞品数据用于制定战略，否则就没什么大的效果。</li>
<li>收集的数据必须以某种言简意赅的形式上报给高管层，否则就是浪费时间。</li>
</ul>
<p>有些时候，公司搞个实习生，每周发一个竞品研究周报，看起来每周产出了很多内容，实际上效果都会很差。因为首先这些周报有没有被认真看就不清楚，然后这些周报如果只是竞品大量行为和数据的罗列，也无法做到很好的被管理层吸收和判断，从而影响了其沟通功能。</p>
<h2 id="导致产业分散的因素"><a href="#导致产业分散的因素" class="headerlink" title="导致产业分散的因素"></a>导致产业分散的因素</h2><p>其实我们生活中，有很多产业是分散的，CR4 不足 5%，比如典型的线下课外辅导市场，就是一个极度分散的产业。</p>
<p>波特在书中介绍了一些常见的导致产业分散的因素，这有助于我们理解这种产业分散现象。这些因素如下：</p>
<ul>
<li>整体进入壁垒不高。</li>
<li>缺乏规模经济或者学习曲线。有一些产业主要依赖于人工，那么规模化之后成本并不会显著下降。</li>
<li>运输成本 &#x2F; 存货成本居高不下。使得很多产业在商品消费地小规模存在。</li>
<li>在应对买家或供应商时，企业无规模优势。书中举了大量的例子，比如女装业，讲究的是快速反应，小公司反倒会有优势。比如某些产业需要较高程度的创新，比如广告业，室内设计业，大公司很难吸引所有的这些创新人才。比如本地人脉网络对业务至关重要。</li>
<li>市场需求丰富多彩。</li>
<li>产品差异化极高。比如影视制作行业，艺术表演行业。</li>
<li>退出壁垒。那些边缘企业因为退出壁垒选择低利润生存，从而阻碍产业整合。</li>
<li>地方 &#x2F; 政府管制。</li>
<li>新兴产业。因为行业新，所以还没有发展到巨头开始整合那一步。</li>
</ul>
<h2 id="克服产业分散的办法"><a href="#克服产业分散的办法" class="headerlink" title="克服产业分散的办法"></a>克服产业分散的办法</h2><p>克服产业分散的办法，包括：</p>
<ul>
<li>创造规模经济或者学习曲线。</li>
<li>标准化市场需求。</li>
<li>将分散的因素分离。比如唱片业就将出版、营销整合，但是对每一个子品牌保持独立，这使得华纳兄弟拿到不错的市场份额。</li>
<li>收购。</li>
</ul>
<p>李鑫曾经给我讲过阿芙精油的故事，这就是一个典型的创造规模经济的案例。阿芙精油创始人关注到精油这个品类在淘宝上很火，但是极度分散。于是用巨额投入在线下品牌店（比如在王府井），然后在淘宝上同时提升小量价格，构造精油品牌。于是精油的需求被集中到品牌更好，价格只是高一点点的阿芙精油上。</p>
<p>对于竞争者来说，要么跟进和阿芙精油一样做品牌升级。但是资金成本是这个行业的问题，因为大多从业者是小作坊式的规模，不可能像阿芙精油一样大量在线下开店。于是，资金成为阿芙精油前期在行业整合中的一个壁垒。</p>
<p>后期阿芙精油完成品牌传递和市场占有率后。规模化的成本优势、品牌优势、转换成本都成为阿芙精油竞争的优势。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本书还讲了很多其它竞争有关的内容，比如新兴产业的竞争等，但是我个人很难完全记住，只能用到的时候再行查阅。</p>
<p>本书对我理解竞争最有价值的就是以五种力量来框架性分析竞争的各种因素，并且把有效的竞争战略分为 成本领先、差异化、聚焦 3 种。</p>
<p>本书也让我关注到了竞品分析行为的最重要要素：言简意赅地向管理层沟通。</p>
<p>虽然这是一本写于 20 多年前的书，但在今天看起来仍然很有效，推荐给大家！</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%BC%95%E5%8F%91%E7%9A%84%E4%BA%8B%E6%95%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%BC%95%E5%8F%91%E7%9A%84%E4%BA%8B%E6%95%85/" itemprop="url">记一次换行符引发的事故</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-30T21:22:13+08:00">
                2019-08-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <blockquote>
<p>那天项目部署的时候，遇到一个很诡异的现象，一度怀疑自己职业生涯到此结束了，后面经排除发现，原来是<code>Linux</code>和<code>Windows</code>下<code>shell</code>脚本换行符的格式问题，导致脚本一直执行不了…（到此，标题所说的事故讲完了…：）</p>
</blockquote>
<blockquote>
<p>看起来很蠢的问题，溜了 :) …但莎士比亚说过，解决一个问题最好的方式，就是下次不要再犯了。所以我们刨根问底儿，彻底搞清楚换行符在计算机系统中到底是个啥玩意儿。</p>
</blockquote>
<h2 id="历史来源"><a href="#历史来源" class="headerlink" title="历史来源"></a>历史来源</h2><p><img src="https://github.com/palmerye/pictureBed/raw/master/blog/16cdd1edadf05db1.png"></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%BC%95%E5%8F%91%E7%9A%84%E4%BA%8B%E6%95%85/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2019-08-25-ad-101/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019-08-25-ad-101/" itemprop="url">效果广告基础 - 兼读《计算广告》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-25T22:00:56+08:00">
                2019-08-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="广告的类型"><a href="#广告的类型" class="headerlink" title="广告的类型"></a>广告的类型</h2><p>广告收入撑起了中国互联网行业收入的半壁江山，本质上百度、阿里、头条系的大部分收入，都是来自广告。腾讯虽然游戏收入很多，但广告收入也不少。</p>
<p>而广告的类型，我个人理解主要分为：品牌广告 和 效果广告。</p>
<p>品牌广告不容易直接计算广告的效果。比如今年猿辅导与《最强大脑》节目合作，在节目中做一些宣传，就属于品牌广告。其部分效果虽然可以从节目播出前后的下载量变化看到，但是对消费者更长期的口碑和心智影响却不容易评估。</p>
<p>效果广告与品牌广告相反，它直接以转化效果来计算费用。广告主可以设定具体的转化目标（例如：App 激活、用户付费、用户注册等），然后就可以为此目标进行出价，广告平台通过竞价的方式最终完成相应的广告投放。</p>
<p>搜索广告属于效果广告的一种，不过需要与用户的搜索行为相配合。用户搜索一个关键词的行为，表现出对相关广告极高的了解欲望，这个时候的广告转化的效果就非常好。这类广告都引入了竞价排名的机制，使得广告位的价值通过竞价达到最大。搜索广告主要提供者是百度和 Google 这类搜索引擎产品。</p>
<p>除了搜索广告，展示类效果广告也非常多。比如我们在各种信息流，例如：微信朋友圈、微博、今日头条、抖音里看到的广告，就属于展示类的效果广告。在本文中，我主要展开讨论这一类效果广告。</p>
<h2 id="品牌广告的效果"><a href="#品牌广告的效果" class="headerlink" title="品牌广告的效果"></a>品牌广告的效果</h2><p>效果广告与品牌广告，本质上都是要评估效果的。只是品牌广告的效果不直接，不容易评估，但是不代表品牌广告不需要评估效果。从长远看，品牌广告的资金投入，最终都应该转化到获客成本上，最终可以计算出这些广告的价值。只是相对来说，这些计算不太容易。</p>
<p>百货业之父约翰·沃纳梅克说过一句话：“我知道有一半广告费浪费了，但我不知道是哪一半”。讲的就是品牌广告相对来说不好评估效果的困境。</p>
<h2 id="效果广告中的角色"><a href="#效果广告中的角色" class="headerlink" title="效果广告中的角色"></a>效果广告中的角色</h2><p>为了大家理解各种角色，我给大家讲一个拍电影的故事。</p>
<p>我们假设你是导演，要拍一个有关效果广告的电影。</p>
<p>你写了一个最简单的人物剧本，要做效果广告显然需要两个角色：</p>
<ul>
<li>广告主：负责花钱打广告的。</li>
<li>广告平台：负责卖广告位的。</li>
</ul>
<p>广告主为了打广告，他的团队需要有投放主管、渠道经理、产品技术团队，内容创意团队：</p>
<ul>
<li>投放主管算是广告投放工作的负责人，进行工作的统筹并为结果负责。</li>
<li>渠道经理是某一个或几个广告平台渠道的专家，负责相关的广告平台的投放工作。</li>
<li>产品技术团队负责为投放工作做相应的广告页面开发，相关的支撑系统和数据分析。</li>
<li>内容创意团队用于构思和制作广告创意。</li>
</ul>
<p>而广告平台，通常有销售经理、运营经理、产品技术团队：</p>
<ul>
<li>销售经理面向潜在的客户，推销自己的广告平台，不断为平台带来新的客户。</li>
<li>运营经理对接广告主，为广告主答疑解惑，提供投放相关的知识经验。</li>
<li>产品技术团队负责搭建和维护广告投放相关的系统。</li>
</ul>
<h2 id="代理商"><a href="#代理商" class="headerlink" title="代理商"></a>代理商</h2><p>剧本写到这里，扮演广告平台的几个演员不干了。他们说：我们对接的全中国的广告主有上万家，这么多广告主我们怎么照顾得过来？而且这些广告主是给钱的金主，他们提各种需要我们又不好拒绝，应该怎么办？</p>
<p>这个时候，一个跑龙套的过来说：要不我来替你们干这些脏活累活吧！于是，你在剧本中加了一个角色：代理商。</p>
<p>大的广告平台为了保证自身的团队规模的精简，同时剥离那些偏服务性质的脏活累活，于是将自己的广告业务，完全交给一家或多家代理商来进行二次售卖。广告平台以「返点」的方式，将广告费用的一定比例，支付给代理商作为报酬。</p>
<p>代理商内部通常的角色有：</p>
<ul>
<li>销售经理。面向潜在的客户，推销自己代理的广告平台。</li>
<li>运营经理。与广告主的渠道经理配合，为其提供各种服务。</li>
<li>内容创意团队。与广告主的渠道经理配合，为其制作各种内容创意。</li>
</ul>
<p>平台对代理商的资金消耗通常要求比较高，有一些代理商规模比较小，但是自己又有自己独到的一技之长（比如销售能力），于是这些小规模的代理商就会找大的代理商拿量，这就是二级代理商。</p>
<p>这样就形成了，一级代理商负责与平台对接，承诺比较大的广告投放量，二级代理商具体服务各个广告主，为一级代理商贡献投放量。最终一级代理商和二级代理商分享平台的「返点」的服务模式。</p>
<p>代理商除了使得广告平台的对接压力减小外，同时也承担了更加专业的广告投放任务。因为很多小的广告主其实是没有能力制作广告并有技巧地投放的，这个时候代理商就可以承担从脚本提供、到素材制作、再到投放测试的一条龙服务。</p>
<p>我画了一个广告主（蓝色）、代理商（红色）、广告平台（绿色 + 黄色）的沟通操作示意图。</p>
<img src="/images/ad-101-3.png" class="">

<p>广告主的渠道经理主要和代理商的渠道经理对接，共同通过操作广告平台的投放系统，来完成广告的投放。在这个过程中，广告平台的运营经理，会特别关照一些大的投放客户。</p>
<h2 id="广告平台与-oCPM"><a href="#广告平台与-oCPM" class="headerlink" title="广告平台与 oCPM"></a>广告平台与 oCPM</h2><p>广告平台有很多，比如：微信、广点通、头条、百度、喜马拉雅、微博。</p>
<p>广告平台其实目标只有一个，就是最大化自己的收益。那么广告平台如何最大化自己的收益呢？我们来看一个公式：</p>
<p><code>总收益 = 广告总流量 x 流量填充率 x 每次曝光价格（eCPM）</code></p>
<p>根据这个公式，广告平台要提高收益，主要有 3 个办法：</p>
<ul>
<li>增加广告位。这样就增加了广告总流量。但是这伤害了用户体验，不能无限制地增加。</li>
<li>提高广告填充率。广告的填充率影响很多，既有广告主的数量，又有当前广告平台相比别的平台的价格优势，还有算法的影响。</li>
<li>提高单位广告位价格，即提高 CPM（Cost Per Thousand ）。但因为广告平台之间也要竞争，所以如果过高，则会流失部分广告主，影响广告填充率。</li>
</ul>
<p>广告平台在最初的时候，就是简单地按 CPM 来让大家出价，出价高的人就可以获得广告位。这里面涉及的竞价算法（广义第二高价），我稍后再介绍。</p>
<p>但是广告平台很快发现了问题：单纯地选出价高的广告主来投放，对平台或许不是最优的。因为短期出价高的广告主，对于平台来说长期收益不一定是最大的。比如：出价最高的广告可能转化率低，自身无法长期承受这个价格。</p>
<p>于是，Facebook 在几年前提出 oCPM 的计费规则，前面那个 o，指 Optimized。在 oCPM 规则下，平台不止考虑你的出价，也要考虑你设置的那个优化（Optimized）目标。</p>
<p>不同的广告主的优化目标可能不一样，如果是投放 App 下载的广告主，优化目标可能是 App 的激活。如果是电商平台，优化目标可能是成单。设置好了优化目标，广告平台就会根据目标和你的出价范围，来动态地调整出价策略。</p>
<p>本质上，oCPM 是一种替客户考虑的计费方式，广告平台不止收你的钱，还会替你考虑转化的成本和效率。如果成本过高，广告平台就直接不花你的钱了。短期来看，可能会少挣了一些钱，但是长久来看，广告平台可以吸引更多广告主过来。</p>
<h2 id="eCPM"><a href="#eCPM" class="headerlink" title="eCPM"></a>eCPM</h2><p>当 oCPM 变得更科学和动态之后，广告平台就利用 eCPM 来进行竞价了。eCPM 本质上是站在广告平台角度，看每个广告位带来的预期收益是多少。在腾讯的微信朋友圈广告投放 <a target="_blank" rel="noopener" href="https://wximg.qq.com/wxp/wxadtouch/upload/t2/file-1512718899454.pdf">官方文档</a> 上，我们可以看到 eCPM 的计算公式是：</p>
<img src="/images/ad-101.jpg" class="">

<p>所以，eCPM 其实就是结合了出价、转化概率、以及智能调价因子而算出来的平台可以在某个广告位上挣到的钱。eCPM 只是一个竞价模型，平台按这个来评估每个广告的价值，选最高的来进行展示。但是 eCPM 并不代表广告主的出价，也不代表平台真正能收到的钱。对于广告主来说，其实计费方式还是按曝光次数收费。只是对于 eCPM 值低的广告主，他的广告可能永远也无法得到展示。</p>
<p>为了让大家更容易理解 eCPM ，我给大家讲一个地主的故事。假设你是一个地主，你想把你的地租给一户人家种，于是来了四户人家：</p>
<ul>
<li>第一户人家，出价最高，但是他把地租下来，其实是想种毒品。你担心他过两天就被警察叔叔抓走了，你收不到多少钱不说，可能还会承担连带责任。</li>
<li>第二户人家，出价次高。但是这个人其实很傻，他没有仔细算帐。你帮他算了一下帐，按他现在付的租金，回头他收完庄稼，应该是入不敷出的。你想了想，第二年要不他就被饿死了，要么他就觉得你是黄世仁，起义把你抄家了。长远来看也不好。</li>
<li>第三户人家，出价第三。租你地是为了种高价值的水果，这种人家年轻力壮，家里人又团结齐心。果树价值高，种好了能够收成好多年。你算了算，他们是可以挣钱的。</li>
<li>第四户人家，出价最低。租你地是为了种粮食，附加价低，所以他出不起高价钱。</li>
</ul>
<p>好了，问题来了，如果你是地主，你应该租给哪家人？你仔细想了想，租给了第三户人家，因为长远来看，第三户人家收入稳定，也最安全，你的长远收益最大。例子中的第 1，2 户人家，他们的「智能调价因子」起了作用，所以使得他们的出价虽然高，但最后的 eCPM 值低于第三户人家。</p>
<h2 id="广告的计价算法"><a href="#广告的计价算法" class="headerlink" title="广告的计价算法"></a>广告的计价算法</h2><p>广告平台通常采用的计价算法是广义第二价格 GSP（Generalized Second Price）。为了让大家理解这个算法，我们还是需要再讲个故事。</p>
<p>好了，你又开始当地主了。现在有两户人家想租你的地，你发现他们的条件都挺不错的，于是你就说，要不咱们公开拍卖吧。于是这两户人家就开始出价：</p>
<ul>
<li>A: 1 毛</li>
<li>B: 2 毛</li>
<li>A: 3 毛</li>
<li>B: 4 毛</li>
<li>A: 5 毛</li>
<li>B: …..</li>
</ul>
<p>于是，经过了一整天的竞价，价格终于涨到了 2 块钱，而最终成交价可能是 1000 块。所以，问题一出来了：出价者希望试探对方的低价，造成提价过程过于缓慢。</p>
<p>第二年，你又遇到了同样的问题，于是你换了一个做法：每个人只能出一次价格，把价格装在信封里面，出完就再成不能变了。于是，A 的信封里面出了 900 块，B 的信封里面出了 500 块。A 成交。但是！A 很不开心！他觉得他亏了 400 块！问题二：出价格希望用最低可能的成交价成交。</p>
<p>广义第二价格解决了上面两个问题，简单来说，双方还是可以随便出价，但是成交价格按第二高价，再加上一个极小值来结算。拿上面的例子来说，你就可以给大家说，大家可以随时给我出价，我会按照第二高价加 0.01 元来收取最终成交者的费用。如果 A 出 900 元，B 出 500 元，那么最终成交的人是 A，成交价是 B 的价格加上 0.01 元，即 500.01 元。</p>
<p>同时，规则规定 B 不知道 A 的出价，B 首先无法在 A 的价格上简单加一个最小值来竞价。另外，因为第二高价的原因，B 在行为上也不需要这么做，B 完全可以出一个他能承受的最高价，反正最后结算的时候，并不以这个价格来结算。</p>
<p>小结：广义第二价格使得竞价方的每一个人都有动力直接把价格出到自己能够接受的底线。知乎上 <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/266362314">这篇贴子</a>，对此有更多的介绍。</p>
<h2 id="角色与角色之间的关系"><a href="#角色与角色之间的关系" class="headerlink" title="角色与角色之间的关系"></a>角色与角色之间的关系</h2><p>你还记得我们假设你是电影导演，要拍电影么？现在角色定好了，世界观也定了。</p>
<p>当你把三个角色（广告主、广告平台、代理商）和世界观（ oCPM 出价，eCPM 竞价，广义第二高价结算）都定下来之后，才发现人物关系其实一点都不简单。</p>
<p>这也是大部分电影最有意思的部分。</p>
<h3 id="广告主与广告平台"><a href="#广告主与广告平台" class="headerlink" title="广告主与广告平台"></a>广告主与广告平台</h3><p>广告主花钱打广告，广告平台挣广告的钱，给广告主带来效果。看起来是一个双赢，但是，广告平台本质上是希望它尽可能的多挣钱。所以，现在你来想像这样一个场景：如果广告平台发现，他的某一个广告主因为某个行业特别好挣得多，可以出 1000 块的钱来打广告，但是现在平台第二高价只花掉了广告主 500 块。</p>
<p>因为这个广告主其实花得起 1000 块，广告平台会不会想办法，把这个广告主的成本提到 1000 块？</p>
<p>有人会问：有什么办法呢？整个广告竞价模型其实都是黑箱的，广告平台告诉你第二高价是 999，你其实也没办法说它作弊。</p>
<p>上面这个说得还算简单，说得复杂点，现在推荐算法和深度学习这么强，广告系统有没有办法学习到每个广告主对于价格忍受的底限？能不能在保证广告主不亏本的情况下，尽可能地把广告主的利润全部拿走？</p>
<p>我听说，某广告平台内部甚至都有刷量的团队存在。在巨大的经济利益面前，把刷量团队升级成更智能的算法，这并不是一个本质上的改变。</p>
<p>有人说平台黑，其实反过来也一样，所有人都想知道广告平台的算法是否有漏洞或者什么规律，因为如果你知道了，就可以根据这个规律做一些特别的优化，这个本质上和搜索引擎的 ASO 是一个道理。所以，如果你在一家广告平台写竞价算法，很容易会有人找上门来，希望你透露一些算法上的细节。对于广告平台来说，这何尝不是一个风险？</p>
<h3 id="广告主与代理商"><a href="#广告主与代理商" class="headerlink" title="广告主与代理商"></a>广告主与代理商</h3><p>代理商看起来只是挣返点的钱。但是其实情况比这个复杂得多。</p>
<p>首先，代理商之间是有竞争的，为了赢得投放额，代理商之间不但要比拼投放的效果，服务的效果，也要比拼和甲方的关系。这里面其实是极容易出现腐败的。我知道有一家创业公司，广告主一方的 CEO 就这样拿了不少代理商的回扣。</p>
<p>然后，代理商哪有什么竞争壁垒，你说你好不容易研究出一个创新的投放素材，这个行业又没有什么专利，分分钟就被各家抄去了，根本就保密不了。广告平台甚至还会定期给全行业同步各种好的广告创意。</p>
<p>本质上，代理商就是一个重服务，壁垒极低的服务行业，生存压力大，那为了竞争活下来，代理商其实也会走捷径。什么是捷径？这就是刷量。</p>
<p>刷量的本质是：广告投放的成本与商品本身的价格错位。比如一个商品，本来卖 5 块钱，但是广告费用可能是 10 块。之所以有这样的行为，是因为广告主看重了更多的远期价值，比如这个用户未来还会复购，还会带来品牌和口碑等等。</p>
<p>因为有这样的错位，代理商其实就有动力刷量了。因为他只需要花少量的钱，就可以刷出比较好的转化率，进而可以获得更多的广告投放额度，获得更多的返点。</p>
<p>某个比较大的代理商给我说：刷量在代理商行业里面是潜规则，只是分刷得厉害还是不厉害。刷得厉害的，被发现了，就被广告主拉黑了，所以做长期生意的代理商，就少刷点量，工作也做，于是广告主也搞不明白刷没刷。</p>
<p>为了应对代理商的刷量，广告主一定要保守住自己的核心数据指标和反作弊策略。因为现在刷量的行为已经很高级了，不但可以给你刷下载和成单，也还可以给你刷留存和活跃。</p>
<p>上次听到一个故事，有一个游戏公司，发现用户只要留存下来，未来半年人均花费 50 元，于是他们就按留存率来做投放。在投放的时候发现某个渠道留存率明显很高，还以为用户属性比较 Match，以为捡到了宝。进一步加大了投放。结果后来这些用户留存率虽然没问题，但是就是不消费，游戏公司因此亏了不少钱。</p>
<p>像这种坑就很麻烦，因为你要检查效果需要时间，而投放行为又不能等。一些 App 下载类的投放也有类似的问题。你如果检查日活，留存什么的，刷量的公司都可以给你做出来，如果是投放新手，分分钟被坑死。</p>
<p>所以，在效果广告领域，广告主的反作弊能力的高低，直接关系到公司的成败。</p>
<h3 id="代理商与广告平台"><a href="#代理商与广告平台" class="headerlink" title="代理商与广告平台"></a>代理商与广告平台</h3><p>代理商与广告平台的利益冲突相对小，因为代理商是收的广告主钱，广告平台也是收的广告主钱。广告平台相对来说，只是希望代理商不要把素材做太烂，影响平台的用户体验。所以广告平台一方面会有素材的审核，另一方面也会奖励高品质的素材。</p>
<h3 id="随机性"><a href="#随机性" class="headerlink" title="随机性"></a>随机性</h3><p>广告素材效果的随机性是一个不得不说的特点，每个广告素材在投放之前，都会用一个小的量进行测试。但是因为这个量太小，所以很容易出现一些随机性，使得你无法判断素材的好坏，而初使的数据如果糟糕，也会影响广告系统的预测算法，使得之后这个素材更难以获得曝光。因为广告展示都需要花钱，你又舍不得花更多的钱进行测试，只能放弃。</p>
<p>这种随机性使得广告投放需要进行大量的素材测试，而跑出一个效果奇好的「超级素材」，既需要创意，也需要运气。</p>
<p>而就算你有了一个超级素材，因为市场同行的大量跟进，以及观众对素材新鲜度的偏好，你的这个素材也无法长期使用。</p>
<p>于是，广告主和代理商只能一遍一遍的尝试新的素材，永无止境。</p>
<p>而超级素材的随机性，又使得这个事情很难迭代总结，一切都是命。</p>
<h2 id="广告的竞价"><a href="#广告的竞价" class="headerlink" title="广告的竞价"></a>广告的竞价</h2><p>在 <a target="_blank" rel="noopener" href="https://dolantinlist.github.io/2018/05/21/RTB%E5%B9%BF%E5%91%8A%E7%AB%9E%E4%BB%B7%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D/">《RTB 广告竞价系统的算法介绍》</a> 一文中，我们可以广告竞价的一个关系图：</p>
<img src="/images/ad-101-2.png" class="">


<p>具体流程如下：</p>
<p>  1. 用户使用浏览器访问这个 web 页面 , 此时产生出了一个曝光展示。<br>  2. 媒体将广告位展示信息通过 SSP 传递给 Ad Exchanges。<br>  3. Ad Exchanges 对多家与之对接的 DSP 发送竞价请求。<br>  4. DSP 通过 DMP 数据管理平台或自身的用户数据库来推断用户属性, 通过 DSP 的竞价引擎判断是否参与竞价 , 若参与则给出竞标价格。<br>  5. DSP 将竞价响应传递给 Ad Exchanges。<br>  6. Ad Exchanges 接收到所有 DSP 的响应或到达截止时间 (通常规定是 100ms），确定获胜的 DSP。<br>  7. Ad Exchanges 通知 SSP 竞拍的赢家 ,SSP 发送广告曝光请求给广告服务器。<br>  8. 广告服务器将广告投送到用户浏览的 web 页面。<br>  整个过程对于用户体验来说几乎是瞬间完成的 , 当打开网页即可看到对应的广告。</p>
<p>这里面比较难的一个是实时性，因为广告要求极端的时间（通常小于 100 毫秒）决定获胜的广告主。另一个比较难的就是预测，广告的 eCPM 是估计出来的，这里面通常是多个模型的叠加作用，出了问题要查起来都非常复杂。</p>
<p>我也不是这方面的专家，所以这部分我就不详细展开了。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ul>
<li><p>效果广告的三大角色：广告主、广告平台、代理商。</p>
</li>
<li><p>效果广告的三大世界观：oCPM 出价，eCPM 竞价，广义第二高价结算。</p>
</li>
<li><p>人性和利益不统一，是效果广告中最难解决的部分，广告主要做好廉洁管理和反作弊策略，保护好自己的底价以及核心数据。</p>
</li>
<li><p>随机性是广告素材不得不面对的情形，一切都是命。</p>
</li>
</ul>
<p>本文有部分内容也参考了计算广告专家刘鹏老师的《计算广告》一书，算是今年读的第 13 本书吧。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/b6c7c0a2.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/b6c7c0a2.html" itemprop="url">在浏览器输入 URL 回车之后发生了什么（超详细版）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-22T19:08:15+08:00">
                2019-08-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这个问题已经是老生常谈了，更是经常被作为面试的压轴题出现，网上也有很多文章，但最近闲的无聊，然后就自己做了一篇笔记，感觉比之前理解更透彻了。</p>
<p>这篇笔记是我这两天看了数十篇文章总结出来的，所以相对全面一点，但由于我是做前端的，所以会比较重点分析浏览器渲染页面那一部分，至于其他部分我会罗列出关键词，感兴趣的可以自行查阅，</p>
<p><strong>注意：</strong>本文的步骤是建立在，请求的是一个简单的 HTTP 请求，没有 HTTPS、HTTP2、最简单的 DNS、没有代理、并且服务器没有任何问题的基础上，尽管这是不切实际的。</p>
<h2 id="大致流程"><a href="#大致流程" class="headerlink" title="大致流程"></a>大致流程</h2><ol>
<li>URL 解析</li>
<li>DNS 查询</li>
<li>TCP 连接</li>
<li>处理请求</li>
<li>接受响应</li>
<li>渲染页面</li>
</ol>
<h2 id="一、URL-解析"><a href="#一、URL-解析" class="headerlink" title="一、URL 解析"></a>一、URL 解析</h2><p><strong>地址解析：</strong></p>
<p>首先判断你输入的是一个合法的 URL 还是一个待搜索的关键词，并且根据你输入的内容进行自动完成、字符编码等操作。</p>
<p><strong>HSTS</strong></p>
<p>由于安全隐患，会使用 HSTS 强制客户端使用 HTTPS 访问页面。详见：<a target="_blank" rel="noopener" href="https://www.barretlee.com/blog/2015/10/22/hsts-intro/">你所不知道的 HSTS</a>。</p>
<p><strong>其他操作</strong></p>
<p>浏览器还会进行一些额外的操作，比如安全检查、访问限制（之前国产浏览器限制 996.icu）。</p>
<p><strong>检查缓存</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190822181538.png"></p>
<h2 id="二、DNS-查询"><a href="#二、DNS-查询" class="headerlink" title="二、DNS 查询"></a>二、DNS 查询</h2><p><strong>基本步骤</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190822181732.png"></p>
<p><strong>1. 浏览器缓存</strong></p>
<p>浏览器会先检查是否在缓存中，没有则调用系统库函数进行查询。</p>
<p><strong>2. 操作系统缓存</strong></p>
<p>操作系统也有自己的 DNS 缓存，但在这之前，会向检查域名是否存在本地的 Hosts 文件里，没有则向 DNS 服务器发送查询请求。</p>
<p><strong>3. 路由器缓存</strong></p>
<p>路由器也有自己的缓存。</p>
<p><strong>4. ISP DNS 缓存</strong></p>
<p>ISP DNS 就是在客户端电脑上设置的首选 DNS 服务器，它们在大多数情况下都会有缓存。</p>
<p><strong>根域名服务器查询</strong></p>
<p>在前面所有步骤没有缓存的情况下，本地 DNS 服务器会将请求转发到互联网上的根域，下面这个图很好的诠释了整个流程：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/1604181361-5a1397cca5644_articlex.png"></p>
<blockquote>
<p>根域名服务器：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%A0%B9%E7%B6%B2%E5%9F%9F%E5%90%8D%E7%A8%B1%E4%BC%BA%E6%9C%8D%E5%99%A8">维基百科</a></p>
</blockquote>
<p><strong>需要注意的点</strong></p>
<ol>
<li>递归方式：一路查下去中间不返回，得到最终结果才返回信息（浏览器到本地 DNS 服务器的过程）</li>
<li>迭代方式，就是本地 DNS 服务器到根域名服务器查询的方式。</li>
<li>什么是 DNS 劫持</li>
<li>前端 dns-prefetch 优化</li>
</ol>
<h2 id="三、TCP-连接"><a href="#三、TCP-连接" class="headerlink" title="三、TCP 连接"></a>三、TCP 连接</h2><p>TCP&#x2F;IP 分为四层，在发送数据时，每层都要对数据进行封装：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190822182400.png"></p>
<h3 id="1-应用层：发送-HTTP-请求"><a href="#1-应用层：发送-HTTP-请求" class="headerlink" title="1. 应用层：发送 HTTP 请求"></a><strong>1. 应用层：发送 HTTP 请求</strong></h3><p>在前面的步骤我们已经得到服务器的 IP 地址，浏览器会开始构造一个 HTTP 报文，其中包括：</p>
<ul>
<li>请求报头（Request Header）：请求方法、目标地址、遵循的协议等等</li>
<li>请求主体（其他参数）</li>
</ul>
<p>其中需要注意的点：</p>
<ul>
<li>浏览器只能发送 GET、POST 方法，而打开网页使用的是 GET 方法</li>
</ul>
<h3 id="2-传输层：TCP-传输报文"><a href="#2-传输层：TCP-传输报文" class="headerlink" title="2. 传输层：TCP 传输报文"></a><strong>2. 传输层：TCP 传输报文</strong></h3><p>传输层会发起一条到达服务器的 TCP 连接，为了方便传输，会对数据进行分割（以报文段为单位），并标记编号，方便服务器接受时能够准确地还原报文信息。</p>
<p>在建立连接前，会先进行 TCP 三次握手。</p>
<blockquote>
<p>关于 TCP&#x2F;IP 三次握手，网上已经有很多段子和图片生动地描述了。</p>
<p>相关知识点：</p>
<ol>
<li>SYN 泛洪攻击</li>
</ol>
</blockquote>
<h3 id="3-网络层：IP-协议查询-Mac-地址"><a href="#3-网络层：IP-协议查询-Mac-地址" class="headerlink" title="3. 网络层：IP 协议查询 Mac 地址"></a><strong>3. 网络层：IP 协议查询 Mac 地址</strong></h3><p>将数据段打包，并加入源及目标的 IP 地址，并且负责寻找传输路线。</p>
<p>判断目标地址是否与当前地址处于同一网络中，是的话直接根据 Mac 地址发送，否则使用路由表查找下一跳地址，以及使用 ARP 协议查询它的 Mac 地址。</p>
<blockquote>
<p>注意：在 OSI 参考模型中 ARP 协议位于链路层，但在 TCP&#x2F;IP 中，它位于网络层。</p>
</blockquote>
<h3 id="4-链路层：以太网协议"><a href="#4-链路层：以太网协议" class="headerlink" title="4. 链路层：以太网协议"></a><strong>4. 链路层：以太网协议</strong></h3><p><strong>以太网协议</strong></p>
<p>根据以太网协议将数据分为以“帧”为单位的数据包，每一帧分为两个部分：</p>
<ul>
<li>标头：数据包的发送者、接受者、数据类型</li>
<li>数据：数据包具体内容</li>
</ul>
<p><strong>Mac 地址</strong></p>
<p>以太网规定了连入网络的所有设备都必须具备“网卡”接口，数据包都是从一块网卡传递到另一块网卡，网卡的地址就是 Mac 地址。每一个 Mac 地址都是独一无二的，具备了一对一的能力。</p>
<p><strong>广播</strong></p>
<p>发送数据的方法很原始，直接把数据通过 ARP 协议，向本网络的所有机器发送，接收方根据标头信息与自身 Mac 地址比较，一致就接受，否则丢弃。</p>
<p><strong>注意</strong>：接收方回应是单播。</p>
<blockquote>
<p>相关知识点：</p>
<ol>
<li>ARP 攻击</li>
</ol>
</blockquote>
<h4 id="服务器接受请求"><a href="#服务器接受请求" class="headerlink" title="服务器接受请求"></a><strong>服务器接受请求</strong></h4><p>接受过程就是把以上步骤逆转过来，参见上图。</p>
<h2 id="四、服务器处理请求"><a href="#四、服务器处理请求" class="headerlink" title="四、服务器处理请求"></a>四、服务器处理请求</h2><p><strong>大致流程</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190822183251.png"></p>
<p><strong>HTTPD</strong></p>
<p>最常见的 HTTPD 有 Linux 上常用的 Apache 和 Nginx，以及 Windows 上的 IIS。</p>
<p>它会监听得到的请求，然后开启一个子进程去处理这个请求。</p>
<p><strong>处理请求</strong></p>
<p>接受 TCP 报文后，会对连接进行处理，对 HTTP 协议进行解析（请求方法、域名、路径等），并且进行一些验证：</p>
<ul>
<li>验证是否配置虚拟主机</li>
<li>验证虚拟主机是否接受此方法</li>
<li>验证该用户可以使用该方法（根据 IP 地址、身份信息等）</li>
</ul>
<p><strong>重定向</strong></p>
<p>假如服务器配置了 HTTP 重定向，就会返回一个 <code>301</code>永久重定向响应，浏览器就会根据响应，重新发送 HTTP 请求（重新执行上面的过程）。</p>
<blockquote>
<p>关于更多：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/workest/p/3891321.html">详见这篇文章</a></p>
</blockquote>
<p><strong>URL 重写</strong></p>
<p>然后会查看 URL 重写规则，如果请求的文件是真实存在的，比如图片、html、css、js 文件等，则会直接把这个文件返回。</p>
<p>否则服务器会按照规则把请求重写到 一个 REST 风格的 URL 上。</p>
<p>然后根据动态语言的脚本，来决定调用什么类型的动态文件解释器来处理这个请求。</p>
<p>以 PHP 语言的 MVC 框架举例，它首先会初始化一些环境的参数，根据 URL 由上到下地去匹配路由，然后让路由所定义的方法去处理请求。</p>
<h2 id="五、浏览器接受响应"><a href="#五、浏览器接受响应" class="headerlink" title="五、浏览器接受响应"></a>五、浏览器接受响应</h2><p>浏览器接收到来自服务器的响应资源后，会对资源进行分析。</p>
<p>首先查看 Response header，根据不同状态码做不同的事（比如上面提到的重定向）。</p>
<p>如果响应资源进行了压缩（比如 gzip），还需要进行解压。</p>
<p>然后，对响应资源做缓存。</p>
<p>接下来，根据响应资源里的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types">MIME</a> 类型去解析响应内容（比如 HTML、Image 各有不同的解析方式）。</p>
<h2 id="六、渲染页面"><a href="#六、渲染页面" class="headerlink" title="六、渲染页面"></a>六、渲染页面</h2><p><strong>浏览器内核</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/961f7b5d-9e06-4006-ab99-974e8e9e2ba5.png"></p>
<p>不同的浏览器内核，渲染过程也不完全相同，但大致流程都差不多。</p>
<p><strong>基本流程</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190822183712.png"></p>
<h3 id="1-HTML-解析"><a href="#1-HTML-解析" class="headerlink" title="1.HTML 解析"></a><strong>1.HTML 解析</strong></h3><p>首先要知道浏览器解析是从上往下一行一行地解析的。</p>
<p>解析的过程可以分为四个步骤：</p>
<p><strong>1. 解码（encoding）</strong></p>
<p>传输回来的其实都是一些二进制字节数据，浏览器需要根据文件指定编码（例如 UTF-8）转换成字符串，也就是 HTML 代码。</p>
<p><strong>2. 预解析（pre-parsing）</strong></p>
<p>预解析做的事情是提前加载资源，减少处理时间，它会识别一些会请求资源的属性，比如<code>img</code>标签的<code>src</code>属性，并将这个请求加到请求队列中。</p>
<p><strong>3. 符号化（Tokenization）</strong></p>
<p>符号化是词法分析的过程，将输入解析成符号，HTML 符号包括，开始标签、结束标签、属性名和属性值。</p>
<p>它通过一个状态机去识别符号的状态，比如遇到<code>&lt;</code>，<code>&gt;</code>状态都会产生变化。</p>
<p><strong>4. 构建树（tree construction）</strong></p>
<blockquote>
<p>注意：符号化和构建树是并行操作的，也就是说只要解析到一个开始标签，就会创建一个 DOM 节点。</p>
</blockquote>
<p>在上一步符号化中，解析器获得这些标记，然后以合适的方法创建<code>DOM</code>对象并把这些符号插入到<code>DOM</code>对象中。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Web page parsing<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Web page parsing<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is an example Web page.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/1355879024-573db51949951_articlex.png"></p>
<p><strong>浏览器容错进制</strong></p>
<p>你从来没有在浏览器看过类似”语法无效”的错误，这是因为浏览器去纠正错误的语法，然后继续工作。</p>
<p><strong>事件</strong></p>
<p>当整个解析的过程完成以后，浏览器会通过<code>DOMContentLoaded</code>事件来通知<code>DOM</code>解析完成。</p>
<h3 id="2-CSS-解析"><a href="#2-CSS-解析" class="headerlink" title="2. CSS 解析"></a>2. CSS 解析</h3><p>一旦浏览器下载了 CSS，CSS 解析器就会处理它遇到的任何 CSS，根据<a target="_blank" rel="noopener" href="https://drafts.csswg.org/css-syntax-3/">语法规范</a>解析出所有的 CSS 并进行标记化，然后我们得到一个规则表。</p>
<p><strong>CSS 匹配规则</strong></p>
<p>在匹配一个节点对应的 CSS 规则时，是按照从右到左的顺序的，例如：<code>div p &#123; font-size :14px &#125;</code>会先寻找所有的<code>p</code>标签然后判断它的父元素是否为<code>div</code>。</p>
<p>所以我们写 CSS 时，尽量用 id 和 class，千万不要过度层叠。</p>
<h3 id="3-渲染树"><a href="#3-渲染树" class="headerlink" title="3. 渲染树"></a>3. 渲染树</h3><p>其实这就是一个 DOM 树和 CSS 规则树合并的过程。</p>
<blockquote>
<p>注意：渲染树会忽略那些不需要渲染的节点，比如设置了<code>display:none</code>的节点。</p>
</blockquote>
<p><strong>计算</strong></p>
<p>通过计算让任何尺寸值都减少到三个可能之一：<code>auto</code>、百分比、px，比如把<code>rem</code>转化为<code>px</code>。</p>
<p><strong>级联</strong></p>
<p>浏览器需要一种方法来确定哪些样式才真正需要应用到对应元素，所以它使用一个叫做<code>specificity</code>的公式，这个公式会通过：</p>
<ol>
<li>标签名、class、id</li>
<li>是否内联样式</li>
<li><code>!important</code></li>
</ol>
<p>然后得出一个权重值，取最高的那个。</p>
<p><strong>渲染阻塞</strong></p>
<p>当遇到一个<code>script</code>标签时，DOM 构建会被暂停，直至脚本完成执行，然后继续构建 DOM 树。</p>
<p>但如果 JS 依赖 CSS 样式，而它还没有被下载和构建时，浏览器就会延迟脚本执行，直至 CSS Rules 被构建。</p>
<p>所有我们知道：</p>
<ul>
<li>CSS 会阻塞 JS 执行</li>
<li>JS 会阻塞后面的 DOM 解析</li>
</ul>
<p>为了避免这种情况，应该以下原则：</p>
<ul>
<li>CSS 资源排在 JavaScript 资源前面</li>
<li>JS 放在 HTML 最底部，也就是 <code>&lt;/body&gt;</code>前</li>
</ul>
<p>另外，如果要改变阻塞模式，可以使用 defer 与 async，详见：<a target="_blank" rel="noopener" href="https://github.com/xiaoyu2er/blog/issues/8">这篇文章</a></p>
<h4 id="4-布局与绘制"><a href="#4-布局与绘制" class="headerlink" title="4. 布局与绘制"></a>4. 布局与绘制</h4><p>确定渲染树种所有节点的几何属性，比如：位置、大小等等，最后输入一个盒子模型，它能精准地捕获到每个元素在屏幕内的准确位置与大小。</p>
<p>然后遍历渲染树，调用渲染器的 paint() 方法在屏幕上显示其内容。</p>
<h4 id="5-合并渲染层"><a href="#5-合并渲染层" class="headerlink" title="5. 合并渲染层"></a><strong>5. 合并渲染层</strong></h4><p>把以上绘制的所有图片合并，最终输出一张图片。</p>
<h4 id="6-回流与重绘"><a href="#6-回流与重绘" class="headerlink" title="6. 回流与重绘"></a><strong>6. 回流与重绘</strong></h4><p><strong>回流(reflow)</strong></p>
<p>当浏览器发现某个部分发现变化影响了布局时，需要倒回去重新渲染，会从<code>html</code>标签开始递归往下，重新计算位置和大小。</p>
<p>reflow 基本是无法避免的，因为当你滑动一下鼠标、resize 窗口，页面就会产生变化。</p>
<p><strong>重绘(repaint)</strong></p>
<p>改变了某个元素的背景色、文字颜色等等不会影响周围元素的位置变化时，就会发生重绘。</p>
<p>每次重绘后，浏览器还需要合并渲染层并输出到屏幕上。</p>
<p>回流的成本要比重绘高很多，所以我们应该尽量避免产生回流。</p>
<p>比如：</p>
<ul>
<li><code>display:none</code> 会触发回流，而 <code>visibility:hidden</code> 只会触发重绘。</li>
</ul>
<h4 id="7-JavaScript-编译执行"><a href="#7-JavaScript-编译执行" class="headerlink" title="7. JavaScript 编译执行"></a>7. JavaScript 编译执行</h4><p><strong>大致流程</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190822184523.png"></p>
<p>可以分为三个阶段：</p>
<h4 id="1-词法分析"><a href="#1-词法分析" class="headerlink" title="1. 词法分析"></a><strong>1. 词法分析</strong></h4><p>JS 脚本加载完毕后，会首先进入语法分析阶段，它首先会分析代码块的语法是否正确，不正确则抛出“语法错误”，停止执行。</p>
<p>几个步骤：</p>
<ul>
<li>分词，例如将<code>var a = 2</code>，，分成<code>var</code>、<code>a</code>、<code>=</code>、<code>2</code>这样的词法单元。</li>
<li>解析，将词法单元转换成抽象语法树（AST）。</li>
<li>代码生成，将抽象语法树转换成机器指令。</li>
</ul>
<h4 id="2-预编译"><a href="#2-预编译" class="headerlink" title="2. 预编译"></a><strong>2. 预编译</strong></h4><p>JS 有三种运行环境：</p>
<ul>
<li>全局环境</li>
<li>函数环境</li>
<li>eval</li>
</ul>
<p>每进入一个不同的运行环境都会创建一个对应的执行上下文，根据不同的上下文环境，形成一个函数调用栈，栈底永远是全局执行上下文，栈顶则永远是当前执行上下文。</p>
<p><strong>创建执行上下文</strong></p>
<p>创建执行上下文的过程中，主要做了以下三件事：</p>
<ul>
<li>创建变量对象<ul>
<li>参数、函数、变量</li>
</ul>
</li>
<li>建立作用域链<ul>
<li>确认当前执行环境是否能访问变量</li>
</ul>
</li>
<li>确定 This 指向</li>
</ul>
<h4 id="3-执行"><a href="#3-执行" class="headerlink" title="3. 执行"></a><strong>3. 执行</strong></h4><p><strong>JS 线程</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190822184731.png"></p>
<p>虽然 JS 是单线程的，但实际上参与工作的线程一共有四个：</p>
<blockquote>
<p>其中三个只是协助，只有 JS 引擎线程是真正执行的</p>
</blockquote>
<ul>
<li>JS 引擎线程：也叫 JS 内核，负责解析执行 JS 脚本程序的主线程，例如 V8 引擎</li>
<li>事件触发线程：属于浏览器内核线程，主要用于控制事件，例如鼠标、键盘等，当事件被触发时，就会把事件的处理函数推进事件队列，等待 JS 引擎线程执行</li>
<li>定时器触发线程：主要控制<code>setInterval</code>和<code>setTimeout</code>，用来计时，计时完毕后，则把定时器的处理函数推进事件队列中，等待 JS 引擎线程。</li>
<li>HTTP 异步请求线程：通过 XMLHttpRequest 连接后，通过浏览器新开的一个线程，监控 readyState 状态变更时，如果设置了该状态的回调函数，则将该状态的处理函数推进事件队列中，等待 JS 引擎线程执行。</li>
</ul>
<p><strong>注：浏览器对同一域名的并发连接数是有限的，通常为 6 个。</strong></p>
<p><strong>宏任务</strong></p>
<p>分为：</p>
<ul>
<li>同步任务：按照顺序执行，只有前一个任务完成后，才能执行后一个任务</li>
<li>异步任务：不直接执行，只有满足触发条件时，相关的线程将该异步任务推进任务队列中，等待 JS 引擎主线程上的任务执行完毕时才开始执行，例如异步 Ajax、DOM 事件，setTimeout 等。</li>
</ul>
<p><strong>微任务</strong></p>
<p>微任务是 ES6 和 Node 环境下的，主要 API 有：<code>Promise</code>，<code>process.nextTick</code>。</p>
<p>微任务的执行在宏任务的同步任务之后，在异步任务之前。</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190822185002.png"></p>
<p><strong>代码例子</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1&#x27;</span>) <span class="comment">// 宏任务 同步</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;2&#x27;</span>) <span class="comment">// 宏任务 异步</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;3&#x27;</span>) <span class="comment">// 宏任务 同步</span></span><br><span class="line">  <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;4&#x27;</span>) <span class="comment">// 微任务</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;5&#x27;</span>) <span class="comment">// 宏任务 同步</span></span><br></pre></td></tr></table></figure>

<p>以上代码输出顺序为：1,3,5,4,2</p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/skyline75489/what-happens-when-zh_CN">what-happens-when-zh_CN</a></li>
<li><a target="_blank" rel="noopener" href="https://alistapart.com/article/tags-to-dom/">Tags to DOM</a></li>
<li><a target="_blank" rel="noopener" href="https://heyingye.github.io/2018/04/16/%E5%BD%BB%E5%BA%95%E7%90%86%E8%A7%A3%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/">彻底理解浏览器的缓存机制</a></li>
<li><a target="_blank" rel="noopener" href="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/#The_rendering_engine">浏览器的工作原理：新式网络浏览器幕后揭秘</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.fundebug.com/2019/01/03/understand-browser-rendering/">深入浅出浏览器渲染原理</a></li>
<li><a target="_blank" rel="noopener" href="https://heyingye.github.io/2018/03/19/js%E5%BC%95%E6%93%8E%E7%9A%84%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/#%E9%A2%84%E7%BC%96%E8%AF%91%E9%98%B6%E6%AE%B5">js 引擎的执行过程（一）</a></li>
<li>还有一些找不到了。。。。。</li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/f6ef2a76.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/f6ef2a76.html" itemprop="url">《图解 HTTP》 学习笔记</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-19T00:20:15+08:00">
                2019-08-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本书对互联网基盘——HTTP 协议进行了全面系统的介绍。作者由 HTTP 协议的发展历史娓娓道来，严谨细致地剖析了 HTTP 协议的结构，列举诸多常见通信场景及实战案例，最后延伸到 Web 安全、最新技术动向等方面。本书的特色为在讲解的同时，辅以大量生动形象的通信图例，更好地帮助读者深刻理解 HTTP 通信过程中客户端与服务器之间的交互情况。读者可通过本书快速了解并掌握 HTTP 协议的基础，前端工程师分析抓包数据，后端工程师实现 REST API、实现自己的 HTTP 服务器等过程中所需的 HTTP 相关知识点本书均有介绍。</p>
<p>本书适合 Web 开发工程师，以及对 HTTP 协议感兴趣的各层次读者。</p>
<h2 id="第一章、了解-WEB-及网络基础"><a href="#第一章、了解-WEB-及网络基础" class="headerlink" title="第一章、了解 WEB 及网络基础"></a>第一章、了解 WEB 及网络基础</h2><p><strong>HTTP 的诞生</strong></p>
<p>1989 年 3 月，HTTP 诞生了，最初设想的理念是：借助多文本之间互相关联形成的超文本，连成 WWW。</p>
<p><strong>Web 成长时代</strong></p>
<p>1990 年 11 月，CERN 研发了世界上第一台 WEB 服务器。</p>
<p>1990 年，大家针对 HTML1.0 草案进行讨论，因存在多处模糊的地方，草案被直接废弃。</p>
<p>1992 年 9 月，日本第一个<a target="_blank" rel="noopener" href="http://www.ibarakiken.gr.jp/www/">网站</a>的主页上线了。</p>
<p>1993 年 1 月，现代浏览器的祖先 <a target="_blank" rel="noopener" href="http://archive.ncsa.illinois.edu/mosaic.html">Mosaic</a> 问世，它以内联等形式显示 HTML 的图像，迅速在世界范围内流行开来。</p>
<p>1994 年 12 月，网景公司发布 Netscape Navigator 1.0。</p>
<p>1995 年，微软发布了 Internet Explorer 1.0 和 2.0。</p>
<p><strong>驻足不前的 HTTP</strong></p>
<p>HTTP 0.9 ：因为那时的 HTTP 并没有正式的标准被建立，所有含有 HTTP 1.0 之前版本的意思。</p>
<p>HTTP 1.0 ：1996 年 5 月正式作为标准被公布，并记载于 <a target="_blank" rel="noopener" href="https://www.ietf.org/rfc/rfc1945.txt">RFC1945</a>。</p>
<p>HTTP 1.1 ：1997 年 1 月公布，最新标准版本为 <a target="_blank" rel="noopener" href="https://www.ietf.org/rfc/rfc2616.txt">RFC2616</a>。</p>
<p><strong>网络基础 TCP&#x2F;IP</strong></p>
<p>通常使用的网络（包括互联网）是在 TCP&#x2F;IP 协议族的基础上运作的。而 HTTP 属于它内部的一个子集。</p>
<p><strong>TCP&#x2F;IP 协议族</strong></p>
<p>TCP&#x2F;IP 是互联网相关的各类协议族的总称。</p>
<p><strong>TCP&#x2F;IP 的分层管理</strong></p>
<p>分为四层：</p>
<ul>
<li>应用层：决定了向用户提供应用服务时通信的活动，例如：FTP、DNS、HTTP。</li>
<li>传输层：提供处于网络连接中的两台计算机之间的数据传输，TCP、UDP。</li>
<li>网络层：处理在网络上流动的数据包，规定传输路线。</li>
<li>数据链路层：处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、网卡及光纤等物理可见部分。</li>
</ul>
<p>分层的好处：把各层之间的接口部分规划好后，修改某个地方时只需修改对应的层，每个层次内部不影响其他层。</p>
<p><strong>TCP&#x2F;IP 通信传输流</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819113915.png"></p>
<p>HTTP 举例：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819115726.png"></p>
<p><strong>与 HTTP 关系密切的协议 : IP、TCP 和 DNS</strong></p>
<ul>
<li>负责传输的 IP 协议</li>
</ul>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819143752.png"></p>
<ul>
<li><p>确保可靠性的 TCP 协议</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819143845.png"></p>
</li>
<li><p>负责域名解析的 DNS 服务</p>
</li>
</ul>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819143832.png"></p>
<p><strong>各种协议与 HTTP 协议的关系</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819143952.png"></p>
<h2 id="第二章、简单的-HTTP-协议"><a href="#第二章、简单的-HTTP-协议" class="headerlink" title="第二章、简单的 HTTP 协议"></a>第二章、简单的 HTTP 协议</h2><p>HTTP 协议用于客户端和服务器之间的通信，请求资源方成为客户端，提供资源响应方成为服务器端。</p>
<p>请求报文是由请求方法、请求 URI、协议版本、可选的请求首部字段和内容实体构成的。</p>
<p>请求报文的构成：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819145113.png"></p>
<p>响应报文的构成：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819145201.png"></p>
<p><strong>HTTP 是不保存状态的协议</strong></p>
<p>HTTP 是一个无状态协议，自身不具备保存之前发送过的请求或响应的功能。</p>
<p>之后随着发展，引入了 Cookie 技术。</p>
<p><strong>请求 URI 定位资源</strong></p>
<p>HTTP 协议使用 URI 定位互联网上的资源。正是因为 URI 的特定功能，在互联网上任意位置的资源都能访问到。</p>
<p><strong>告知服务器意图的 HTTP 方法</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819150110.png"></p>
<p><strong>持久连接节省通信量</strong></p>
<p>HTTP 协议的初始版本中，每进行一次 HTTP 通信就要断开一次 TCP 连接。</p>
<p><strong>持久连接</strong></p>
<p>为解决上述 TCP 连接的问题，HTTP&#x2F;1.1 和一部分的 HTTP&#x2F;1.0 想出了持久连接的方法。</p>
<p>持久连接的特点是，只要任意一端没有明确提出断开连接，则保持 TCP 连接状态。</p>
<p>好处在于减少了 TCP 连接的重复建立和断开所造成的额外开销，减轻了服务器端的负载。</p>
<p><strong>管线化</strong></p>
<p>管线化技术出现后，能够做到同时并行发送多个请求，而不需要一个接一个地等待响应了。</p>
<p><strong>使用 Cookie 的状态管理</strong></p>
<p>Cookie 技术通过在请求和响应报文中写入 Cookie 信息来控制客户端的状态。</p>
<p>Cookie 会根据从服务器端发送的响应报文内的一个叫做 Set-Cookie 的首部字段信息，通知客户端保存 Cookie。当下次客户端再往该服务器发送请求时，客户端会自动在请求报文中加入 Cookie 值后发送出去。</p>
<p>服务器端发现客户端发送过来的 Cookie 后，会去检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息。</p>
<h2 id="第三章、HTTP-报文内的-HTTP-信息"><a href="#第三章、HTTP-报文内的-HTTP-信息" class="headerlink" title="第三章、HTTP 报文内的 HTTP 信息"></a>第三章、HTTP 报文内的 HTTP 信息</h2><p><strong>HTTP 报文</strong></p>
<p>用于 HTTP 协议交互的信息被称为 HTTP 报文。</p>
<p>HTTP 报文本身是由多行（用 CR+LF 作换行符）数据构成的字符串文本。</p>
<p>HTTP 报文大致可分为报文首部和报文主体两块，通常，并不一定要有报文主体。</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819151451.png"></p>
<p><strong>结构</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819151537.png"></p>
<p><strong>实例</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819151613.png"></p>
<p><strong>编码提升传输速率</strong></p>
<p>HTTP 在传输时可以原样直接传输，也可以在传输时通过编码提升传输速率，通过编码，能有效地处理大量的访问请求，但也消耗更多的 CPU 等资源。</p>
<p><strong>报文主体和实体主体的差异</strong></p>
<ul>
<li>报文：HTTP 通信中的基本单位，由 8 位组字节流组成，通过 HTTP 通信传输。</li>
<li>实体：作为请求或响应的有效载荷数据（补充项）被传输，其内容由实体首部和实体主体组成。</li>
</ul>
<p><strong>压缩传输的内容编码</strong></p>
<p>常用的内容编码有以下几种：</p>
<ul>
<li>gzip（GNU zip）</li>
<li>compress（UNIX 系统的标准压缩）</li>
<li>deflate（zlib）</li>
<li>identity（不进行编码）</li>
</ul>
<p><strong>分割发送的分块传输编码</strong></p>
<p>在传输大容量数据时，通过把数据分割成多块，能够让浏览器逐步显示页面，这种把实体主体分块的功能称为分块传输编码。</p>
<p>分块传输编码会将实体主体分成多个部分（块）。每一块都会用十六进制来标记块的大小，而实体主体的最后一块会使用“0(CR+LF)”来标记。</p>
<p><strong>发送多种数据的多部分对象集合</strong></p>
<p>发送的一份报文主体内可含有多类型实体。通常是在图片或文本文件等上传时使用。</p>
<p>多部分对象集合包含的对象如下：</p>
<ul>
<li>multipart&#x2F;form-data：在 Web 表单文件上传时使用。</li>
<li>multipart&#x2F;byteranges：状态码 206，响应报文包含了多个范围的内容时使用。</li>
</ul>
<p><strong>获取部分内容的范围请求</strong></p>
<p>为了解决加载超大图片导致网络中断的情况而实现的一种手段，叫做范围请求。</p>
<p>对一份 10 000 字节大小的资源，如果使用范围请求，可以只请求 5001~10 000 字节内的资源。</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819154030.png"></p>
<p><strong>内容协商返回最合适的内容</strong></p>
<p>当浏览器的默认语言为英语或中文，访问相同 URI 的 Web 页面时，则会显示对应的英语版或中文版的 Web 页面。这样的机制称为内容协商。</p>
<h2 id="第四章、返回结果的状态码"><a href="#第四章、返回结果的状态码" class="headerlink" title="第四章、返回结果的状态码"></a>第四章、返回结果的状态码</h2><p>HTTP 状态码负责表示客户端 HTTP 请求的返回结果、标记服务器端的处理是否正常、通知出现的错误等工作。</p>
<p><strong>状态码类别</strong>：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819154239.png"></p>
<p>更多：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status">HTTP 响应代码</a></p>
<h2 id="第五章、与-HTTP-协作的-Web-服务器"><a href="#第五章、与-HTTP-协作的-Web-服务器" class="headerlink" title="第五章、与 HTTP 协作的 Web 服务器"></a>第五章、与 HTTP 协作的 Web 服务器</h2><p><strong>用单台虚拟主机实现多个域名</strong></p>
<p>即便物理层面只有一台服务器，但只要使用虚拟主机的功能，则可以搭建多个站点。</p>
<p><strong>通信数据转发程序：代理、网关、隧道</strong></p>
<p>HTTP 通信时，除客户端和服务器以外，还有一些用于通信数据转发的应用程序：</p>
<ul>
<li><p>代理：一种有转发功能的应用程序，扮演了服务器和客户端中间人的角色。</p>
</li>
<li><p>网关：转发其他服务器通信数据的服务器，它就像自己拥有资源的源服务器一样对请求进行处理。</p>
</li>
<li><p>隧道：将相隔甚远的客户端和服务器两者之间进行中转，并保持双方通信连接的应用程序。</p>
<p><strong>保存资源的缓存</strong></p>
</li>
</ul>
<p>缓存是指代理服务器或客户端本地磁盘内保存的资源副本。利用缓存可减少对源服务器的访问，因此也就节省了通信流量和通信时间。</p>
<p><strong>客户端的缓存</strong></p>
<p>缓存不仅可以存在于缓存服务器内，还可以存在客户端浏览器中。以 Internet Explorer 程序为例，把客户端缓存称为临时网络文件。</p>
<h2 id="第六章、HTTP-首部"><a href="#第六章、HTTP-首部" class="headerlink" title="第六章、HTTP 首部"></a>第六章、HTTP 首部</h2><p><strong>注：这部分太多解释，建议看原文</strong></p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819155354.png"></p>
<p><strong>HTTP 请求报文</strong></p>
<p>在请求中，HTTP 报文由方法、URI、HTTP 版本、HTTP 首部字段等部分构成</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819155327.png"></p>
<p><strong>HTTP 响应报文</strong></p>
<p>在响应中，HTTP 报文由 HTTP 版本、状态码（数字和原因短语）、HTTP 首部字段 3 部分构成。</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819155514.png"></p>
<p><strong>HTTP&#x2F;1.1 首部字段一览</strong></p>
<p>通用首部字段：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819160353.png"></p>
<p>请求首部字段：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819160426.png"></p>
<p>响应首部字段：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819160452.png"></p>
<p>实体首部字段：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819160511.png"></p>
<h2 id="第七章、HTTP-的缺点"><a href="#第七章、HTTP-的缺点" class="headerlink" title="第七章、HTTP 的缺点"></a>第七章、HTTP 的缺点</h2><p>主要的不足，例举如下：</p>
<ul>
<li>通信使用明文（不加密），内容可能会被窃听（例如：抓包）</li>
<li>不验证通信方的身份，因此有可能遭遇伪装（例如：DoS）</li>
<li>无法证明报文的完整性，所以有可能已遭篡改（例如：中间人攻击）</li>
</ul>
<p><strong>HTTP+ 加密 + 认证 + 完整性保护&#x3D;HTTPS</strong></p>
<p>为了统一解决上述这些问题，需要在 HTTP 等机制。我们把添加了加密及认证机制的称为 HTTPS。</p>
<p><strong>使用 HTTPS 通信</strong></p>
<p>经常会在 Web 的登录页面和购物结算界面等使用 HTTPS 通信。</p>
<p><strong>HTTPS 是身披 SSL 外壳的 HTTP</strong></p>
<p>HTTPS 并非是应用层的一种新协议。只是 HTTP 通信接口部分用 SSL 和 TLS 协议代替而已。</p>
<p>简言之，所谓 HTTPS，其实就是身披 SSL 协议这层外壳的 HTTP。</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819161403.png"></p>
<p>SSL 是独立于 HTTP 的协议，所以不光是 HTTP 协议，其他运行在应用层的 SMTP 和 Telnet 等协议均可配合 SSL 协议使用。可以说 SSL 是当今世界上应用最为广泛的网络安全技术。</p>
<p><strong>相互交换密钥的公开密钥加密技术</strong></p>
<p>SSL 采用一种叫做公开密钥加密（非对称加密）的加密处理方式。</p>
<p><strong>HTTPS 的安全通信机制</strong></p>
<p>通信步骤：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819161648.png"></p>
<p><strong>SSL 速度慢吗</strong></p>
<p>HTTPS 也存在一些问题，那就是当使用 SSL 时，它的处理速度会变慢。</p>
<p>HTTPS 比 HTTP 要慢 2 到 100 倍，因为与纯文本通信相比，加密通信会消耗更多的 CPU 及内存资源。如果每次通信都加密，会消耗相当多的资源，平摊到一台计算机上时，能够处理的请求数量必定也会随之减少。</p>
<h2 id="第八章、确认访问用户身份的认证"><a href="#第八章、确认访问用户身份的认证" class="headerlink" title="第八章、确认访问用户身份的认证"></a>第八章、确认访问用户身份的认证</h2><p><strong>何为认证</strong></p>
<p>服务器为了确认用户的身份，通常需要核对一些信息：</p>
<ul>
<li>密码</li>
<li>动态令牌</li>
<li>数字证书</li>
<li>生物认证</li>
<li>IC 卡</li>
</ul>
<p><strong>HTTP 使用的认证方式</strong></p>
<ul>
<li>BASIC 认证（基本认证）</li>
<li>DIGEST 认证（摘要认证）</li>
<li>SSL 客户端认证</li>
<li>FormBase 认证（基于表单认证）</li>
</ul>
<h2 id="第九章、基于-HTTP-的功能追加协议"><a href="#第九章、基于-HTTP-的功能追加协议" class="headerlink" title="第九章、基于 HTTP 的功能追加协议"></a>第九章、基于 HTTP 的功能追加协议</h2><p><strong>消除 HTTP 瓶颈的 SPDY</strong></p>
<p>Google 在 2010 年发布了 <a target="_blank" rel="noopener" href="http://www.chromium.org/spdy/">SPDY</a>（取自 SPeeDY，发音同 speedy），其开发目标旨在解决 HTTP 的性能瓶颈，缩短 Web 页面的加载时间（50%）。</p>
<p><strong>SPDY 的目标</strong></p>
<p>陆续出现的 Ajax 和 Comet 等提高易用性的技术，一定程度上使 HTTP 得到了改善，但 HTTP 协议本身的限制也令人有些束手无策。为了进行根本性的改善，需要有一些协议层面上的改动。</p>
<p>处于持续开发状态中的 SPDY 协议，正是为了在协议级别消除 HTTP 所遭遇的瓶颈。</p>
<p>使用 SPDY 后，HTTP 协议额外获得以下功能。</p>
<ul>
<li>多路复用流：通过单一的 TCP 连接，可以无限制处理多个 HTTP 请求。</li>
<li>赋予请求优先级：可以给请求逐个分配优先级顺序。这样主要是为了在发送多个请求时，解决因带宽低而导致响应变慢的问题。</li>
<li>压缩 HTTP 首部</li>
<li>推送功能：支持服务器主动向客户端推送数据的功能。</li>
<li>服务器提示功能：服务器可以主动提示客户端请求所需的资源。</li>
</ul>
<p><strong>使用浏览器进行全双工通信的 WebSocket</strong></p>
<p>利用 Ajax 和 Comet 技术进行通信可以提升 Web 的浏览速度。但问题在于通信若使用 HTTP 协议，就无法彻底解决瓶颈问题。WebSocket 网络技术正是为解决这些问题而实现的一套新协议及 API。</p>
<p><strong>WebSocket 协议</strong></p>
<p>主要特点：</p>
<ul>
<li>推送功能：支持由服务器向客户端推送数据的推送功能。</li>
<li>减少通信量：只要建立起 WebSocket 连接，就希望一直保持连接状态。</li>
</ul>
<p><strong>期盼已久的 HTTP&#x2F;2.0</strong></p>
<p>特点：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images/20190819163846.png"></p>
<p><strong>Web 服务器管理文件的 WebDAV</strong></p>
<p>WebDAV（基于万维网的分布式创作和版本控制）是一个可对 Web 服务器上的内容直接进行文件复制、编辑等操作的分布式文件系统。</p>
<h2 id="第十章、构建-Web-内容的技术"><a href="#第十章、构建-Web-内容的技术" class="headerlink" title="第十章、构建 Web 内容的技术"></a>第十章、构建 Web 内容的技术</h2><ul>
<li>HTML</li>
<li>CSS</li>
<li>JavaScript</li>
<li>动态 HTML</li>
<li>CGI</li>
<li>Servlet</li>
<li>XML</li>
<li>RSS&#x2F;Atom</li>
<li>JSON</li>
</ul>
<h2 id="第十一章、Web-的攻击技术"><a href="#第十一章、Web-的攻击技术" class="headerlink" title="第十一章、Web 的攻击技术"></a>第十一章、Web 的攻击技术</h2><p>对 Web 应用的攻击模式有以下两种：</p>
<ul>
<li>主动攻击：是指攻击者通过直接访问 Web 应用，把攻击代码传入的攻击模式</li>
<li>被动攻击：指利用圈套策略执行攻击代码的攻击模式</li>
</ul>
<p><strong>因输出值转义不完全引发的安全漏洞：</strong></p>
<ul>
<li><p>XSS 注入</p>
</li>
<li><p>SQL 注入</p>
</li>
<li><p>OS 命令注入</p>
</li>
<li><p>HTTP 首部注入攻击</p>
</li>
<li><p>邮件首部注入攻击</p>
</li>
<li><p>目录遍历攻击</p>
</li>
<li><p>远程文件包含漏洞</p>
<p><strong>因设置或设计上的缺陷引发的安全漏洞：</strong></p>
</li>
<li><p>强制浏览</p>
</li>
<li><p>不正确的错误信息处理</p>
</li>
<li><p>开放重定向</p>
</li>
</ul>
<p><strong>因会话管理疏忽引发的安全漏洞：</strong></p>
<ul>
<li>会话劫持</li>
<li>会话固定攻击</li>
<li>跨站点请求伪造</li>
</ul>
<p><strong>其他安全漏洞：</strong></p>
<ul>
<li>密码破解</li>
<li>点击劫持</li>
<li>DoS 攻击</li>
<li>后门程序</li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/26/">&lt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><span class="page-number current">27</span><a class="page-number" href="/page/28/">28</a><span class="space">&hellip;</span><a class="page-number" href="/page/73/">73</a><a class="extend next" rel="next" href="/page/28/">&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">1451</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">889</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5358884258"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Laird Lau</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
