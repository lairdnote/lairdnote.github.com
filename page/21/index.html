<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Liunx Python Rust Goalng DevOPS" />










<meta name="description" content="ä¸ªäººéšæƒ³ï¼Œçå­çš„ä¸–ç•Œ">
<meta property="og:type" content="website">
<meta property="og:title" content="é€æµå°ç«™">
<meta property="og:url" content="https://blog.feedscoin.com/page/21/index.html">
<meta property="og:site_name" content="é€æµå°ç«™">
<meta property="og:description" content="ä¸ªäººéšæƒ³ï¼Œçå­çš„ä¸–ç•Œ">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Laird Lau">
<meta property="article:tag" content="Liunx Python Rust Goalng DevOPS">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blog.feedscoin.com/page/21/"/>





  <title>é€æµå°ç«™</title>
  





<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MW47YH6RH0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MW47YH6RH0');
</script>





<meta name="generator" content="Hexo 7.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">é€æµå°ç«™</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">æƒ³å›åˆ°é‚£ä¸ªèƒ½éšä¾¿è·³æ§½çš„å¹´ä»£</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/7b1778ee.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/7b1778ee.html" itemprop="url">å‡çº§ IOS 14 çš„ä¸€äº›å‘</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-19T15:37:23+08:00">
                2020-09-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>IOS 14 æ­£å¼ç‰ˆå·²ç»å‘å¸ƒå·®ä¸å¤šä¸€ä¸ªæ˜ŸæœŸäº†ï¼Œä¹Ÿçœ‹åˆ°ç¤¾åŒºä¸å°‘äººå¼€å§‹è®¨è®ºæ–°ç‰¹æ€§ï¼Œæˆ‘å½“ç„¶ä¹Ÿè¦è·Ÿä¸Šè„šæ­¥ï¼Œäºæ˜¯ä¹Ÿå¼€å§‹æŠŠæˆ‘çš„ iPhone å’Œ iPad æ›´æ–°äº†ï¼Œä½†è¿™è¿‡ç¨‹ä¸­å´æ˜¯è¸©äº†ä¸å°‘çš„å‘ï¼Œå…ˆè®°å½•ä¸‹æ¥ï¼Œè®©åæ¥è€…å°‘èŠ±ä¸€äº›æ—¶é—´ã€‚</p>
<h2 id="å…ˆè¯´ç»“è®º"><a href="#å…ˆè¯´ç»“è®º" class="headerlink" title="å…ˆè¯´ç»“è®º"></a>å…ˆè¯´ç»“è®º</h2><p>æˆ‘æœ€ç»ˆæˆåŠŸæ›´æ–°çš„è¿‡ç¨‹æ˜¯ï¼š</p>
<ol>
<li>åœ¨ Windows ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ iTunes</li>
<li>åœ¨ <a target="_blank" rel="noopener" href="https://www.iplaysoft.com/item/ios-ipsw-download">å¼‚æ¬¡å…ƒ</a> ä¸‹è½½ IOS 14 å›ºä»¶</li>
<li>æ‰“å¼€ <code>Service.msc</code> ï¼Œå°† <code>Remote Desktop Services</code> è®¾ç½®ä¸ºå¯ç”¨å’Œè‡ªåŠ¨</li>
<li>Windows è¿æ¥æ‰‹æœºçƒ­ç‚¹ï¼Œä¸è¦è¿æ¥å®½å¸¦ç½‘ç»œ</li>
<li>åœ¨ iTunes è¿æ¥æ‰‹æœºï¼ŒæŒ‰ä½ Shift ç‚¹å‡»æ›´æ–°ï¼Œé€‰æ‹©å›ºä»¶ï¼Œç­‰å¾…æ›´æ–°</li>
</ol>
<p>PSï¼šå…ˆå¤‡ä»½å¥½æ‰‹æœºæ•°æ®ï¼Œä»¥é˜²ä¸‡ä¸€ï¼</p>
<h2 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h2><p>æ”¶åˆ°æ¨é€çš„å½“å¤©æ™šä¸Šç¡è§‰å‰æˆ‘å°±åœ¨æ‰‹æœºå’Œå¹³æ¿ä¸Šéƒ½ç‚¹äº†æ›´æ–°ï¼Œç„¶è€Œç­‰æˆ‘æ—©ä¸Šèµ·åºŠæ‰“ç®—æ„‰å¿«åœ°ä½“éªŒæ–°ç³»ç»Ÿæ—¶ï¼Œå´å‘ç°æ²¡æœ‰æ›´æ–°ï¼Œè¿›å…¥æ›´æ–°ç•Œé¢æ‰å‘ç°ä¸‹è½½äº†ä¸åˆ°ä¸€åŠï¼Œæ˜¾ç¤ºã€Œæ­£åœ¨é¢„ä¼°å‰©ä½™æ—¶é—´ã€ï¼Œç¬¬äºŒå¤©æ™šä¸Šå†è¯•äº†ä¸€ä¸‹ï¼Œç»“æœè¿˜æ˜¯ä¸€æ ·ã€‚</p>
<p>æ—¢ç„¶åœ¨æ‰‹æœºä¸Šæ›´æ–°ä¸äº†ï¼Œé‚£å°±åœ¨ç”µè„‘æ›´æ–°ï¼Œäºæ˜¯è¿æ¥åˆ° Macï¼Œç‚¹å‡»æ›´æ–°ï¼Œåˆ°æœ€åä¸€æ­¥å‡ºç°ã€ŒiPad â€œ4Ark çš„ iPadâ€ çš„è½¯ä»¶ä¸‹è½½æ—¶è¢«æŸåï¼Œæ–­å¼€åå†æ¬¡è¿æ¥â€¦ã€ï¼Œæ¢äº† Windows ä¹Ÿæ˜¯ä¸€æ ·çš„é—®é¢˜ã€‚</p>
<p>äºæ˜¯æˆ‘è‡ªå·±åœ¨ç½‘ä¸Šæ‰¾ IOS 14 çš„å›ºä»¶ï¼Œæœ€åˆæˆ‘æ‰“ç®—åœ¨å®˜æ–¹ï¼Œæƒ³ç€ç³»ç»Ÿå›ºä»¶è¿˜æ˜¯å®˜æ–¹çš„æ¯”è¾ƒå®‰å…¨ï¼Œç»“æœå‘ç°æœ€æ–°ç‰ˆæœ¬è¿˜æ˜¯åœç•™åœ¨ IOS 13.7ï¼Œäºæ˜¯åœ¨ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒé è°±çš„ <a target="_blank" rel="noopener" href="https://www.iplaysoft.com/item/ios-ipsw-download">å¼‚æ¬¡å…ƒ</a> é‡ŒæŠŠ IOS å’Œ iPadOs å›ºä»¶ä¸‹è½½å›æ¥ã€‚</p>
<p>å› ä¸ºæˆ‘æ˜¯åœ¨ Windows ä¸‹è½½çš„ï¼Œæ‰€ä»¥ä¹Ÿå°±åœ¨ Windows æœ€æ–°ç‰ˆçš„ iTunes ä¸Šé¢æ›´æ–°ï¼Œè¿æ¥ä¸Šæ‰‹æœºï¼ŒæŒ‰ä½ Shift ç‚¹å‡»æ›´æ–°ï¼Œé€‰æ‹©å›ºä»¶ï¼Œç»“æœå‡ºç°ã€Œæœªèƒ½æ›´æ–° iPhoneï¼Œå‘ç”ŸæœªçŸ¥é”™è¯¯ 53ã€ï¼Œåœ¨ <a target="_blank" rel="noopener" href="https://discussionschinese.apple.com/thread/251504194">è¿™é‡Œ</a> æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦æ˜¯ç”µè„‘ä¸Šçš„ç½‘ç»œä¸è¦è¿æ¥å®½å¸¦ï¼Œè€Œæ˜¯è¿æ¥ç§»åŠ¨ç½‘ç»œçš„çƒ­ç‚¹ã€‚</p>
<p>ç»“æœåœ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œä¸€ç›´åœç•™åœ¨ã€Œæ­£åœ¨å‡†å¤‡ iPhone ä»¥è¿›è¡Œè½¯ä»¶æ›´æ–°ã€åå‡ åˆ†é’Ÿï¼Œæ ¹æ®ä»¥å¾€çš„æŠ˜è…¾ç»éªŒï¼Œå‡†å¤‡å·¥ä½œè¶…è¿‡ååˆ†é’ŸåŸºæœ¬å°±æ˜¯æœ‰é—®é¢˜çš„äº†ï¼Œäºæ˜¯æœç„¶åœ¨ <a target="_blank" rel="noopener" href="https://hcwang.pixnet.net/blog/post/40515550">è¿™é‡Œ</a> æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦å°±æ˜¯ï¼šæ‰“å¼€ <code>Service.msc</code> ï¼Œå°† <code>Remote Desktop Services</code> è®¾ç½®ä¸ºå¯ç”¨å’Œè‡ªåŠ¨ï¼Œé‡å¯ iTunesï¼Œé‡æ–°è¿æ¥æ‰‹æœºï¼Œè¿™æ—¶å€™ç»ˆäºå¯ä»¥æ›´æ–°äº†ã€‚</p>
<h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>å‰ä¸¤å¤©è¿˜çœ‹åˆ°ç¤¾åŒºé‡Œçš„äººéƒ½æ˜¯æ‰‹æœºä¸Šç›´æ¥å‡çº§çš„ï¼Œä¸€ç¡é†’å°±å¥½äº†ï¼Œæ€ä¹ˆåˆ°æˆ‘è¿™é‡Œå°±ä¸€å¤§å †é—®é¢˜ ğŸ˜©</p>
<p>ä½†ä¸ç®¡æ€ä¹ˆè¯´ï¼Œè¿™äº›é—®é¢˜æˆ‘è‚¯å®šä¸æ˜¯ç¬¬ä¸€ä¸ªï¼Œæ›´ä¸å¯èƒ½æ˜¯æœ€åä¸€ä¸ªï¼Œæœ¬æ–‡å°±æ˜¯ä¸ºäº†è®©å¤§å®¶ä¸è¦å†æµªè´¹æ—¶é—´ã€‚</p>
<p>æ¯•ç«Ÿï¼Œå‘¨æœ«ç¾å¥½æ—¶å…‰ï¼Œä¸èƒ½ç™½ç™½æµªè´¹å˜›ã€‚</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/09/08/2020/airpods-2-are-great/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/08/2020/airpods-2-are-great/" itemprop="url">AirPods 2 åˆ°æ‰‹åŠä¸ªæœˆï¼Œæˆ‘çš„å®é™…ä½“éªŒå¦‚ä½•ï¼Ÿ</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-08T19:51:00+08:00">
                2020-09-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index">
                    <span itemprop="name">éšç¬”</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>å…ˆè¯´å¥½ï¼Œè¿™ä¸æ˜¯å®‰åˆ©æ–‡ï¼šæˆ‘æ²¡æœ‰æ¨èä»»ä½•äººè´­ä¹° AirPods 2 çš„æ„æ€ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ä»…æ—¨åœ¨å‘å„ä½åˆ†äº«æˆ‘å…¥æ‰‹ AirPods 2 åçš„<strong>çœŸå®ä½¿ç”¨ä½“éªŒ</strong>ï¼Œæœ‰åæ§½ä¹Ÿæœ‰çœŸé¦™ã€‚</p>
<p>æ•°ç åœˆæœ‰ä¸ªå¾ˆå¥‡æ€ªçš„ç°è±¡ï¼Œæ€»æœ‰é‚£ä¹ˆäº›äººæŠ¢ç€å½“ã€Œå‚å•†å­å­ã€ã€Œç²¾ç¥è‚¡ä¸œã€ï¼Œæ‰¹è¯„ä¸€å¥äº§å“å¥½åƒè¦äº†ä»–ä»¬çš„å‘½ä¼¼çš„ï¼ˆæ›´å¥½ç¬‘çš„æ˜¯è¿˜ä¼šäº’ç›¸æ‰£å¸½å­ï¼‰ï¼Œå¯¹æ­¤æˆ‘å®åœ¨æ˜¯éš¾ä»¥ç†è§£ã€‚åæ­£æˆ‘å¯¹æ•°ç äº§å“çš„æ€åº¦ä¸€ç›´éƒ½æ˜¯ï¼šå–œæ¬¢å°±ä¹°ï¼Œå¼€å¿ƒå°±å¥½ã€‚</p>
<p>å¦‚æœä½ æ°å·§åœ¨è€ƒè™‘æ˜¯å¦è¦å…¥æ‰‹ AirPods 2ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/09/08/2020/airpods-2-are-great/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/09/08/2020/dont-buy-a-gaming-laptop-for-college/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/08/2020/dont-buy-a-gaming-laptop-for-college/" itemprop="url">ä¸Šå¤§å­¦ä¹°æ¸¸æˆæœ¬ï¼Œä½ å¯èƒ½ä¼šåæ‚”</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-08T03:50:00+08:00">
                2020-09-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index">
                    <span itemprop="name">éšç¬”</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>å¦‚æœè®©æˆ‘å›åˆ°ä¸¤å¹´å‰ï¼Œæˆ‘è‚¯å®šä¼šå‘Šè¯‰å½“æ—¶çš„è‡ªå·±ï¼šä¸è¦ä¹°æ¸¸æˆæœ¬ã€‚</p>
<p>å¥½å§æˆ‘çŸ¥é“ï¼Œç°åœ¨éƒ½ä¹æœˆä»½äº†ï¼Œå‡†å¤§å­¦ç”Ÿä»¬ç”µè„‘ä¼°è®¡æ—©å°±åˆ°æ‰‹äº†ï¼Œæˆ‘è¿™é‡Œå•°å—¦å‡ å¥ä¹Ÿæ²¡ç”¨ã€‚è™½ç„¶ä¼°è®¡ä¹Ÿæ²¡äººçœ‹ï¼Œä¸è¿‡å°±å½“ç»™ä»¥åçš„åŒå­¦åšä¸ªå‚è€ƒå§ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/09/08/2020/dont-buy-a-gaming-laptop-for-college/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/09/05/Dapper.Contrib%E5%9C%A8Oracle%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%BC%95%E5%8F%91ORA-00928%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/05/Dapper.Contrib%E5%9C%A8Oracle%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%BC%95%E5%8F%91ORA-00928%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/" itemprop="url">Dapper.Contrib åœ¨ Oracle ç¯å¢ƒä¸‹å¼•å‘ ORA-00928 å¼‚å¸¸é—®é¢˜çš„è§£å†³</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-05T14:28:20+08:00">
                2020-09-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®å­˜å‚¨</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>è¯è¯´æœ€è¿‘è¿™ä¸¤å‘¨é‡Œï¼Œè¢«è¿«å®˜å®£<strong>996</strong>çš„ç”Ÿæ´»å®åœ¨æ˜¯æ— è¶£ï¼Œåœ¨ä¸¤å‘¨æ—¶é—´é‡Œå®‰æ’ä¸‰å‘¨çš„å·¥ä½œé‡ï¼Œå€˜è‹¥ç”¨ä¸ç›¸çš„å£å»æ¥è¯´ï¼Œé‚£ä¾¿æ˜¯: <strong>æˆ‘ä»æœªè§è¿‡æœ‰å¦‚æ­¤åšé¢œæ— è€»ä¹‹äºº</strong>ã€‚æ— æ³•ä¸ºå·¥ä½œçš„ç´§æ€¥ç¨‹åº¦æ’å‡ºä¼˜å…ˆçº§ï¼Œè¿™ä¾¿æ˜¯èº«ä¸ºè‚‰é£Ÿè€…ä»¬çš„<strong>é„™</strong>ã€‚å¤äººäº‘ï¼š<strong>è‚‰é£Ÿè€…é„™ï¼Œæœªèƒ½è¿œè°‹</strong>ï¼Œè¯šä¸æ¬ºæˆ‘ä¹Ÿã€‚ä¸€å‘³åœ°è¿½æ±‚å¿«é€Ÿè¿­ä»£ï¼Œâ€œå±â€å±±è¶Šæ»šè¶Šé«˜æ²¡æœ‰äººåœ¨ä¹ï¼›ä¸€å‘³åœ°è¿½æ±‚åŠŸèƒ½å åŠ ï¼ŒæŠ€æœ¯å€ºåŠ¡è¶Šæ¥è¶Šå¤šæ²¡æœ‰äººåœ¨ä¹ã€‚æ‰€ä»¥ï¼Œæœ¬ç€â€œå¤šä¸€äº‹ä¸å¦‚å°‘ä¸€äº‹â€çš„åŸåˆ™ï¼Œç›´æ¥é€šè¿‡ Dapper å†™ SQL è¯­å¥ä¸€æ ·æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºè¢«å‹æ¦¨å®Œä»¥åçš„æ—¶é—´åªèƒ½å†™è¿™ä¸ªã€‚åœ¨ä»Šå¤©çš„è¿™ç¯‡åšå®¢é‡Œï¼Œæˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«çš„æ˜¯ï¼Œ<code>Dapper.Contrib</code>åœ¨æ“ä½œ Oracle æ•°æ®åº“æ—¶å¼•å‘ <strong>ORA-00928: ç¼ºå¤± SELECT å…³é”®å­—</strong> è¿™ä¸€é”™è¯¯èƒŒåçš„æ ¹æœ¬åŸå› ï¼Œä»¥åŠ Dapper ä½œä¸ºä¸€ä¸ªè½»é‡çº§ ORM åœ¨è®¾è®¡ä¸Šåšå‡ºçš„å–èˆã€‚</p>
<h1 id="é—®é¢˜å›é¡¾"><a href="#é—®é¢˜å›é¡¾" class="headerlink" title="é—®é¢˜å›é¡¾"></a>é—®é¢˜å›é¡¾</h1><p>åœ¨ä½¿ç”¨ <code>Dapper.Contrib</code> æ“ä½œ Oracle æ•°æ®åº“çš„æ—¶å€™ï¼Œé€šè¿‡ Insert() æ–¹æ³•æ¥æ’å…¥ä¸€ä¸ªå®ä½“å¯¹è±¡ï¼Œæ­¤æ—¶ï¼Œä¼šå¼•å‘ <strong>ORA-00928: ç¼ºå¤± SELECT å…³é”®å­—</strong> è¿™ç§å…¸å‹çš„ Oracle æ•°æ®åº“é”™è¯¯ï¼Œå¯¹äºç»å¸¸ä½¿ç”¨ Dapper çš„åšä¸»è€Œè¨€ï¼Œå¯¹äº <code>@</code> è¿˜æ˜¯ <code>:</code> è¿™ç§æ— èŠçš„è¯­æ³•è¿˜æ˜¯æœ‰ä¸€ç‚¹ç»éªŒçš„ï¼Œåœ¨å°è¯•æ‰‹å†™ SQL è¯­å¥åï¼Œå‘ç°ä½¿ç”¨ Dapper æä¾›çš„ <code>Execute()</code> æ‰©å±•æ–¹æ³•ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ï¼Œåˆæ­¥åˆ¤å®šåº”è¯¥æ˜¯ <code>Dapper.Contrib</code> è¿™ä¸ªæ‰©å±•åº“çš„é—®é¢˜ï¼Œåœ¨ç¿»é˜… <code>Dapper</code> çš„æºä»£ç ä»¥åï¼Œç»ˆäºæ‰¾åˆ°äº†é—®é¢˜çš„æ ¹æºæ‰€åœ¨ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢è¯·è·Ÿéšåšä¸»çš„ç›®å…‰ï¼Œæ¥ä¸€èµ·è§£è¯»è§£è¯» <code>Dapper.Contrib</code> è¿™ä¸ªæ‰©å±•åº“ï¼Œç›¸ä¿¡ä½ çœ‹å®Œä»¥åå°±ä¼šæ˜ç™½ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œä¼šè¢« Oracle æ•°æ®åº“æ‘†ä¸Šä¸€é“ï¼Œä»¥åŠä¸ºä»€ä¹ˆå®ƒè‡³ä»Šéƒ½ä¸è€ƒè™‘åˆå¹¶ Oracle æ•°æ®åº“ç›¸å…³çš„ PRã€‚</p>
<h1 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h1><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œ<code>Dapper</code> çš„æ ¸å¿ƒå…¶å®å°±æ˜¯ä¸€ä¸ª SqlMapper ï¼Œå®ƒæä¾›çš„ Query() å’Œ Execute() æ¥å£æœ¬èº«éƒ½æ˜¯é™„åŠ åœ¨ <code>IDbConnection</code> æ¥å£ä¸Šçš„æ‰©å±•æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œæœ€åŸºç¡€çš„ <code>Dapper</code> ç”¨æ³•å…¶å®æ˜¯ä¼´éšç€ SQL è¯­å¥å’Œä»¥åŒ¿åå¯¹è±¡ä¸ºä¸»çš„å‚æ•°åŒ–æŸ¥è¯¢ï¼Œè¿™å¯ä»¥è¯´æ˜¯ Dapper çš„æ ¸å¿ƒï¼Œè€Œ <code>Dapper.Contrib</code> åœ¨è¿™ä¸ªåŸºç¡€ä¸Šæä¾›äº† Get()ã€Insert()ã€Delete() å’Œ Update() ç­‰ç­‰å¸¸è§çš„ CRUD æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•éƒ½é’ˆå¯¹çš„æ˜¯å•ä¸»é”®çš„è¡¨ï¼Œè®© <code>Dapper</code>æœ‰äº†ä¸€ç‚¹ ORM çš„æ„Ÿè§‰ï¼Œå¯æƒœçš„æ˜¯ <code>Dapper.Contrib</code> çš„å®ç°æ˜¯ä¸å®Œæ•´çš„ï¼Œä¸»è¦æ˜¯æŒ‡ä¸‹é¢ä¸¤ä¸ªæ–¹é¢ï¼Œå³ï¼šç¬¬ä¸€ï¼Œå®˜æ–¹æœªèƒ½æä¾› Oracle ç‰ˆæœ¬çš„ <code>ISqlAdapter</code>ã€‚ç¬¬äºŒï¼Œå…¼å®¹ä¸åŒæ•°æ®åº“è‡ªå¢ ID çš„å®ç°ï¼Œè®©å®˜æ–¹åœ¨å¤„ç† Id çš„å‚æ•°åŒ–æŸ¥è¯¢æ—¶æŸæ‰‹æŸè„šï¼Œå¯¹ <code>ISqlAdapter</code> çš„è®¾è®¡å¹¶ä¸å…¨é¢ã€‚</p>
<h2 id="Oracle-ç‰ˆæœ¬çš„-ISqlAdapter"><a href="#Oracle-ç‰ˆæœ¬çš„-ISqlAdapter" class="headerlink" title="Oracle ç‰ˆæœ¬çš„ ISqlAdapter"></a>Oracle ç‰ˆæœ¬çš„ ISqlAdapter</h2><p>é¦–å…ˆï¼Œç¬¬ä¸€ä¸ªç»“è®ºï¼Œ<code>Dapper.Contrib</code> æ²¡æœ‰å®ç° Oracle ç‰ˆæœ¬çš„ <code>ISqlAdapter</code> ã€‚å…³äºè¿™ä¸ªæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>SqlMapperExtensions</code> è¿™ä¸ªç±»ä¸­æ‰¾åˆ°å®šä¹‰ï¼Œè€Œ <code>Dapper.Contrib</code> å†…éƒ¨å®é™…ä¸Šæ˜¯ç»´æŠ¤äº†ä¸€ä¸ªå­—å…¸ <code>AdapterDictionary</code> ï¼Œåœ¨ <code>SqlMapperExtensions.cs</code> æ–‡ä»¶çš„ç¬¬ 62 è¡Œ ~ ç¬¬ 73 è¡Œï¼Œæˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°ï¼Œå…¶å†…éƒ¨æä¾›äº† 6 ç§ <code>ISqlAdapter</code> çš„å®ç°ï¼Œä¸”é»˜è®¤ä¸º <code>SqlServerAdapter</code> ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> ISqlAdapter DefaultAdapter = <span class="keyword">new</span> SqlServerAdapter();</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Dictionary&lt;<span class="built_in">string</span>, ISqlAdapter&gt; AdapterDictionary</span><br><span class="line">    = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, ISqlAdapter&gt;(<span class="number">6</span>)</span><br><span class="line">      &#123;</span><br><span class="line">          [<span class="string">&quot;sqlconnection&quot;</span>] = <span class="keyword">new</span> SqlServerAdapter(),</span><br><span class="line">          [<span class="string">&quot;sqlceconnection&quot;</span>] = <span class="keyword">new</span> SqlCeServerAdapter(),</span><br><span class="line">          [<span class="string">&quot;npgsqlconnection&quot;</span>] = <span class="keyword">new</span> PostgresAdapter(),</span><br><span class="line">          [<span class="string">&quot;sqliteconnection&quot;</span>] = <span class="keyword">new</span> SQLiteAdapter(),</span><br><span class="line">          [<span class="string">&quot;mysqlconnection&quot;</span>] = <span class="keyword">new</span> MySqlAdapter(),</span><br><span class="line">          [<span class="string">&quot;fbconnection&quot;</span>] = <span class="keyword">new</span> FbAdapter()</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªè‡ªç„¶è€Œç„¶çš„é—®é¢˜æ˜¯ï¼Œè¿™ä¸ª <code>ISqlAdapter</code> æ¥å£æ˜¯åšä»€ä¹ˆçš„å‘¢ï¼Ÿä¸ºä»€ä¹ˆè¯´ <code>Dapper.Contrib</code> æ²¡æœ‰å®ç° Oracle ç‰ˆæœ¬çš„ ISqlAdapter å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬çœ‹ä¸€ä¸‹ <code>ISqlAdapter</code> çš„å®šä¹‰ï¼Œå°±å¯ä»¥äº†è§£åˆ°å…¶ä½œç”¨æ˜¯å‘Šè¯‰ Dapper ï¼Œåº”è¯¥æ€ä¹ˆæ ·å¤„ç†æ•°æ®åº“é‡Œçš„è‡ªå¢ IDã€æ€ä¹ˆæ ·è¡¨ç¤º <code>Column = Value</code> è¿™æ ·çš„ç»“æ„ï¼Œä»¥åŠæ€ä¹ˆæ ·å¤„ç†åˆ—åï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">interface</span> <span class="title">ISqlAdapter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">int</span> <span class="title">Insert</span>(<span class="params">IDbConnection connection, IDbTransaction transaction, </span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">int</span>? commandTimeout, <span class="built_in">string</span> tableName, <span class="built_in">string</span> columnList, </span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">string</span> parameterList, IEnumerable&lt;PropertyInfo&gt; keyProperties, </span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">object</span> entityToInsert</span></span></span><br><span class="line"><span class="params"><span class="function">    </span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">AppendColumnName</span>(<span class="params">StringBuilder sb, <span class="built_in">string</span> columnName</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">AppendColumnNameEqualsValue</span>(<span class="params">StringBuilder sb, <span class="built_in">string</span> columnName</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œä»¥ <code>MySqlAdapter</code> çš„å®ç°ä¸ºä¾‹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">MySqlAdapter</span> : <span class="title">ISqlAdapter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Insert</span>(<span class="params">IDbConnection connection, IDbTransaction transaction, </span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">int</span>? commandTimeout, <span class="built_in">string</span> tableName, <span class="built_in">string</span> columnList, </span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">string</span> parameterList, IEnumerable&lt;PropertyInfo&gt; keyProperties, </span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">object</span> entityToInsert</span></span></span><br><span class="line"><span class="params"><span class="function">    </span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> cmd = <span class="string">$&quot;insert into <span class="subst">&#123;tableName&#125;</span> (<span class="subst">&#123;columnList&#125;</span>) values (<span class="subst">&#123;parameterList&#125;</span>)&quot;</span>;</span><br><span class="line">        connection.Execute(cmd, entityToInsert, transaction, commandTimeout);</span><br><span class="line">        <span class="keyword">var</span> r = connection.Query(<span class="string">&quot;Select LAST_INSERT_ID() id&quot;</span>, transaction: transaction, commandTimeout: commandTimeout);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> id = r.First().id;</span><br><span class="line">        <span class="keyword">if</span> (id == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> propertyInfos = keyProperties <span class="keyword">as</span> PropertyInfo[] ?? keyProperties.ToArray();</span><br><span class="line">        <span class="keyword">if</span> (propertyInfos.Length == <span class="number">0</span>) <span class="keyword">return</span> Convert.ToInt32(id);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> idp = propertyInfos[<span class="number">0</span>];</span><br><span class="line">        idp.SetValue(entityToInsert, Convert.ChangeType(id, idp.PropertyType), <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Convert.ToInt32(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AppendColumnName</span>(<span class="params">StringBuilder sb, <span class="built_in">string</span> columnName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        sb.AppendFormat(<span class="string">&quot;`&#123;0&#125;`&quot;</span>, columnName);</span><br><span class="line">    ï½</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AppendColumnNameEqualsValue</span>(<span class="params">StringBuilder sb, <span class="built_in">string</span> columnName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        sb.AppendFormat(<span class="string">&quot;`&#123;0&#125;` = @&#123;1&#125;&quot;</span>, columnName, columnName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›¸ä¿¡çœ‹åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œå¤§å®¶ä¼šå’Œæˆ‘ä¸€æ ·æ„Ÿåˆ°å¤±æœ›ï¼Œå› ä¸º Dapper çš„åº•å±‚ä¾ç„¶æ˜¯åœ¨æ‹¼ SQL ï¼Œå°¤å…¶æ˜¯çœ‹åˆ° <code>AppendColumnNameEqualsValue()</code> è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€ç§æç„¶å¤§æ˜ç™½çš„æ„Ÿè§‰ï¼Œå› ä¸º @ è¿™ä¸ªç¬¦å·å¯¹äº Dapper çš„å‚æ•°åŒ–æŸ¥è¯¢è€Œè¨€ï¼Œå®åœ¨æ˜¯ç†Ÿæ‚‰å¾—ä¸èƒ½å†ç†Ÿæ‚‰äº†ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ä¸º Dapper å†™ SQL è¯­å¥çš„æ—¶å€™ï¼Œè¦å¯¹ Oracle åŒºåˆ«å¯¹å¾…ï¼Œå› ä¸ºè¿™ä¸ªå¥‡è‘©éè¦ç”¨ <code>:</code> è¿™ä¸ªå¥‡æ€ªçš„ç¬¦å·ã€‚å›åˆ°æˆ‘ä»¬ä¸€å¼€å§‹çš„é—®é¢˜ï¼Œä¸ºå•¥ <code>Dapper.Contrib</code> åœ¨ Oracle ç¯å¢ƒä¸‹ä¼šæç¤º <code>ORA-XXXXX</code> è¿™ç§é¬¼éƒ½çœ‹ä¸æ˜ç™½çš„é”™è¯¯ï¼Œå› ä¸ºå®ƒåœ¨å¤„ç† SQL çš„è¯­å¥çš„æ—¶å€™ä¾ç„¶ä½¿ç”¨çš„æ˜¯ <code>@</code> è¿™ä¸ªç¬¦å·ã€‚è¿™åˆæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå½“æŒ‡å®šçš„ <code>IDbConnection</code> åœ¨ <code>AdapterDictionary</code> ä¸­ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œå®ƒä¼šä½¿ç”¨é»˜è®¤çš„ <code>SqlServerAdapter</code> ï¼Œæ˜¾ç„¶ï¼Œå…¨ä¸–ç•Œåªæœ‰ Oracle è¿™ä¸ªå¥‡è‘©ä¼šç”¨ <code>:</code> è¿™ä¸ªå¥‡æ€ªçš„ç¬¦å·ã€‚æˆ‘ä»¬ä¸æ˜¯åœ¨è°ƒç”¨ Insert() æ–¹æ³•çš„æ—¶å€™æç¤ºè¿™ä¸ªé”™è¯¯å—ï¼Ÿé‚£ä¹ˆ <code>Dapper.Contrib</code> æ˜¯æ€ä¹ˆå®ç° <code>Insert()</code> æ–¹æ³•çš„å‘¢ï¼Ÿè¿™ä¸ªéƒ¨åˆ†å®ç°ä¸»è¦åœ¨ç¬¬ 352 è¡Œ ~ ç¬¬ 360 è¡Œï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> adapter = GetFormatter(connection);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; allPropertiesExceptKeyAndComputed.Count; i++)</span><br><span class="line"> &#123;</span><br><span class="line">    <span class="keyword">var</span> property = allPropertiesExceptKeyAndComputed[i];</span><br><span class="line">    adapter.AppendColumnName(sbColumnList, property.Name);  <span class="comment">//fix for issue #336</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; allPropertiesExceptKeyAndComputed.Count - <span class="number">1</span>)</span><br><span class="line">       sbColumnList.Append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>æ˜¾ç„¶ï¼Œè¿™éƒ¨åˆ†æ˜¯æŒ‰ç…§å±æ€§åå»ç»„ç»‡ <code>columnList</code> å’Œ <code>parameterList</code> çš„è¿‡ç¨‹ï¼Œå¯¹äº Oracle ï¼Œæ°¸è¿œæ˜¯å……æ»¡åæ§½çš„ï¼Œæ¯”å¦‚ä¸åŠ åŒå¼•å·åˆ™å¼ºåˆ¶å¤§å†™çš„è®¾å®šï¼Œè¿™æ„å‘³ç€å¦‚æœä½ çš„è¡¨åæˆ–è€…å­—æ®µåæ˜¯åŒºåˆ†å¤§å°å†™çš„è¯ï¼Œåœ¨ Oracle è¿™é‡Œéƒ½è¦åŠ ä¸ŠåŒå¼•å·ï¼Œè¿™å¯¹ <code>Dapper.Contrib</code> æœ‰ä»€ä¹ˆå½±å“å‘¢ï¼ŸåŸæœ¬æˆ‘ä»¬åªéœ€è¦ç»™å®ä½“æ·»åŠ <code>[Table]</code>æ ‡ç­¾å³å¯ï¼Œè€Œç°åœ¨ä½ ä¸å¾—ä¸è€ƒè™‘å¸¦ä¸Šåæ–œæ è½¬ä¹‰ï¼Œç”šè‡³å½“ä½ éœ€è¦ä¸º <code>DBeaver</code> ä¸‹è½½ä¸€ä¸ª JDBC çš„é©±åŠ¨çš„æ—¶å€™ï¼Œç”²éª¨æ–‡è¿™å®¶å…¬å¸å±…ç„¶è¦å¼ºåˆ¶ä½ å»æ³¨å†Œï¼Œå¯¹äºä¸€ä¸ªä¹ æƒ¯åƒ<code>Â·.NET Core</code>ã€<code>GCC</code>ã€<code>Python</code>ã€<code>Lua</code> å’Œ <code>Node</code> è¿™æ ·å¼€ç®±å³ç”¨çš„äººæ¥è¯´ï¼Œè¿™å°±åƒå¼ºè¿«ä½ æ³¨å†Œä¸€å¤§å †çœŸå®ä¿¡æ¯ï¼Œç„¶åå‘ç° API æ¥å£å®Œå…¨æ— æ³•åŒ¹é…ä½ çš„éœ€æ±‚ä¸€æ ·ç—›è‹¦ã€‚å…³äº <code>GetFormatter()</code> æ–¹æ³•ï¼Œå®ƒå’Œæˆ‘ä»¬çŒœæƒ³çš„å®Œå…¨ä¸€è‡´ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> ISqlAdapter <span class="title">GetFormatter</span>(<span class="params">IDbConnection connection</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">var</span> name = GetDatabaseType?.Invoke(connection).ToLower() ?? connection.GetType().Name.ToLower();</span><br><span class="line">   <span class="keyword">return</span> AdapterDictionary.TryGetValue(name, <span class="keyword">out</span> <span class="keyword">var</span> adapter) ? adapter : DefaultAdapter;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¥½äº†ï¼Œåœ¨æ˜ç™½äº†ä»¥ä¸Šç§ç§å› æœå…³ç³»ä»¥åï¼Œæˆ‘ä»¬ç°åœ¨æ¥è€ƒè™‘å¦‚ä½•è§£å†³ Oracle çš„é—®é¢˜ã€‚æŒ‰ç…§äººç±»æœ€ç›´è§‚çš„æ€ç»´ï¼Œæ—¢ç„¶å®ƒæ²¡æœ‰å®ç° Oracle ç‰ˆæœ¬çš„ <code>ISqlAdapter</code> ï¼Œæˆ‘è‡ªå·±å®ç°ä¸€ä¸ªä¸å°±å¥½å•¦ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OracleSqlAdapter</span> : <span class="title">ISqlAdapter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AppendColumnName</span>(<span class="params">StringBuilder sb, <span class="built_in">string</span> columnName</span>)</span></span><br><span class="line">   &#123;</span><br><span class="line">        sb.AppendFormat(<span class="string">&quot;&#123;0&#125;&quot;</span>, columnName);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AppendColumnNameEqualsValue</span>(<span class="params">StringBuilder sb, <span class="built_in">string</span> columnName</span>)</span></span><br><span class="line">   &#123;</span><br><span class="line">        sb.AppendFormat(<span class="string">&quot;&#123;0&#125; = :&#123;1&#125;&quot;</span>, columnName, columnName);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Insert</span>(<span class="params">IDbConnection connection, IDbTransaction transaction, <span class="built_in">int</span>? commandTimeout, <span class="built_in">string</span> tableName, </span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="built_in">string</span> columnList, <span class="built_in">string</span> parameterList, IEnumerable&lt;PropertyInfo&gt; keyProperties, <span class="built_in">object</span> entityToInsert</span>)</span></span><br><span class="line">   &#123;</span><br><span class="line">        <span class="keyword">var</span> sql = <span class="string">$&quot;insert into <span class="subst">&#123;tableName&#125;</span> (<span class="subst">&#123;columnList&#125;</span>) values (<span class="subst">&#123;parameterList&#125;</span>)&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> connection.Execute(sql, entityToInsert, transaction, commandTimeout);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task&lt;<span class="built_in">int</span>&gt; <span class="title">InsertAsync</span>(<span class="params">IDbConnection connection, IDbTransaction transaction, <span class="built_in">int</span>? commandTimeout, <span class="built_in">string</span> tableName, </span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="built_in">string</span> columnList, <span class="built_in">string</span> parameterList, IEnumerable&lt;PropertyInfo&gt; keyProperties, <span class="built_in">object</span> entityToInsert</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">         <span class="keyword">var</span> sql = <span class="string">$&quot;insert into <span class="subst">&#123;tableName&#125;</span> (<span class="subst">&#123;columnList&#125;</span>) values (<span class="subst">&#123;parameterList&#125;</span>)&quot;</span>;</span><br><span class="line">         <span class="keyword">return</span> connection.ExecuteAsync(sql, entityToInsert, transaction, commandTimeout);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦ç™½è¯´ï¼Œ <code>Dapper.Contrib</code> è¿™ç§çº¯é™æ€ç±»çš„è®¾è®¡ï¼Œå®Œå…¨å°±ä¸ç»™åˆ«äººç•™æ‰©å±•çš„å£å­ï¼Œä¸ºæ­¤ï¼Œæ‰©å±•æ–¹æ³• + åå°„æä¸€ä¸ªçªç ´å£ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">SqlAdapterrExtensions</span></span><br><span class="line"> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">UseSqlAdapter</span>&lt;<span class="title">TSqlAdapter</span>&gt;(<span class="params"><span class="keyword">this</span> IDbConnection connection, TSqlAdapter sqlAdapter</span>)</span></span><br><span class="line"><span class="function">        <span class="keyword">where</span> TSqlAdapter : ISqlAdapter, <span class="keyword">new</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> adapters = (Dictionary&lt;<span class="built_in">string</span>, ISqlAdapter&gt;)</span><br><span class="line">            <span class="keyword">typeof</span>(SqlMapperExtensions)</span><br><span class="line">            .GetField(<span class="string">&quot;AdapterDictionary&quot;</span>, BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.Static)</span><br><span class="line">            ?.GetValue(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> connectionType = connection.GetType().Name.ToLower();</span><br><span class="line">        <span class="keyword">if</span> (adapters != <span class="literal">null</span> &amp;&amp; !adapters.ContainsKey(connectionType))</span><br><span class="line">            adapters?.Add(connectionType, sqlAdapter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥æ»¡è¶³çœ¼ä¸‹ï¼Œè¿˜å¯ä»¥ç€çœ¼æœªæ¥ï¼Œè™½ç„¶æœªæ¥æœ‰æ—¶å€™æŒºé¥è¿œï¼Œä½†æ¢¦æƒ³è¿˜æ˜¯è¦æœ‰çš„ï¼Œå¼€é—­åŸåˆ™ï¼Œæˆ‘åšåˆ°äº†ï¼æ”¹è¿›åï¼Œæˆ‘ä»¬è¿™æ ·å¤„ç†å³å¯ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">connection = <span class="keyword">new</span> OracleConnection(ConnectionStrings.Default);</span><br><span class="line">connection.UseSqlAdapter(<span class="keyword">new</span> OracleSqlAdapter());</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæˆ‘ä»¬è§£å†³äº† Insert() çš„é—®é¢˜ï¼Œä½†éšä¹‹è€Œæ¥çš„ï¼ŒGet()ã€Delete()ã€Update() è¿™ä¸€ç³»åˆ—å’Œä¸»é”®ç›¸å…³çš„æ–¹æ³•ï¼Œéƒ½å› ä¸º <code>Dapper.Contrib</code> ä¸­çš„ä¸»é”®è®¾è®¡è€Œå‡ºç°äº†é—®é¢˜ï¼Œè€Œè¿™å°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦è®²çš„ä¸»é”® Id å‚æ•°åŒ–é—®é¢˜ã€‚</p>
<h2 id="ä¸»é”®-Id-å‚æ•°åŒ–é—®é¢˜"><a href="#ä¸»é”®-Id-å‚æ•°åŒ–é—®é¢˜" class="headerlink" title="ä¸»é”® Id å‚æ•°åŒ–é—®é¢˜"></a>ä¸»é”® Id å‚æ•°åŒ–é—®é¢˜</h2><p>å½“æˆ‘è°ˆèµ·è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘å¯¹äº <code>Dapper.Contrib</code> ä¸­æ”¯æŒè‡ªå¢ ID çš„åšæŒæ˜¯æ€€ç–‘çš„ï¼Œå› ä¸ºåœ¨åˆ†å¸ƒå¼ç››è¡Œçš„ä»Šå¤©ï¼Œæœ‰å¤§é‡çš„åˆ†å¸ƒå¼ ID ç”Ÿæˆæ–¹æ¡ˆä¾›æˆ‘ä»¬é€‰æ‹©ï¼Œæ¯”å¦‚åŸºäº <code>Redis</code> çš„å·æ®µç­–ç•¥ï¼ŒåŸºäºé›ªèŠ±ç®—æ³•çš„ ID ç”Ÿæˆç­‰ç­‰ã€‚å¤§å®¶ä¼šæ³¨æ„åˆ°æˆ‘å®ç°çš„ OracleSqlAdapter åœ¨å®ç° Insert() æ–¹æ³•çš„æ—¶å€™ç®€åŒ–äº†å¤§é‡ä»£ç ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘çœŸçš„ä¸çŸ¥é“ï¼Œæ€ä¹ˆä» Oracle ä¸­è·å–ä¸€ä¸ªæ–°ç”Ÿæˆçš„ IDï¼Œå°¤å…¶æ˜¯è¿™ä¸ª ID å±…ç„¶è¿˜è¦ä¾èµ–ä¸€ä¸ªæˆ‘å¬éƒ½æ²¡æœ‰å¬è¯´è¿‡çš„â€œåºåˆ—â€ï¼Œè€Œä¹‹æ‰€ä»¥è¦åœ¨ ISqlAdapter ä¸­å®ç° Insert() æ–¹æ³•ï¼Œæœ€æ ¹æœ¬çš„åŸå› å°±æ˜¯ï¼Œå„ä¸ªæ•°æ®åº“å¯¹äºè‡ªå¢ ID çš„å®ç°æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚ MySQL ä¸­ä½¿ç”¨çš„æ˜¯ <code>SCOPE_IDENTITY()</code>ï¼Œè€Œ MSSQL ä¸­ä½¿ç”¨çš„åˆ™æ˜¯ <code>SCOPE_IDENTITY()</code> ï¼Œå°±å› ä¸ºè¿™ä¸€ç‚¹ç‚¹å·®å¼‚ï¼Œæˆ‘ä»¬å°±å¿…é¡»è¦å»æŠ˜è…¾ä¸€éï¼Œå¯ä»¥è¯´ï¼Œ Dapper.Contrib ä¸æ”¯æŒ Oracle çš„ä¸€ä¸ªé‡è¦åŸå› ï¼Œå°±æ˜¯åœ¨ Oracle ä¸‹å®ç°è‡ªå¢ ID å¤ªéº»çƒ¦äº†ã€‚</p>
<p>æ—¢ç„¶å¤§å®¶éƒ½ä¸ç”¨è‡ªå¢ ID äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åœ¨ä¸€ä¸ªé€šç”¨çš„ ORM é‡ŒæŠ˜è…¾è¿™ä¸ªå‘¢ï¼Ÿè¯´å®è¯ï¼Œæˆ‘çœŸæ‹…å¿ƒæœ‰ä¸€å¤©è‡ªå¢ ID ä¼šæº¢å‡ºï¼Œè°è®©æ¯ä¸ªæ•°æ®åº“é‡Œçš„ä¸Šé™éƒ½ä¸ä¸€æ ·å‘¢ï¼Ÿå¦ä¸€æ–¹é¢ï¼Œæ—¢ç„¶ Id åœ¨æ¯ä¸ªæ•°æ®åº“çš„å®ç°éƒ½ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆï¼Œä½œä¸º Id æœ¬èº«åº”è¯¥è€ƒè™‘æ”¾åˆ° <code>ISqlAdapter</code> æ¥å£ä¸­ç”±ä½¿ç”¨è€…æ¥å®ç°å•Šï¼Œå¯åå ISqlAdapter é‡Œåªå®šä¹‰äº†ä¸€ä¸ª Insert() æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œå°±ç®—æˆ‘ä»¬å®ç°äº† OracleSqlAdapter ï¼Œä¸€æ ·æ— æ³•è§£å†³ Insert() æ–¹æ³•ä»¥å¤–çš„å…¶å®ƒæ–¹æ³•åœ¨ Oracle ä¸‹é¢çš„é—®é¢˜ï¼Œæ­£å› ä¸ºå¦‚æ­¤ï¼Œé»˜è®¤çš„ @ ç¬¦å·åœ¨ Oracle ç¯å¢ƒä¸‹ä¸‹æ²¡æœ‰è¢«å®Œå…¨æ›¿æ¢æ‰ï¼Œè¿™å°±éœ€è¦ä¿®æ”¹ Dapper.Contrib çš„åº•å±‚ä»£ç ï¼Œè¿™çœŸçš„æ˜¯ä¸€ä¸ªä¸å¥½çš„è®¾è®¡ï¼Œå› ä¸ºä½¿ç”¨è€…å®Œå…¨æ²¡æœ‰åŠæ³•é€šè¿‡é‡å†™æ¥è¦†ç›–æŸäº›é»˜è®¤è¡Œä¸ºï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ï¼Œéœ€è¦ä¿®æ”¹å“ªäº›åœ°æ–¹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">Get</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="keyword">this</span> IDbConnection connection, <span class="built_in">dynamic</span> id, </span></span></span><br><span class="line"><span class="params"><span class="function">IDbTransaction transaction = <span class="literal">null</span>, <span class="built_in">int</span>? commandTimeout = <span class="literal">null</span></span>) <span class="keyword">where</span> T : <span class="keyword">class</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> type = <span class="keyword">typeof</span>(T);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!GetQueries.TryGetValue(type.TypeHandle, <span class="keyword">out</span> <span class="built_in">string</span> sql))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> key = GetSingleKey&lt;T&gt;(<span class="keyword">nameof</span>(Get));</span><br><span class="line">        <span class="keyword">var</span> name = GetTableName(type);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç¬¬ä¸€ä¸ªåäº‹å„¿çš„åœ°æ–¹ï¼Œä¸ºä»€ä¹ˆä¸ç”¨AppendColumnName()æ–¹æ³•?</span></span><br><span class="line">        sql = <span class="string">$&quot;select * from <span class="subst">&#123;name&#125;</span> where <span class="subst">&#123;key.Name&#125;</span> = @id&quot;</span>;</span><br><span class="line">        GetQueries[type.TypeHandle] = sql;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dynParams = <span class="keyword">new</span> DynamicParameters();</span><br><span class="line">    <span class="comment">//ç¬¬äºŒä¸ªåäº‹çš„åœ°æ–¹ï¼Œä»€ä¹ˆä¸ç”¨AppendColumnName()æ–¹æ³•??</span></span><br><span class="line">    dynParams.Add(<span class="string">&quot;@id&quot;</span>, id);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä»¥ä¸‹ä»£ç å·²çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">long</span> <span class="title">Insert</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="keyword">this</span> IDbConnection connection, T entityToInsert,</span></span></span><br><span class="line"><span class="params"><span class="function">IDbTransaction transaction = <span class="literal">null</span>, <span class="built_in">int</span>? commandTimeout = <span class="literal">null</span></span>) <span class="keyword">where</span> T : <span class="keyword">class</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//ä»¥ä¸Šä»£ç å·²çœç•¥</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> sbParameterList = <span class="keyword">new</span> StringBuilder(<span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; allPropertiesExceptKeyAndComputed.Count; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ç¬¬ä¸‰ä¸ªåäº‹çš„åœ°æ–¹ï¼Œä»€ä¹ˆä¸ç”¨AppendColumnName()æ–¹æ³•???</span></span><br><span class="line">        <span class="keyword">var</span> property = allPropertiesExceptKeyAndComputed[i];</span><br><span class="line">        sbParameterList.AppendFormat(<span class="string">&quot;@&#123;0&#125;&quot;</span>, property.Name);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; allPropertiesExceptKeyAndComputed.Count - <span class="number">1</span>)</span><br><span class="line">            sbParameterList.Append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä»¥ä¸‹ä»£ç å·²çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®ï¼Œä»”ç»†é˜…è¯» Update() å’Œ Delete() ä¸¤ä¸ªæ–¹æ³•çš„å®ç°ï¼Œå°±ä¼šå‘ç°å®ƒä»¬éƒ½éå¸¸å®Œç¾åœ°é¿å¼€äº†è¿™ä¸€ç‚¹ï¼Œå°±æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆåªæœ‰ä¸¤ä¸ªæ–¹æ³•é‡‡ç”¨äº†ä¸åŒåœ°æ–¹å¼å»æ‹¼æ¥ SQL ï¼Œå½“ç„¶ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šæ„è¯†åˆ°æœ‰ä¸ªåˆ—åçš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦åŒºåˆ†å¤§å°å†™çš„æƒ…å†µä¸‹ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å»å®šä¹‰ä¸€ä¸ª ColumnAttributeï¼Œè¿˜èƒ½è¯´ä»€ä¹ˆå‘¢ï¼Ÿè¯·å’Œæˆ‘å¤§å£°åœ°åæ§½ï¼š<strong>åƒåœ¾ Oracle ï¼</strong>ä½ çœ‹ï¼Œå°±ä¸ºäº†è¿™ä¸€ç‚¹ç‚¹å·®å¼‚ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å»é¢å¤–å†™ä¸€ç‚¹ä»£ç ï¼Œæ‰€ä»¥ï¼Œå–Šäº†å¾ˆå¤šå¹´çš„å» IOEï¼Œæˆ‘è¡¨ç¤ºä¸¾åŒæ‰‹èµæˆã€‚</p>
<p>äº‹å®ä¸Šï¼Œç¤¾åŒºé‡Œå·²ç»æœ‰ç±»ä¼¼çš„PRï¼Œå¯å› ä¸ºæ”¹åŠ¨çš„èŒƒå›´æ¯”è¾ƒå¤§ï¼Œå®˜æ–¹è‡³ä»Šéƒ½æ²¡æœ‰è€ƒè™‘è¿‡å°†å…¶åˆå¹¶åˆ°ä¸»å¹²åˆ†æ”¯ä¸Šï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªé—®é¢˜ä¸€ç›´æ²¡æœ‰è§£å†³ï¼Œè¿™æ˜¯ä¸€ä¸ªæ‚²ä¼¤çš„æ•…äº‹ã€‚</p>
<h1 id="ç›¸å…³æ€è€ƒ"><a href="#ç›¸å…³æ€è€ƒ" class="headerlink" title="ç›¸å…³æ€è€ƒ"></a>ç›¸å…³æ€è€ƒ</h1><p>åœ¨é˜…è¯» Dapper æºç çš„åŒæ—¶ï¼Œæˆ‘æŸ¥é˜…äº†ä¸€ä¸ªå’Œ Dapper.Contrib ç±»ä¼¼çš„é¡¹ç›®ï¼šDapperExtensionï¼Œæˆ‘å‘ç°è¿™ä¸ªé¡¹ç›®ç›®å‰å¤„åœ¨â€œè’åºŸâ€çš„çŠ¶æ€ï¼Œå› ä¸ºå®ƒé‡åˆ°äº†ç›¸åŒçš„é—®é¢˜ï¼Œå³ SQL è¿™é—¨çœ‹èµ·æ¥ç»Ÿä¸€å®åˆ™ç›¸å½“ä¸ç»Ÿä¸€çš„è¯­è¨€ï¼Œå› ä¸ºæ¯ä¸€ä¸ªæ•°æ®åº“å‚å•†å‡ ä¹éƒ½åœ¨ç»™æ ‡å‡†â€œæ·»ç –åŠ ç“¦â€œï¼Œå°±ä»¥è‡ªå¢ ID ä¸ºä¾‹ï¼ŒMySQLã€MSSQLã€Oracle å±…ç„¶æ˜¯ä¸‰ç§ä¸åŒçš„å®ç°æ–¹å¼ï¼Œå°¤å…¶æ˜¯ Oracle è¿™ä¸ªå¥‡è‘©ï¼Œå±…ç„¶è¿˜éœ€è¦å®šä¹‰ä¸€ä¸ªåºåˆ—æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªå¥‡è‘©ç»™æ•°æ®åº“åŠ æ³¨é‡Šéƒ½é‚£ä¹ˆå¦ç±»ï¼Œè¿™å¸¦æ¥çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼ŸDapper.Contrib æ— åŠ›å»å®ç° Oracle çš„è‡ªå¢ ID è€Œæ”¾å¼ƒäº† Oracle ï¼Œæ‰€ä»¥ï¼Œå³ä½¿ç¤¾åŒºé‡Œæäº¤äº† PRï¼Œå› ä¸ºå®ç°æ–¹å¼æœ‰ç‚¹è„ï¼Œå®˜æ–¹ä¸€ç›´æ²¡æœ‰åˆå¹¶åˆ°ä¸»å¹²ä¸Šå»ã€‚</p>
<p>å†å›è¿‡å¤´æ¥çœ‹ Dapper.Contrib æ”¯æŒè‡ªå¢ ID çš„ä¸¾åŠ¨ï¼Œæ€»ä¼šè§‰å¾—æœ‰ç‚¹ä¸åˆæ—¶å®œï¼Œå› ä¸ºä¸åŒæ•°æ®åº“è‡ªå¢ ID çš„ä¸Šé™ä¸ä¸€æ ·ä¸è¯´ï¼Œç°åœ¨éƒ½æ™®éåœ¨åˆ†å¸ƒå¼çš„ç¯å¢ƒä¸­ï¼Œæ•°æ®åº“çš„è‡ªå¢ ID å…¶å®æ˜¯éå¸¸é¸¡è‚‹çš„åŠŸèƒ½ï¼Œè€Œå®é™…åº”ç”¨ä¸­å¸¸å¸¸ä¼šç”¨ <code>Redis</code> ã€é›ªèŠ±ç®—æ³•ç­‰æ¥å®ç°åˆ†å¸ƒå¼ IDï¼Œæ‰€ä»¥ï¼Œå½“ä½ å›é¡¾å†å²å‘å±•çš„è¶‹åŠ¿çš„æ—¶å€™ï¼Œå°±ä¼šæ„Ÿæ…¨æœ‰æ ‡å‡†åŒ–çš„ä¸œè¥¿è¯¥å¤šå¥½ï¼Œå¹¶ä¸æ˜¯è¯´è¿™ä¸ªä¸–ç•Œä¸éœ€è¦å¤šæ ·æ€§ï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çº¦æŸæ€§ä¸å¼ºçš„é¢†åŸŸï¼Œçœ‹èµ·æ¥å¤§å®¶éƒ½å®ç°äº† SQLï¼Œæ— ä¸€ä¾‹å¤–åœ°éƒ½å¤¹è—äº†ç§è´§ï¼Œå¯¹äºå•†ä¸šè¡Œä¸ºè€Œè¨€ï¼Œè¿™æ— å¯åšéï¼›å¯å¯¹äºè¿™ä¸ªä¸–ç•Œè€Œè¨€ï¼Œè¿™æ— ç–‘å¢åŠ äº†å·¥ä½œé‡ã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œå½“ä¸€ä¸ªè¡Œä¸šæ²¡æœ‰ä»€ä¹ˆæ ‡å‡†çš„æ—¶å€™ï¼Œåˆ°åº•æ˜¯çªç ´å‹‡æ°”å»ç‡å…ˆåˆ¶å®šæ ‡å‡†ï¼Œè¿˜æ˜¯æ”¾å¼ƒè‡ªæˆ‘å»è¿åˆå„ç§ä¸æˆæ–‡çš„è§„åˆ™ï¼Œå¯¹äºä¼ä¸šè€Œè¨€ï¼Œæ˜¯æˆ˜ç•¥ä¸Šçš„ä¸€ç§é€‰æ‹©ï¼›è€Œå¯¹äºä¸ªäººè€Œè¨€ï¼Œå…¶å®æ˜¯äººç”Ÿçš„ä¸€ç§é€‰æ‹©ã€‚å½“å½¼æ—¶é’æ˜¥å¹´å°‘çš„äººä»¬ï¼Œç«ç›¸ä»¥æ ‡æ–°ç«‹å¼‚ä¸ºè£çš„æ—¶å€™ï¼Œå¦‚æœæƒ³åˆ°æœ‰ä¸€å¤©ï¼Œç»ˆç©¶è¦æ´»æˆåƒç¯‡ä¸€å¾‹çš„äººç”Ÿï¼Œä¸ºäº†ç”Ÿæ´»è€Œé€‰æ‹©è·ªç€çš„æ—¶å€™ï¼Œå†…å¿ƒåˆä¼šæœ‰ä»€ä¹ˆä¸ä¸€æ ·çš„ä¸¾åŠ¨å‘¢ï¼Ÿ</p>
<h1 id="æœ¬æ–‡å°ç»“"><a href="#æœ¬æ–‡å°ç»“" class="headerlink" title="æœ¬æ–‡å°ç»“"></a>æœ¬æ–‡å°ç»“</h1><p>æœ¬æ–‡åˆ†æäº† Dapper.Contrib è¿™ä¸ªæ‰©å±•åº“ï¼Œåœ¨æ­é… Oracle æ•°æ®åº“ä½¿ç”¨æ—¶é‡åˆ° ORA-XXXXX ç³»åˆ—é”™è¯¯çš„åŸå› åŠç›¸åº”åœ°å¤„ç†æ–¹æ³•ï¼Œè¿™ä¸ªé—®é¢˜çš„è¡¨è±¡æ˜¯ Dapper.Contrib æ²¡æœ‰å®ç° OracleSqlAdapter ï¼Œè€Œæ›´æ·±å±‚çš„åŸå› ï¼Œå®é™…ä¸Šæ˜¯ Dapper.Contrib é€‰æ‹©æ”¯æŒè‡ªå¢ ID è€Œå¸¦æ¥çš„ SQL æ ‡å‡†å·®å¼‚åŒ–é—®é¢˜ã€‚å› ä¸ºä¸åŒçš„æ•°æ®åº“åœ¨å®ç°è‡ªå¢ ID æ—¶çš„æœºåˆ¶ä¸åŒï¼ŒOracle ç”šè‡³éœ€è¦å¼•å…¥åºåˆ—è¿™ä¸ªæ¦‚å¿µï¼Œè¿™ç§å·®å¼‚åŒ–ï¼Œå¢åŠ äº† Dapper å„ä¸ªæ‰©å±•åº“ç»´æŠ¤çš„å·¥ä½œé‡ï¼Œè¿™æ˜¯å®˜æ–¹ä¸€ç›´ä¸æ„¿æ„å®ç° OracleSqlAdapter çš„åŸå› ï¼Œå…¶æ¬¡ï¼Œ Dapper.Contrib åº•å±‚è®¾è®¡ä¸åˆç†ï¼Œé™¤äº† Insert() æ–¹æ³•ä»¥å¤–ï¼Œå…¶å®ƒä¾èµ–ä¸»é”®çš„æ–¹æ³•éƒ½æ²¡æœ‰æä¾›æ‰©å±•æ¥å£ï¼Œå¯¼è‡´ä½¿ç”¨è€…åªèƒ½é€šè¿‡ä¿®æ”¹åº•å±‚ä»£ç çš„æ–¹å¼è§£å†³é—®é¢˜ï¼Œè¿™ä¸¥é‡è¿åå¼€é—­åŸåˆ™ã€‚å¥½äº†ï¼Œè¿™æ˜¯ä¸€ç¯‡åˆ©ç”¨ 996 é—²æš‡(å¯èƒ½æ˜¯æŒ‡åšæ¢¦)å†™çš„ä¸€ç¯‡åšå®¢ï¼Œå¦‚æœæ–‡ç« ä¸­æœ‰ä»€ä¹ˆä¸å‘¨åˆ°çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶åœ¨åšå®¢ä¸‹é¢ç»™æˆ‘ç•™è¨€ï¼Œè°¢è°¢ï¼Œæ™šå®‰ï¼</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/f05d518.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/f05d518.html" itemprop="url">å…«æœˆæ€»ç»“</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-28T00:05:48+08:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="èƒŒå•è¯"><a href="#èƒŒå•è¯" class="headerlink" title="èƒŒå•è¯"></a>èƒŒå•è¯</h2><p><img src="https://i.loli.net/2020/08/28/OCf79JkXbP4vQUw.png" alt="image.png"></p>
<p>æœˆåˆå‘ç°è¿™ä¸ªè½¯ä»¶ï¼Œå‘ç°æ¯”æˆ‘ä¹‹å‰ä½¿ç”¨è¿‡çš„æ‰€æœ‰èƒŒå•è¯è½¯ä»¶éƒ½å¥½ç”¨ï¼ŒåŸºäºè‰¾å®¾æµ©æ–¯è®°å¿†æ›²çº¿ï¼Œæˆ‘çš„æ–¹æ³•æ˜¯åŒæ—¶æ‰“å¼€ä¸‰ä¸ªè½¯ä»¶ï¼š</p>
<ul>
<li>List èƒŒå•è¯ï¼ˆä¸Šå›¾è½¯ä»¶</li>
<li>æ¬§è·¯è¯å…¸ï¼ˆç”¨æ¥ç»ƒå‘éŸ³</li>
<li>è¯æ ¹è¯ç¼€å­—å…¸ï¼ˆç”¨æ¥è®°è¯æ ¹ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªâ€œä¸æ‹˜ä¸€æ ¼èƒŒå•è¯â€æ¨¡å—ï¼Œæœ‰è¶£è¿˜æ–¹ä¾¿è®°å¿†</li>
</ul>
<p>æ¯å¤©æ™šä¸ŠæŠ½ä¸€ä¸ªå°æ—¶ï¼Œæ•ˆæœè¿˜æ˜¯æŒºä¸é”™çš„ï¼Œå¸Œæœ›èƒ½ç»§ç»­åšæŒä¸‹å»ã€‚</p>
<h2 id="æ‰‹æœºæ¢å±å¹•"><a href="#æ‰‹æœºæ¢å±å¹•" class="headerlink" title="æ‰‹æœºæ¢å±å¹•"></a>æ‰‹æœºæ¢å±å¹•</h2><h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><p>ä¹‹å‰çš„å°ç±³ 8 çš„å±å¹•æ‘”åäº†ï¼Œç„¶åæ¢æ‰‹æœºåå°±ä¸€ç›´è¢«é—²ç½®ï¼Œæœ€è¿‘è€æ¯äº²æåˆ°å¥¹çš„æ‰‹æœºç”µæ± ä¸å¤ªç¨³å®šï¼Œå°±å¿ƒæƒ³ç€è‡ªå·±åŠ¨æ‰‹æŠŠè¿™å°å°ç±³çš„å±å¹•æ¢äº†ç»™å¥¹ç”¨ï¼Œä¹‹å‰è¿˜æ²¡æœ‰äº²è‡ªæ¢è¿‡å±å¹•ï¼Œè¿˜æ˜¯å¾—è‡ªå·±åŠ¨æ‰‹æŠ˜è…¾ä¸€æ³¢ã€‚</p>
<h3 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h3><p>ä¹‹å‰å°±çœ‹è¿‡åœ¨å®˜æ–¹æ¢éœ€è¦ 740 å…ƒï¼Œè§‰å¾—è¿™å°æ‰‹æœºç”¨äº†è¿™ä¹ˆä¹…äº†ï¼Œä¸å€¼å¾—èŠ±è¿™ä¸ªé’±æ¥â€œç»­å‘½â€ï¼Œè€Œä¸”å¯¹å±å¹•è¦æ±‚ä¹Ÿä¸é«˜ï¼Œèƒ½ç”¨å°±è¡Œã€‚æ‰€ä»¥åœ¨æŸå®ä¸Šæ‰¾äº†ä¸€ä¸ªåå¼ºåŒ—çš„å¸¦æ¡†å±å¹•æ€»æˆï¼Œè·Ÿç€ç½‘ä¸Šçš„è§†é¢‘æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥æ¢ï¼Œç»“æœåœ¨ç¬¬ä¸€æ­¥ï¼ˆæ‹†åå£³ï¼‰å¡äº†è¿‘ä¸¤ä¸ªå°æ—¶ï¼Œå·®ç‚¹æŠŠæˆ‘æ•´ç–¯äº†ã€‚</p>
<p>æœŸé—´è¿˜æŠŠå¼€æœºæ’çº¿æ‰¯æ–­äº†ï¼Œç„¶ååˆåœ¨æŸå®ä¸Šä¹°äº†ä¸¤æ¡æ’çº¿ï¼ˆå¤‡ç”¨ï¼‰ï¼Œå°±è¿™æ ·ç­‰äº†ä¸€å¤©æ‰èƒ½ç»§ç»­æ›´æ¢ã€‚</p>
<p>æœ€åæ›´æ¢å®Œå¼€æœºä¹Ÿæ˜¯å„ç§é—®é¢˜ï¼Œæ¯”å¦‚å› ä¸ºéŸ³é‡é”®å¡ä½å¯¼è‡´å¼€æœºè¿›å…¥ fastboot ç•Œé¢ï¼Œè¿˜æœ‰å› ä¸ºæŒ‡çº¹æ¨¡å—æ²¡æ’å¥½å¯¼è‡´æ— æ³•ä½¿ç”¨æŒ‡çº¹ã€‚</p>
<p>è§£å†³ä¸Šè¿°é—®é¢˜åï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ— æ³•è§£å†³ï¼Œå°±æ˜¯åå£³æ— æ³•å®Œå…¨è´´åˆï¼Œæ®ç½‘ä¸Šè¯´æ˜¯å› ä¸ºé‡Œé¢æ²¡æ”¾å¹³ï¼Œä½†è§‰å¾—è¿™ä¸ªæ²¡ä»€ä¹ˆå¤§ç¢ï¼Œåæ­£å¹³æ—¶ä¹Ÿæ˜¯æˆ´æ‰‹æœºå£³ï¼Œåªè¦ä¸é‡æ‘”å°±æ²¡äº‹ã€‚</p>
<h3 id="æ„Ÿæƒ³"><a href="#æ„Ÿæƒ³" class="headerlink" title="æ„Ÿæƒ³"></a>æ„Ÿæƒ³</h3><p>ç»è¿‡ä¸‰å¤©çš„æŠ˜è…¾ï¼Œæ€»ç®—æ˜¯æ¢å¥½äº†ï¼Œè™½ç„¶æœ€åå„ç§é—®é¢˜ï¼Œä½†ä¸ç®¡æ€ä¹ˆè¯´ä¹Ÿæ˜¯å°è¯•è¿‡ï¼Œå½“ç„¶æœ€é‡è¦ä¸€ä¸ªåŸå› ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªæ‰‹æœºæœ¬èº«å¹¶ä¸è´µé‡ï¼Œå°±å½“ç»ƒç»ƒæ‰‹ï¼Œå¦åˆ™æˆ‘è¿˜æ˜¯ä¼šé€‰æ‹©é€å»ç»´ä¿®åº—çš„ï¼Œæ¯•ç«Ÿä¸“ä¸šçš„äº‹å°±åº”è¯¥äº¤ç»™ä¸“ä¸šçš„äººåšã€‚</p>
<h2 id="RSS-é˜…è¯»"><a href="#RSS-é˜…è¯»" class="headerlink" title="RSS é˜…è¯»"></a>RSS é˜…è¯»</h2><p>ä»Šå¹´æœ€å¤§ä¸€ä¸ªæ”¹å˜ï¼Œå°±æ˜¯å¼€å§‹ä¹ æƒ¯ RSS é˜…è¯»ï¼Œè¿™å¤§å¤§å‡å°‘æˆ‘éœ€è¦åœ¨ä¸åŒå¹³å°åˆ‡æ¢çš„ç¹çï¼Œæ”¹ç”¨ RSS è®¢é˜…åï¼Œèƒ½è‡ªç”±è®¢é˜…è‡ªå·±æ„Ÿå…´è¶£çš„å†…å®¹ï¼Œä¸å—ç®—æ³•æ¨èçš„å½±å“ï¼Œä¸”å¯¹å„å¤§å¹³å°çš„æ–‡ç« æ‹¥æœ‰ä¸€è‡´çš„é˜…è¯»ä½“éªŒã€‚</p>
<h3 id="é˜…è¯»å™¨"><a href="#é˜…è¯»å™¨" class="headerlink" title="é˜…è¯»å™¨"></a>é˜…è¯»å™¨</h3><p>é¦–å…ˆæ˜¯è¦æ‰¾ä¸€ä¸ªç”¨å¾—èˆ’æœçš„ RSS é˜…è¯»å™¨ï¼Œæˆ‘åœ¨å‰å‡ ä¸ªæœˆéƒ½ä¸€ç›´åœ¨ä½¿ç”¨ RSS Reader Primeï¼Œè¿™ä¸ªé˜…è¯»å™¨çš„ä¼˜ç‚¹æ˜¯ï¼šé…è‰²å¥½çœ‹ï¼Œé˜…è¯»ä½“éªŒå¾ˆå¥½ã€æ”¯æŒæœç´¢ä»¥å‰é˜…è¯»è¿‡çš„æ–‡ç« ã€‚</p>
<p>ä½†æ˜¯åæ¥éšç€æˆ‘å¯¹ RSS çš„éœ€æ±‚è¶Šæ¥è¶Šå¤§ï¼Œç»å¸¸éœ€è¦åœ¨ä¸åŒè®¾å¤‡é—´åŒæ­¥è®¢é˜…æºå’Œé˜…è¯»å†å²ï¼Œè™½ç„¶è¯¥è½¯ä»¶è‡ªå¸¦æœ‰ iCloud åŒæ­¥ï¼Œä½†æ˜¯æŒºæ‰æ€¥çš„ï¼Œç»å¸¸å‡ºç°æ— æ³•åŒæ­¥çš„é—®é¢˜ï¼Œäºæ˜¯å‰æ®µæ—¶é—´è¶ Reeder 4 é™å…ï¼Œèµ¶ç´§åœ¨ä¸‰ä¸ªè®¾å¤‡ä¸­å®‰è£…ï¼Œç„¶åå¼€å§‹æˆ‘çš„ RSS æŠ˜è…¾ä¹‹æ—…ã€‚</p>
<h3 id="äº‘æœåŠ¡"><a href="#äº‘æœåŠ¡" class="headerlink" title="äº‘æœåŠ¡"></a>äº‘æœåŠ¡</h3><p>é¦–å…ˆ Reeder æ”¯æŒä½¿ç”¨ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•ï¼Œå¦‚ Feedlyã€Inoreader ç­‰ï¼Œä½†æ˜¯æˆ‘å°è¯•è¿‡è¿™ä¸¤è€…çš„æœåŠ¡ï¼Œæ€»è§‰å¾—æœ‰è®¢é˜…æºé™åˆ¶ï¼Œèµ¶ç´§ä¸å¤ªèˆ’æœï¼Œä¸”æˆ‘ç°åœ¨å·²ç»è®¢é˜…è¶…è¿‡ 100 ä¸ª RSS æºï¼Œäºæ˜¯åœ¨ <a target="_blank" rel="noopener" href="https://diygod.me/ohmyrss/">æˆ‘æœ‰ç‰¹åˆ«çš„ RSS ä½¿ç”¨æŠ€å·§</a> è¿™ç¯‡æ–‡ç« çš„å®‰åˆ©ä¸­ï¼Œæˆ‘ä¹Ÿè‡ªå·±æ­äº†ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://github.com/HenryQW/docker-ttrss-plugins">Tiny Tiny RSS</a>ï¼Œä»æ­¤ä¸å†æ‹…å¿ƒæœ‰é™åˆ¶ã€‚</p>
<h3 id="å®šåˆ¶è®¢é˜…æº"><a href="#å®šåˆ¶è®¢é˜…æº" class="headerlink" title="å®šåˆ¶è®¢é˜…æº"></a>å®šåˆ¶è®¢é˜…æº</h3><p>è‡ªå»º ttrss åï¼Œå°±å¼€å§‹æŠ˜è…¾å¦‚ä½•è®¢é˜…ä¸€äº›ä¸æ”¯æŒ rss çš„ç½‘ç«™ï¼Œé‚£å°±ä¸å¾—ä¸æ <a target="_blank" rel="noopener" href="https://docs.rsshub.app/">RSSHub</a> è¿™ä¸ªå¼€æºé¡¹ç›®äº†ï¼ˆä¸å‰é¢é‚£ç¯‡æ–‡ç« æ˜¯åŒä¸€ä¸ªä½œè€…ï¼‰ï¼Œæˆ‘è‡ªå·± fork äº†ä¸€ä»½éƒ¨ç½²åœ¨è‡ªå·±çš„ vps ä¸Šï¼Œæ ¹æ®è‡ªå·±å…´è¶£æ·»åŠ  RSS è®¢é˜…æºï¼Œå…¶å®å¤§éƒ¨åˆ†ä¸ªäººåšå®¢éƒ½æ˜¯æ”¯æŒ RSS è®¢é˜…çš„ï¼Œä¸»è¦æ˜¯ä¸€äº›æ¯”è¾ƒå¥‡æ€ªçš„éœ€æ±‚ï¼Œæ¯”å¦‚ï¼šå…¨æ–‡è¾“å‡ºå†…å®¹ã€ç­›é€‰åˆ†ç±»ç­‰ã€‚</p>
<p>æˆ‘è¿˜æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯æŠŠä¸€äº›è‹±æ–‡è®¢é˜…æºçš„æ ‡é¢˜ç¿»è¯‘æˆä¸­æ–‡ï¼Œæ¯•ç«Ÿè‹±æ–‡è¿˜æ˜¯æ¯”è¾ƒçƒ‚ï¼Œè¿™æ ·æˆ‘å°±èƒ½å¿«é€Ÿå¯»æ‰¾æ„Ÿå…´è¶£çš„æ–‡ç« é˜…è¯»ï¼Œè€Œä¸ç”¨ä¸€ä¸ªä¸€ä¸ªç»†çœ‹ï¼Œäºæ˜¯æˆ‘æ‰¾åˆ°ä¸€ä¸ªå¯ç”¨çš„ google translate åº“ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/google-translate-open-api">google-translate-open-api</a>ï¼Œä½†åœ¨æˆ‘çš„å¥—è·¯äº‘ä¸Šä¼šè¶…æ—¶ï¼Œè€Œåœ¨è°·æ­Œäº‘åˆ™æ²¡é—®é¢˜ï¼Œåæ¥æƒ³æƒ³è¿™æ ·å¯¹æˆ‘è‹±æ–‡æå‡æ˜¯æ— å¸®åŠ©çš„ï¼Œæ‰€ä»¥ä¹Ÿå°±æ”¾å¼ƒäº†ã€‚</p>
<p>å³ä¾¿ RSSHub å·²ç»è¶³å¤Ÿå¼ºå¤§ï¼Œä½†ç”±äºéƒ¨ç½²åœ¨å›½å†…çš„ vps ä¸Šï¼Œå³ä¾¿æˆ‘è®¾ç½®äº†ä»£ç†ï¼Œä¹Ÿä¼šå‡ºç°æ— æ³•è®¿é—®éƒ¨åˆ†éœ€è¦ç§‘å­¦ä¸Šç½‘çš„ç½‘ç«™ï¼Œè¿™æ—¶å€™æˆ‘ä¼šä½¿ç”¨ <a target="_blank" rel="noopener" href="https://feed43.com/">Feed43</a> å®šåˆ¶è¿™äº›æºï¼Œè™½ç„¶æ¯”è¾ƒåœŸï¼Œä½†ä¹Ÿèƒ½å‡‘åˆç”¨ã€‚</p>
<h2 id="é—¯è¶Šè‡ªåŠ¨ç­¾åˆ°"><a href="#é—¯è¶Šè‡ªåŠ¨ç­¾åˆ°" class="headerlink" title="é—¯è¶Šè‡ªåŠ¨ç­¾åˆ°"></a>é—¯è¶Šè‡ªåŠ¨ç­¾åˆ°</h2><p>æˆ‘ä»¬å­¦æ ¡å®ä¹ æœŸéœ€è¦æ¯å¤©åœ¨ä¸€ä¸ªå«åš ã€Œé—¯è¶Šé¡¶å²—å®ä¹ ç®¡ç†ç³»ç»Ÿã€ çš„è½¯ä»¶ä¸Šé¢å†™æ—¥å¿—ç­¾åˆ°ï¼Œä¸ªäººå¯¹äºè¿™ç§ç¹çä¸”çº¯å±åº”ä»˜çš„æ“ä½œå®åœ¨ä¸èƒ½å¿å—ï¼Œä¸è¿‡ä¹‹å‰æœ‰ä¸ªæœ‹å‹åšäº†ä¸ªè‡ªåŠ¨ç­¾åˆ°çš„è„šæœ¬ï¼Œæˆ‘ä¹Ÿå°±ç›´æ¥ç”¨ä»–çš„ï¼Œæ‡’å¾—é‡å¤é€ è½®å­ã€‚</p>
<p>æœ€è¿‘çªç„¶æƒ³æç‚¹ä¸šä½™é¡¹ç›®ï¼Œå°±ä¼°æ‘¸ç€åœ¨ä»–çš„åŸºç¡€ä¸Šåšä¸ªæ›´å®Œå–„çš„è‡ªåŠ¨ç­¾åˆ°ç³»ç»Ÿï¼Œä¸ä»…é™äºå­¦ç”Ÿè‡ªåŠ¨ç­¾åˆ°ï¼Œè¿˜æ‰“ç®—åšä¸€ä¸ªå¯ä»¥è®©æ•™å¸ˆå¿«æ·ç‚¹è¯„çš„æ“ä½œï¼Œæ®æˆ‘äº†è§£ï¼Œæ•™å¸ˆåœ¨ä¸Šé¢è¦é€ä¸€å¯¹å­¦ç”Ÿçš„æ—¥å¿—ç‚¹è¯„ï¼Œæ“ä½œè¦æ›´åŠ ç¹çï¼Œã€‚</p>
<p>è€Œä¸”æ ¹æ®è¯¥è½¯ä»¶å®˜ç½‘ä¸Šæè¿°ï¼Œåœ¨å¹¿ä¸œçœå°±æœ‰åå‡ å®¶åˆä½œæŠ€æ ¡ï¼Œå¦‚æœæˆ‘åšçš„è¿™ä¸ªç³»ç»Ÿèƒ½è®©å¤§å®¶èŠ‚çœè¿™äº›æ—¶é—´ï¼Œè¿˜æ˜¯æŒºæœ‰æˆå°±æ„Ÿçš„ã€‚</p>
<p>åˆæ­¥æƒ³æ³•æ˜¯åšä¸€ä¸ª web çš„ç®¡ç†åå° + å°ç¨‹åºç”¨æˆ·ç«¯ ï¼Œåé¢æ ¹æ®å®é™…ç”¨æˆ·é‡å†è€ƒè™‘è¦ä¸è¦åšæˆ SASS ç‰ˆã€‚</p>
<p>ç›®å‰åŸºæœ¬æ ¸å¿ƒç­¾åˆ°åŠŸèƒ½å·²ç»å®ç°ï¼Œå‰©ä¸‹çš„å°±æ˜¯åšæˆä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿï¼Œè‡³äºæŠ€æœ¯æ ˆï¼Œå°è¯•ä¸€ä¸‹ä½¿ç”¨ nest.js + react ã€‚</p>
<h2 id="å…«ä½°"><a href="#å…«ä½°" class="headerlink" title="å…«ä½°"></a>å…«ä½°</h2><p><a target="_blank" rel="noopener" href="https://4ark.me/posts/ba-bai-review.html">ã€Šå…«ä½°ã€‹è¯»åæ„Ÿ</a></p>
<h2 id="ä¸‹æœˆè®¡åˆ’"><a href="#ä¸‹æœˆè®¡åˆ’" class="headerlink" title="ä¸‹æœˆè®¡åˆ’"></a>ä¸‹æœˆè®¡åˆ’</h2><ol>
<li>å¾®ä¿¡å…¬ä¼—å· RSS è®¢é˜…æº</li>
<li>åœ¨è¯­é›€æ„å»ºè‡ªå·±çš„çŸ¥è¯†åº“</li>
<li>è¯»å®Œã€Šæ¸…é†’æ€è€ƒçš„è‰ºæœ¯ã€‹</li>
</ol>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/posts/ba-bai-review.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/ba-bai-review.html" itemprop="url">ã€Šå…«ä½°ã€‹è§‚åæ„Ÿ</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-28T00:03:45+08:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>è¿™å‡ å¤©åœ¨å¾ˆå¤šç¤¾åŒºç½‘ç«™éƒ½çœ‹åˆ°å…³äºã€Šå…«ä½°ã€‹çš„è¯„è®ºï¼Œè¶ç€å‘¨æœ«å’Œå¥³æœ‹å‹å»è§‚çœ‹ï¼Œä¹Ÿç®—äº†å´å¥¹ä¸€ç›´è¯´ä»Šå¹´å› ä¸ºç–«æƒ…æœŸé—´æ²¡æœ‰å»çœ‹è¿‡ç”µå½±çš„é—æ†¾ã€‚</p>
<p>å…¶å®åœ¨ä¹‹å‰æœ‰äº†è§£è¿‡è¿™éƒ¨ç”µå½±ï¼Œä¸»è¦è®²è¿°çš„æ˜¯ 1937 å¹´æ·æ²ªä¼šæˆ˜çš„æœ€åä¸€å½¹ï¼Œâ€œå…«ç™¾å£®å£«â€å¥‰å‘½åšå®ˆä¸Šæµ·å››è¡Œä»“åº“ï¼Œä»¥å°‘æ•Œå¤šé¡½å¼ºæŠµæŠ—å››å¤©å››å¤œçš„è¿™æ®µçœŸå®å†å²äº‹ä»¶ã€‚</p>
<p>å› ä¸ºæ€»æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œè¿™éƒ¨ç”µå½±ä»å»å¹´ä¸€ç›´æ‹–åˆ°ä»Šå¹´æ‰ç»ˆäºä¸Šæ˜ ï¼Œæœ€åä¸å¯é¿å…åœ°è¦åšä¸€äº›å¦¥åï¼Œä½†æ˜¯å°±ä¸Šæ˜ åçš„å‰§æƒ…æ¥è¯´è¿˜æ˜¯å¯ä»¥æ¥å—çš„ï¼Œè€Œä¸”æ®ç½‘ä¸Šèµ„æ–™æ‰€è¯´ï¼Œç”µå½±åŸæœ¬çš„é¾™æ ‡æ˜¯ 2019 ç¬¬ 88 å·ï¼ˆå…«åå…«å¸ˆï¼‰ï¼Œä½†æ˜¯åæ¥æ”¹ä¸º 2019 ç¬¬ 800 å·ï¼ˆå…«ç™¾å£®å£«ï¼‰ï¼Œä»è¿™ä¸¤ä¸ªå®šåˆ¶çš„é¾™æ ‡ï¼Œèƒ½çœ‹å‡ºå›½å®¶ç”µå½±å±€ç¡®å®æ˜¯ç»™äº†ç‰¹åˆ«ä¼˜å¾…çš„ã€‚</p>
<p>æš‚æ—¶æŠ›å¼€å†å²ï¼Œå°±ç”µå½±æœ¬èº«çš„è´¨é‡è€Œè¨€ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç»™ä¸ª 4 æ˜Ÿï¼Œå…¶ä¸­æœ‰å¾ˆå¤šåœºæˆ˜æ–—æˆï¼Œä¸ä¹ä¸€äº›è¡€è…¥çš„ç”»é¢ï¼Œä¸”æ•´ä½“å‰§æƒ…ç›¸å¯¹ç´§å‡‘ï¼Œæˆ˜æ–—æ€»æ˜¯æ¥å¾—å¾ˆçªç„¶ï¼Œå‰ä¸€ç§’è¿˜æ˜¯æ´»ç”Ÿç”Ÿçš„äººï¼Œä¸‹ä¸€ç§’å°±å€’ä¸‹ï¼Œèƒ½å¦‚æ­¤è¿‘è·ç¦»è§‚çœ‹æˆ˜äº‰çš„æ®‹é…·ï¼Œè®©æˆ‘å¯¹ä»Šå¤©èƒ½å¤„åœ¨å’Œå¹³çš„å¹´ä»£æ„Ÿåˆ°å¹¸è¿ï¼Œä¹Ÿè®©æŸäº›æ•´å¤©æƒ³ç€å¼€æˆ˜çš„äººçœ‹çœ‹ï¼Œè¿˜æ˜¯æŒºæœ‰æ•™è‚²æ„ä¹‰çš„ã€‚</p>
<p>å› ä¸ºå¤ªå…³æ³¨å‰§æƒ…æœ¬èº«ï¼Œæˆ‘ä»å¤´åˆ°å°¾å¹¶æ²¡æœ‰å¾ˆå…³æ³¨å“ªä¸ªè§’è‰²æ˜¯è°æ‰®æ¼”çš„ï¼Œä»¥è‡³äºåæ¥æˆ‘ç”šè‡³æ²¡æœ‰å‘ç°é‚£ä¸ªç‰¹æ´¾å‘˜å±…ç„¶æ˜¯é»„æ™“æ˜æ‰®æ¼”çš„ï¼Œå…¶ä¸­ä¹Ÿæœ‰ä¸€äº›æˆ‘ä¹‹å‰ä¸å¤ªæ„Ÿå…´è¶£çš„æ¼”å‘˜ï¼Œä½†è¿™éƒ¨æˆæˆ‘è®¤ä¸ºæ˜¯è¶…å‡ºäº†ä»–ä»¬ä¹‹å‰çš„æ°´å¹³çš„ã€‚</p>
<p>è¿‘å‡ å¹´æˆ‘å›½çš„æŠ—æ—¥ç‰‡ï¼Œæœ‰ä¸€ä¸ªé€šç—…ï¼Œé‚£å°±æ˜¯æ•…æ„ä¸‘åŒ–æ—¥æœ¬å†›äººï¼Œè€Œä¸€å‘³å¤¸å¤§è‡ªå·±ï¼Œä»¥æ­¤é¼“å¹æ°‘æ—ä¸»ä¹‰ã€‚ä½†è¿™éƒ¨ç”µå½±å¹¶æ²¡æœ‰ï¼Œå½±ç‰‡ä¸­ï¼Œä¸€åè®°è€…å»åˆ°æ—¥å†›è¥åœ°æ—¶ï¼Œçœ‹è§æ—¥å†›æˆ’å¤‡æ£®ä¸¥ã€è¨€è¡Œå¾‹å·±ï¼Œä¸”å¯¹ç‰ºç‰²å†›äººç»™äºˆåšè‘¬ï¼Œè¯´æ˜æ—¥å†›çš„å®åŠ›ä¸å®¹å°è§‘ï¼Œæ²¡æœ‰æ•…æ„è´¬ä½æ•Œäººçš„æ‹æ‘„æ–¹å¼å¾ˆå€¼å¾—å¤§å®¶å­¦ä¹ ã€‚è¿™ä¹Ÿå‡¸æ˜¾ä¸­å›½å†›æ–¹çš„è‹±å‹‡æŠ—æˆ˜å’Œä¸ºèƒœåˆ©æ‰€ä»˜å‡ºçš„ä»£ä»·ã€‚</p>
<p>è¿™éƒ¨ç”µå½±ä¸æ˜¯è¦æ¿€èµ·æ°‘æ—ä¸»ä¹‰ï¼Œæ›´ä¸æ˜¯è®©æˆ‘ä»¬æ•Œè§†æ—¥æœ¬è¿™ä¸ªå›½å®¶ï¼Œè€Œæ˜¯è®©æˆ‘ä»¬ä¸è¦å¿˜è®°é‚£æ®µå†å²ï¼Œä»è€Œæ›´åŠ çæƒœç°åœ¨å’Œå¹³çš„æ—¶ä»£ï¼Œé‚£æ—¶å€™æˆ‘ä»¬ä¹‹æ‰€ä»¥è¢«æ‰“å¾—è¿™ä¹ˆæƒ¨ï¼Œé™¤äº†è·Ÿæ—¥æœ¬å®åŠ›æ‚¬æ®Šä¹‹å¤–ï¼Œæ›´å¤šçš„æ˜¯å›½äººè‡ªå·±ä¸å›¢ç»“ï¼Œå½±ç‰‡ä¸­æœ‰ä¸€å¹•ç»™æˆ‘å¾ˆå¤§å†²å‡»ï¼Œå½“æ—¶æ—¥å†›æ­£åœ¨æ”»æ¥¼ï¼Œè€Œå›½å†›è‡ªè¡Œç»„æˆæ•¢æ­»é˜Ÿé«˜å–Šè‡ªå·±çš„å®¶ä¹¡å’Œåå­—ï¼Œèº«ç»‘æ‰‹æ¦´å¼¹å‰ä»†åç»§è·³æ¥¼ä¸æ•ŒäººåŒå½’äºå°½ï¼Œå½“æ—¶å¯¹å²¸å›´è§‚çš„äººè¯´çš„ä¸€å¥è¯ï¼šâ€œå›½äººçš†å¦‚æ­¤ï¼Œå€­å¯‡ä½•æ•¢ï¼Ÿâ€ã€‚</p>
<p>å½±ç‰‡ç»“æŸæ—¶ï¼Œè°¢æ™‹å…ƒå›¢é•¿æŒ‰ç…§å†›é˜Ÿé«˜å±‚å‘½ä»¤ï¼Œç‡é¢†å‰©ä½™çš„â€œå…«ç™¾å£®å£«â€ï¼Œå†²è¿‡æ—¥å†›ç«åŠ›å°é”çš„è¿å‘è‹±ç§Ÿç•Œçš„æ¡¥ã€‚å½±ç‰‡åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚å®é™…ä¸Šï¼Œåé¢å†²è¿‡è‹±ç§Ÿç•Œçš„â€œå…«ç™¾å£®å£«â€ç»“å±€æ›´åŠ æ‚²å‡‰ï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªè¡Œæœå¯»ã€‚è¿™é‡Œæˆ‘æƒ³è¯´çš„å¸Œæœ›ä»¥åæˆ‘ä»¬èƒ½æ­£è§†æˆ‘ä»¬çš„å†å²ï¼Œæ›´ä¸è¦æ‰­æ›²äº‹å®ï¼Œæ•¢äºæ­£è§†è‡ªèº«å†å²æ±¡ç‚¹çš„æ°‘æ—ï¼Œå‹‡äºæ‰¿è®¤é”™è¯¯ï¼Œæ‰æ˜¯ä¼Ÿå¤§çš„æ°‘æ—ã€‚</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/08/15/NET-Core%E4%B8%AD%E5%AF%B9%E8%B1%A1%E6%B1%A0-Object-Pool-%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/15/NET-Core%E4%B8%AD%E5%AF%B9%E8%B1%A1%E6%B1%A0-Object-Pool-%E7%9A%84%E4%BD%BF%E7%94%A8/" itemprop="url">.NET Core ä¸­å¯¹è±¡æ± (Object Pool)çš„ä½¿ç”¨</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-15T16:37:23+08:00">
                2020-08-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index">
                    <span itemprop="name">ç¼–ç¨‹è¯­è¨€</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>åœ¨æ­¤å‰çš„åšå®¢ä¸­ï¼Œåšä¸»å‚è€ƒ <a target="_blank" rel="noopener" href="https://github.com/dotnet-architecture/eShopOnContainers">eShopOnContainers</a> å®ç°äº†ä¸€ä¸ªåŸºäº RabbitMQ çš„äº‹ä»¶æ€»çº¿(EventBus)ã€‚åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæŒä¹…åŒ–è¿æ¥çš„ç±»<code>DefaultRabbitMQPersistentConnection</code>ï¼Œä¸»è¦è§£å†³äº† RabbitMQ åœ¨è¿æ¥æ–­å¼€åè‡ªåŠ¨é‡è¿çš„é—®é¢˜ï¼Œå¯å®é™…ä¸Šæˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒRabbitMQ æä¾›çš„è¿æ¥æ•°æ˜¯æœ‰ä¸€ä¸ªä¸Šé™çš„ï¼Œå¦‚æœé¢‘ç¹åœ°ä½¿ç”¨çŸ­è¿æ¥çš„æ–¹å¼ï¼Œå³é€šè¿‡<code>ConnectionFactory</code>çš„<code>CreateConnection()</code>æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªè¿æ¥ï¼Œä»æœ¬è´¨ä¸Šè®²ï¼Œä¸€ä¸ª<code>Connection</code>å¯¹è±¡å°±æ˜¯ä¸€ä¸ª TCP è¿æ¥ï¼Œè€Œ<code>Channel</code>åˆ™æ˜¯æ¯ä¸ª<code>Connection</code>å¯¹è±¡ä¸‹æœ‰é™çš„è™šæ‹Ÿè¿æ¥ï¼Œæ³¨æ„â€œæœ‰é™â€è¿™ä¸ªé™å®šè¯ï¼Œè¿™æ„å‘³ç€<code>Channel</code>å’Œ<code>Connection</code>ä¸€æ ·ï¼Œéƒ½ä¸èƒ½æ¯«æ— èŠ‚åˆ¶çš„åˆ›å»ºä¸‹å»ã€‚æ­¤æ—¶ï¼Œå®˜æ–¹æ¨èçš„åšæ³•æœ‰ä¸¤ç§ï¼š(1)ï¼šä¸€ä¸ª<code>Connection</code>å¯¹åº”å¤šä¸ª<code>Channel</code>åŒæ—¶ä¿è¯æ¯ä¸ª<code>Channel</code>çº¿ç¨‹ç‹¬å ï¼›(2)ï¼šåˆ›å»ºä¸€ä¸ª<code>Connection</code>æ± åŒæ—¶å®šæœŸæ¸…é™¤æ— æ•ˆè¿æ¥ã€‚è¿™é‡Œçš„ç¬¬äºŒç§åšæ³•ï¼Œæ˜¾ç„¶å°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è¯´çš„å¯¹è±¡æ± (Object Pool)å•¦ï¼Œæˆ‘ä»¬å°†ä»è¿™é‡Œæ‹‰å¼€è¿™ç¯‡åšå®¢çš„å¸·å¹•ã€‚</p>
<h1 id="ä»€ä¹ˆæ˜¯å¯¹è±¡æ± "><a href="#ä»€ä¹ˆæ˜¯å¯¹è±¡æ± " class="headerlink" title="ä»€ä¹ˆæ˜¯å¯¹è±¡æ± "></a>ä»€ä¹ˆæ˜¯å¯¹è±¡æ± </h1><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä»€ä¹ˆæ˜¯å¯¹è±¡æ± ï¼Ÿç®€å•æ¥è¯´ï¼Œå®ƒå°±æ˜¯ä¸€ç§ä¸ºå¯¹è±¡æä¾›å¯å¤ç”¨æ€§èƒ½åŠ›çš„è½¯ä»¶è®¾è®¡æ€è·¯ã€‚ä¿—è¯è¯´<strong>â€œæœ‰å€Ÿæœ‰è¿˜ï¼Œå†å€Ÿä¸éš¾â€</strong>ï¼Œè€Œå¯¹è±¡æ± å°±æ˜¯é€šè¿‡â€œå€Ÿâ€å’Œâ€œè¿˜â€è¿™æ ·ä¸¤ä¸ªåŠ¨ä½œæ¥ä¿è¯å¯¹è±¡å¯ä»¥è¢«é‡å¤ä½¿ç”¨ï¼Œè¿›è€ŒèŠ‚çœé¢‘ç¹åˆ›å»ºå¯¹è±¡çš„æ€§èƒ½å¼€é”€ã€‚å¯¹è±¡æ± åœ¨æ¸¸æˆè®¾è®¡ä¸­ä½¿ç”¨çš„æ›´æ™®éä¸€ç‚¹ï¼Œå› ä¸ºæ¸¸æˆä¸­å¤§é‡å­˜åœ¨ç€åƒå­å¼¹ã€æ€ªç‰©ç­‰ç­‰è¿™ç±»å¯å¤ç”¨çš„å¯¹è±¡ï¼Œä½ åœ¨ç©ç¬¬ä¸€äººç§°å°„å‡»æ¸¸æˆ(FPS)æ—¶ï¼Œæ€»æ˜¯æœ‰æºæºä¸æ–­çš„å­å¼¹æˆ–è€…ä¸§å°¸å‡ºç°ï¼Œå¯äº‹å®ä¸Šè¿™ä¸è¿‡æ˜¯æ•°å­—ä¸–ç•Œçš„å¾ªç¯å†ç”Ÿï¼Œå› ä¸ºç©å®¶çš„ç”µè„‘å†…å­˜å§‹ç»ˆéƒ½æœ‰ä¸€ä¸ªä¸Šé™ã€‚è€Œåœ¨æ•°æ®åº“çš„ä¸–ç•Œé‡Œï¼Œåˆ™å­˜åœ¨ç€ä¸€ä¸ªè¢«ç§°ä¸ºâ€œè¿æ¥æ± â€çš„ä¸œè¥¿ï¼Œæ¯å½“å‡ºç°æ•°æ®åº“æ— æ³•è¿æ¥çš„æƒ…å†µæ—¶ï¼Œç»éªŒä¸°å¯Œçš„å¼€å‘äººå‘˜å¾€å¾€ä¼šå…ˆæ£€æŸ¥â€œè¿æ¥æ± â€æ˜¯å¦æ»¡äº†ï¼Œè¿™å…¶å®å°±æ˜¯å¯¹è±¡æ± æ¨¡å¼åœ¨ç‰¹å®šé¢†åŸŸçš„å…·ä½“å®ç°å•¦ï¼Œæ‰€ä»¥ï¼Œå¯¹è±¡æ± æœ¬è´¨ä¸Šå°±æ˜¯è´Ÿè´£ä¸€ç»„å¯¹è±¡åˆ›å»ºå’Œé”€æ¯çš„å®¹å™¨ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªåŸºæœ¬çš„å¯¹è±¡æ± ç¤ºæ„å›¾ï¼š</p>
<p><img src="https://i.loli.net/2020/08/22/lReo7LQa1SODZpc.png" alt="å¯¹è±¡æ± ç¤ºæ„å›¾"></p>
<p>å¯ä»¥æ³¨æ„åˆ°ï¼Œ å¯¹è±¡æ± æœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯å¯ä»¥è‡ªä¸»åœ°ç®¡ç†â€œæ± å­â€å†…çš„æ¯ä¸ªå¯¹è±¡ï¼Œå†³å®šå®ƒä»¬æ˜¯éœ€è¦è¢«å›æ”¶è¿˜æ˜¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œéœ€è¦æ¶ˆè€—ä¸€å®šçš„ç³»ç»Ÿèµ„æºï¼Œè€Œä¸€æ—¦è¿™äº›å¯¹è±¡å¯ä»¥é‡å¤åœ°ä½¿ç”¨ï¼Œå°±èƒ½æœ‰æ•ˆåœ°èŠ‚çœç³»ç»Ÿèµ„æºçš„å¼€é”€ï¼Œè¿™å¯¹äºæˆ‘ä»¬æé«˜ç³»ç»Ÿæ€§èƒ½ä¼šéå¸¸æœ‰å¸®åŠ©ã€‚ä¹Ÿè®¸ï¼Œç°åœ¨è®¡ç®—æœºçš„ç¡¬ä»¶æ°´å¹³è¶Šæ¥è¶Šå¥½ï¼Œå¯æˆ‘ä»¬è¿˜æ˜¯è¦é‡æ–°æ‹¾èµ·è¿™ä¸ªé¢†åŸŸçš„åŸºç¡€çŸ¥è¯†ï¼Œå³æ•°æ®ç»“æ„ã€ç®—æ³•ã€æ•°å­¦å’Œè‹±è¯­ã€‚å¦‚æœä½ å®Œå…¨ç†è§£äº†å¯¹è±¡æ± æ¨¡å¼ï¼Œä½ åº”è¯¥å¯ä»¥éå¸¸è½»æ¾åœ°ç»™å‡ºä½ çš„å®ç°ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ObjectPool</span>&lt;<span class="title">T</span>&gt; : <span class="title">IObjectPool</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">private</span> Func&lt;T&gt; _instanceFactory;</span><br><span class="line">  <span class="keyword">private</span> ConcurrentBag&lt;T&gt; _instanceItems;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ObjectPool</span>(<span class="params">Func&lt;T&gt; instanceFactory</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    _instanceFactory = instanceFactory ?? </span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(instanceFactory));</span><br><span class="line">    _instanceItems = <span class="keyword">new</span> ConcurrentBag&lt;T&gt;();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> T <span class="title">Get</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">    T item;</span><br><span class="line">    <span class="keyword">if</span> (_instanceItems.TryTake(<span class="keyword">out</span> item)) <span class="keyword">return</span> item;</span><br><span class="line">    <span class="keyword">return</span> _instanceFactory();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Return</span>(<span class="params">T item</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    _instanceItems.Add(item);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼šä»¥ä¸Šä»£ç ç‰‡æ®µæ¥è‡ªå¾®è½¯çš„ä¸€ç¯‡æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/standard/collections/thread-safe/how-to-create-an-object-pool">How to: Create an Object Pool by Using a ConcurrentBag</a>ã€‚å®é™…ä¸Šï¼Œé™¤äº†<code>ConcurrentBag&lt;T&gt;</code>ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©çš„æ•°æ®ç»“æ„è¿˜å¯ä»¥æ˜¯<code>Stack&lt;T&gt;</code>ã€<code>Queue&lt;T&gt;</code>ä»¥åŠ<code>BlockingCollection&lt;T&gt;</code>ï¼Œæ­¤ä¸­å·®åˆ«ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»ä½“ä¼šã€‚</p>
<h1 id="NET-Core-ä¸­çš„å¯¹è±¡æ± "><a href="#NET-Core-ä¸­çš„å¯¹è±¡æ± " class="headerlink" title=".NET Core ä¸­çš„å¯¹è±¡æ± "></a>.NET Core ä¸­çš„å¯¹è±¡æ± </h1><p>åœ¨.NET Core ä¸­ï¼Œå¾®è½¯å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†å¯¹è±¡æ± çš„å®ç°ï¼Œå³<code>Microsoft.Extensions.ObjectPool</code>ã€‚å®ƒä¸»è¦æä¾›äº†ä¸‰ä¸ªæ ¸å¿ƒçš„ç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯<code>ObjectPool</code>ã€<code>ObjectPoolProvider</code>å’Œ<code>IPooledObjectPolicy</code>ï¼Œå…³äºè¿™ä¸‰è€…é—´çš„å…³ç³»ï¼Œæˆ‘ç»˜åˆ¶äº†ä¸‹é¢çš„ UML å›¾æ¥ä½œä¸ºè¯´æ˜ï¼š</p>
<p><img src="https://i.loli.net/2020/08/22/M6ojLtqgKc5pfCA.png" alt="ObjectPoolæ ¸å¿ƒç»„ä»¶åŠå…¶å…³ç³»"></p>
<p>å¯ä»¥æ³¨æ„åˆ°ï¼Œ<code>ObjectPool&lt;T&gt;</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒå¯¹å¤–æä¾›äº† Get()å’Œ Return()ä¸¤ä¸ªæ–¹æ³•ï¼Œæ‰€è°“çš„â€œæœ‰å€Ÿæœ‰è¿˜â€ï¼Œè¿™ä¸€ç‚¹æ²¡ä»€ä¹ˆå¯è¯´çš„ã€‚æ¥ä¸‹æ¥ï¼Œ<code>ObjectPoolProvider</code>åŒæ ·æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒçš„èŒè´£å°±æ˜¯åˆ›å»º<code>ObjectPool&lt;T&gt;</code>ï¼Œæ‰€ä»¥ï¼Œå®ƒæä¾›äº†ä¸¤ä¸ª<code>Create&lt;T&gt;()</code>æ–¹æ³•ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼Œæ— å‚æ•°ç‰ˆæœ¬æœ¬è´¨ä¸Šä½¿ç”¨çš„æ˜¯<code>DefaultPooledObjectPolicy&lt;T&gt;</code>ã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒåŒ<code>DefaultObjectPool&lt;T&gt;</code>ã€<code>DefaultObjectPoolProvider</code>ä¸€æ ·ï¼Œéƒ½æ˜¯å¾®è½¯æä¾›çš„é»˜è®¤å®ç°ï¼Œå…¶ä¸­<code>IPooledObjectPolicy&lt;T&gt;</code>å¯ä»¥ä¸ºä¸åŒçš„å¯¹è±¡æ± å®šä¹‰ä¸åŒçš„ç­–ç•¥ï¼Œæ¥å†³å®šå¯¹è±¡å¦‚ä½•â€œå€Ÿâ€ã€æ˜¯å¦å¯ä»¥â€œè¿˜â€ã€‚é»˜è®¤çš„å¯¹è±¡æ± <code>DefaultObjectPool&lt;T&gt;</code>å†…éƒ¨ä½¿ç”¨<code>ObjectWrapper[]</code>è¿™ä¸ªæ•°ç»„æ¥ç®¡ç†å¯¹è±¡ï¼Œæ•°ç»„çš„å¤§å°ç­‰äº maximumRetained - 1ï¼Œå› ä¸ºå®ƒå•ç‹¬æŒ‡å®šäº†é¦–é¡¹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ª maximumRetained ç­‰äº<code>Environment.ProcessorCount * 2</code>ï¼Œè¿™é‡Œä¸»è¦ç”¨åˆ°äº†<code>Interlocked.CompareExchange()</code>æ–¹æ³•ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> T <span class="title">Get</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> item = _firstItem;</span><br><span class="line">  <span class="keyword">if</span> (item == <span class="literal">null</span> || Interlocked.CompareExchange(<span class="keyword">ref</span> _firstItem, <span class="literal">null</span>, item) != item)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">var</span> items = _items;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; items.Length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">      item = items[i].Element;</span><br><span class="line">      <span class="keyword">if</span> (item != <span class="literal">null</span> &amp;&amp; Interlocked.CompareExchange(<span class="keyword">ref</span> items[i].Element, <span class="literal">null</span>, item) == item)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    item = Create();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> item;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Non-inline to improve its code quality as uncommon path</span></span><br><span class="line">[<span class="meta">MethodImpl(MethodImplOptions.NoInlining)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> T <span class="title">Create</span>()</span> =&gt; _fastPolicy?.Create() ?? _policy.Create();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Return</span>(<span class="params">T obj</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (_isDefaultPolicy || (_fastPolicy?.Return(obj) ?? _policy.Return(obj)))</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (_firstItem != <span class="literal">null</span> || Interlocked.CompareExchange(<span class="keyword">ref</span> _firstItem, obj, <span class="literal">null</span>) != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">var</span> items = _items;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; items.Length &amp;&amp; Interlocked.CompareExchange(<span class="keyword">ref</span> items[i].Element, obj, <span class="literal">null</span>) != <span class="literal">null</span>; ++i)</span><br><span class="line">      &#123;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸»è¦ç”¨åˆ°<code>Interlocked.CompareExchange()</code>è¿™ä¸ªæ–¹æ³•ï¼Œå¯¹äº<code>Get()</code>æ–¹æ³•è€Œè¨€ï¼Œå®ƒå°†<code>items[i].Element</code>å’Œ<code>null</code>è¿›è¡Œäº¤æ¢ï¼Œç›¸å½“äºå°†æŒ‡å®šå…ƒç´ è®¾ä¸º null å¹¶è¿”å›åŸå§‹å€¼ï¼›è€Œå¯¹äº<code>Return()</code>æ–¹æ³•è€Œè¨€ï¼Œå¦‚æœå°†<code>items[i].Element</code>å’Œ<code>obj</code>äº¤æ¢åçš„å€¼ä¸ä¸º nullï¼Œåˆ™è¡¨ç¤ºæŒ‡å®šå…ƒç´ å·²ç»â€œå½’è¿˜â€ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•åªæœ‰åœ¨ç¬¬ä¸€ä¸ªå‚æ•°å’Œç¬¬ä¸‰ä¸ªå‚æ•°ç›¸ç­‰æ—¶æ‰ä¼šå‘ç”Ÿäº¤æ¢ã€‚å¥½äº†ï¼Œäº†è§£äº†.NET Core ä¸­å¯¹è±¡æ± çš„å®ç°ä»¥åï¼Œæˆ‘ä»¬æ¥ä¸€èµ·çœ‹çœ‹å…·ä½“çš„ä½¿ç”¨ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> service = <span class="keyword">new</span> ServiceCollection();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨DefaultObjectPoolProvider</span></span><br><span class="line">service.AddSingleton&lt;ObjectPoolProvider, DefaultObjectPoolProvider&gt;();</span><br><span class="line"><span class="comment">//ä½¿ç”¨é»˜è®¤ç­–ç•¥</span></span><br><span class="line">service.AddSingleton&lt;ObjectPool&lt;Foo&gt;&gt;(serviceProvider =&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> objectPoolProvider = serviceProvider.GetRequiredService&lt;ObjectPoolProvider&gt;();</span><br><span class="line">  <span class="keyword">return</span> objectPoolProvider.Create&lt;Foo&gt;();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//ä½¿ç”¨è‡ªå®šä¹‰ç­–ç•¥</span></span><br><span class="line">service.AddSingleton&lt;ObjectPool&lt;Foo&gt;&gt;(serviceProvider =&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> objectPoolProvider = serviceProvider.GetRequiredService&lt;ObjectPoolProvider&gt;();</span><br><span class="line">  <span class="keyword">return</span> objectPoolProvider.Create(<span class="keyword">new</span> FooObjectPoolPolicy());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> serviceProvider = _service.BuildServiceProvider();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> objectPool = _serviceProvider.GetService&lt;ObjectPool&lt;Foo&gt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ‰å€Ÿæœ‰è¿˜ï¼Œä¸¤æ¬¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> item1 = objectPool.Get();</span><br><span class="line">objectPool.Return(item1);</span><br><span class="line"><span class="keyword">var</span> item2 = objectPool.Get();</span><br><span class="line">Assert.AreEqual(item1, item2);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ‰å€Ÿæ— è¿˜ï¼Œä¸¤æ¬¡æ˜¯ä¸åŒçš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> item3 = objectPool.Get();</span><br><span class="line"><span class="keyword">var</span> item4 = objectPool.Get();</span><br><span class="line">Assert.AreEqual(item3, item4);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œ<code>Foo</code>å’Œ<code>FooObjectPoolPolicy</code>æ˜¯ä¸¤ä¸ªéå¸¸å…¸å‹çš„â€œå·¥å…·ç±»â€ï¼Œç±»ä¼¼æˆ‘ä»¬æ‰€è¯´çš„â€œå·¥å…·äººâ€ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Foo</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="built_in">string</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">  <span class="keyword">public</span> DateTime? CreatedAt &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="built_in">string</span> CreatedBy &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FooObjectPoolPolicy</span> : <span class="title">IPooledObjectPolicy</span>&lt;<span class="title">Foo</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Foo <span class="title">Create</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Foo()</span><br><span class="line">    &#123;</span><br><span class="line">      Id = Guid.NewGuid().ToString(<span class="string">&quot;N&quot;</span>),</span><br><span class="line">      CreatedAt = DateTime.Now,</span><br><span class="line">      CreatedBy = <span class="string">&quot;Ezio&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Return</span>(<span class="params">Foo obj</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ä½ éœ€è¦æ§åˆ¶å¯¹è±¡æ± å†…çš„å¯¹è±¡å¦‚ä½•è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œä½ å¯ä»¥è€ƒè™‘å®ç°è‡ªå®šä¹‰çš„<code>IPooledObjectPolicy&lt;T&gt;</code>ï¼Œå¦åˆ™ï¼Œ<code>DefaultPooledObjectPolicy&lt;T&gt;</code>è¿™ä¸ªé»˜è®¤å®ç°å®Œå…¨å¯ä»¥æ»¡è¶³ä½ çš„ä½¿ç”¨ï¼Œè€Œè¿™å°±æ˜¯.NET Core ä¸­å¯¹è±¡æ± çš„æ‰€æœ‰ç”¨æ³•ï¼Œä¸€ä¸ªå®ç°èµ·æ¥å¹¶ä¸å¤æ‚ä½†æ˜¯åœ¨æŸäº›åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚</p>
<h1 id="å›åˆ°èµ·ç‚¹"><a href="#å›åˆ°èµ·ç‚¹" class="headerlink" title="å›åˆ°èµ·ç‚¹"></a>å›åˆ°èµ·ç‚¹</h1><p>å¥½äº†ï¼Œå›åˆ°æˆ‘ä»¬ä¸€å¼€å§‹çš„é—®é¢˜ï¼Œå³ï¼šå¦‚ä½•è§£å†³ RabbitMQ åœ¨å¤šæ¬¡é‡è¿åæç¤ºè¿æ¥æ•°ä¸è¶³çš„é—®é¢˜ã€‚ç”±äº Channel å¯¹è±¡æœ¬è´¨ä¸Šæ˜¯ Connection å¯¹è±¡ä¸Šçš„ TCP è¿æ¥çš„è½¯è¿æ¥ï¼Œæ‰€ä»¥ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªæ–°çš„ Channel çš„æ—¶å€™ï¼Œå®é™…ä¸Šä¼šç‹¬å ä¸€ä¸ª TCP è¿æ¥ã€‚è€ƒè™‘åˆ°åœ¨ä½¿ç”¨ RabbitMQ çš„æ—¶å€™ï¼Œå‘å¸ƒæ¶ˆæ¯&#x2F;æ¶ˆè´¹æ¶ˆæ¯æ¯æ¬¡éƒ½æ˜¯åˆ›å»ºä¸€ä¸ª Channelï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å¯èƒ½ä¼šå¯¼è‡´ TCP è¿æ¥æ•°è¢«ç”¨å®Œï¼Œè¿›è€Œå‡ºç°æ— æ³•è¿æ¥æˆ–è€…å“åº”è¿‡æ…¢ç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚æ—¢ç„¶ TCP è¿æ¥æ•°æ˜¯æœ‰é™çš„ï¼Œä¸ºä»€ä¹ˆä¸è€ƒè™‘å¤ç”¨è¿™äº› TCP è¿æ¥å‘¢ï¼Ÿä»è¿™ä¸ªè§’åº¦ä¸Šæ¥çœ‹ï¼Œæ•°æ®åº“è¿æ¥æ± æ‰¿æ‹…äº†ç›¸åŒçš„è§’è‰²ï¼Œå¢åŠ è¿æ¥æ•°è¯´åˆ°åº•æ˜¯ä¸€ç§â€œæ²»æ ‡ä¸æ²»æœ¬â€çš„åšæ³•ã€‚åœ¨å…·ä½“å®ç°ä¸Šï¼Œå¯ä»¥è€ƒè™‘ Connectionâ€œæ± â€å’Œ Channelâ€œæ± â€ï¼Œæˆ‘ä»¬æˆ‘ä»¬åƒå®˜æ–¹æ¨èçš„åšæ³•ä¸€æ ·ï¼Œä¸€ä¸ª Connection å¯¹åº”å¤šä¸ª Channelï¼Œå®é™…ä¸Šåªéœ€è¦å®ç° Channelâ€œæ± â€ã€‚é™¤éåœ¨å¤šä¸ª Connection å¯¹åº”å¤šä¸ª Channel çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘åŒæ—¶å®ç° Connectionâ€œæ± â€å’Œ Channelâ€œæ± â€ã€‚å¦ç™½è¯´ï¼Œæˆ‘è¿™é‡Œä¸€ç›´æ²¡èƒ½æ‰¾åˆ°å®ç° Connectionâ€œæ± â€çš„ç›¸å…³èµ„æ–™ï¼Œé«˜å†·çš„ <a target="_blank" rel="noopener" href="https://www.cnblogs.com/catcher1994/">Catcher</a> å¤§ç¥åªæ˜¯è®©æˆ‘å»è®¤çœŸè¯»å®˜æ–¹æ–‡æ¡£ï¼Œææ¸…æ¥š Connection å’Œ Channel çš„å…³ç³»ã€‚è€Œè¿™ä¸ª Channelâ€œæ± â€çš„å®ç°ï¼Œç»“åˆè¿™ç¯‡åšå®¢é‡Œçš„å†…å®¹ï¼Œå®ç°èµ·æ¥æ˜¯éå¸¸ç®€å•çš„ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ChannelObjectPoolPolicy</span> : <span class="title">IPooledObjectPolicy</span>&lt;<span class="title">IModel</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">readonly</span> IConnectionFactory _connectionFactory;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ChannelObjectPoolPolicy</span>(<span class="params">IConnectionFactory connectionFactory</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    _connectionFactory = connectionFactory;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> IModel <span class="title">Create</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">var</span> connection = _connectionFactory.CreateConnection();</span><br><span class="line">    <span class="keyword">return</span> connection.CreateModel();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Return</span>(<span class="params">IModel obj</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (!obj.IsOpen)</span><br><span class="line">    &#123;</span><br><span class="line">      obj?.Dispose();</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€æ­¥æ˜¯å®ç°<code>IPooledObjectPolicy&lt;IModel&gt;</code>ï¼Œæ³¨æ„åˆ°ï¼Œè¿™é‡Œé€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥äº†<code>ConnectionFactory</code>ï¼Œæ‰€ä»¥ï¼Œé™¤äº†å¸¸è§„çš„æ³¨å…¥é¡¹ä»¥å¤–ï¼Œè¿™é‡Œè¿˜éœ€è¦æ³¨å…¥<code>ConnectionFactory</code>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">services.AddSingleton&lt;IConnectionFactory, ConnectionFactory&gt;(sp =&gt; <span class="keyword">new</span> ConnectionFactory() &#123; </span><br><span class="line">    HostName = <span class="string">&quot;localhost&quot;</span>, </span><br><span class="line">    UserName = <span class="string">&quot;guest&quot;</span>, </span><br><span class="line">    Password = <span class="string">&quot;guest&quot;</span> </span><br><span class="line">&#125;);</span><br><span class="line">services.AddSingleton&lt;ObjectPoolProvider, DefaultObjectPoolProvider&gt;();</span><br><span class="line">services.AddSingleton&lt;ObjectPool&lt;IModel&gt;&gt;(serviceProvider =&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> objectPoolProvider = serviceProvider.GetRequiredService&lt;ObjectPoolProvider&gt;();</span><br><span class="line">  <span class="keyword">var</span> connectionFactory = serviceProvider.GetRequiredService&lt;ConnectionFactory&gt;();</span><br><span class="line">  <span class="keyword">return</span> objectPoolProvider.Create(<span class="keyword">new</span> ChannelObjectPoolPolicy(connectionFactory));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ EventBus é‡Œæ³¨å…¥<code>ObjectPool&lt;IModel&gt;</code>å³å¯ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨ Channel çš„ç”»é£æ˜¯ä¸‹é¢è¿™æ ·å­çš„ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> channel = _channelPool.Get();</span><br><span class="line"><span class="keyword">try</span> &#123;  <span class="comment">//åœ¨è¿™é‡Œåšç‚¹ä»€ä¹ˆå§  &#125;</span></span><br><span class="line"><span class="keyword">finally</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//å¥½å€Ÿå¥½è¿˜ï¼Œå†å€Ÿä¸éš¾</span></span><br><span class="line">  _channelPool.Return(channel);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…³äº Connectionâ€œæ± â€çš„å®ç°ï¼Œæˆ‘è®¤ä¸ºæˆ‘çš„æƒ³æ³•è¿˜ä¸å¤ªæˆç†Ÿï¼Œæš‚æ—¶åˆ—å…¥æœªæ¥çš„æ€è€ƒè®¡åˆ’ä¸­ï¼Œæ‰€ä»¥ï¼Œè¿™ç¯‡åšå®¢å°±å…ˆå†™åˆ°è¿™é‡Œã€‚</p>
<h1 id="æœ¬æ–‡å°ç»“"><a href="#æœ¬æ–‡å°ç»“" class="headerlink" title="æœ¬æ–‡å°ç»“"></a>æœ¬æ–‡å°ç»“</h1><p>å¯¹è±¡æ± (ObjectPool)æ˜¯ä¸€ç§é€šè¿‡å¤ç”¨å¯¹è±¡æ¥å‡å°‘èµ„æºå¼€é”€è¿›è€Œå®ç°æé«˜ç³»ç»Ÿæ€§èƒ½çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå…¶æ ¸å¿ƒæ˜¯æ§åˆ¶å®¹å™¨å†…å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ¥è§„é¿ç³»ç»Ÿçš„ä¸»åŠ¨å›æ”¶ï¼Œä»å¯¹è±¡æ± ä¸­(ObjectPool)â€œå€Ÿâ€å‡ºçš„å¯¹è±¡å¿…é¡»è¦åŠæ—¶â€œå½’è¿˜â€ï¼Œå¦åˆ™ä¼šé€ æˆå¯¹è±¡æ± (ObjectPool)ä¸­æ²¡æœ‰å¯ç”¨èµ„æºã€‚å®ç°å¯¹è±¡æ± å¯ä»¥è€ƒè™‘<code>ConcurrentBag&lt;T&gt;</code>ã€<code>Stack&lt;T&gt;</code>ã€<code>Queue&lt;T&gt;</code>ä»¥åŠ<code>BlockingCollection&lt;T&gt;</code>ç­‰å¤šç§æ•°æ®ç»“æ„ï¼Œè€Œå¾®è½¯åœ¨.NET Core ä¸­å·²ç»ä¸ºæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªç®€å•çš„å¯¹è±¡æ± ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰è‡ªå·±çš„<code>IPooledObjectPolicy&lt;T&gt;</code>å»å†³å®šå¯¹è±¡åº”è¯¥æ€ä¹ˆæ ·â€œå€Ÿâ€ã€æ€ä¹ˆæ ·â€œè¿˜â€ã€‚å› ä¸ºæ­¤å‰å®ç°åŸºäº RabbitMQ çš„ EventBus çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯æ¯æ¬¡åˆ›å»ºä¸€ä¸ª Channelï¼Œå³å®˜æ–¹æ‰€è°“çš„â€œçŸ­è¿æ¥â€çš„æ–¹å¼ï¼Œå› ä¸º Channel æœ¬è´¨ä¸Šæ˜¯ Connection åœ¨ TCP è¿æ¥ä¸Šçš„ä¸€ä¸ªè™šæ‹Ÿè¿æ¥ï¼Œæ‰€ä»¥ï¼Œæ¯æ¬¡åˆ›å»º Channel éƒ½ä¼šå ç”¨ä¸€ä¸ª TCP è¿æ¥ï¼Œå½“æˆ‘ä»¬ç³»ç»Ÿä¸­çš„ TCP è¿æ¥è¢«ç”¨å®Œçš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°æ— æ³•è¿æ¥ã€è¿æ¥è¿‡æ…¢çš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æœ€ç»ˆå¼•å…¥äº†å¯¹è±¡æ± ï¼Œå®é™…ä¸Šè¿™é‡Œæ˜¯å®ç°äº†ä¸€ä¸ª Channelâ€œæ± â€ï¼Œå…³äºæ˜¯å¦åº”è¯¥å®ç° Connectionâ€œæ± â€ï¼Œè¿™ä¸€ç‚¹æˆ‘è¿˜æ²¡æœ‰æƒ³å¥½ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œæ¸¸æˆä¸–ç•Œé‡Œå¯ä»¥å¤ç”¨çš„ GameObjectã€å„ç§æ•°æ®åº“é‡Œçš„è¿æ¥æ± ï¼Œéƒ½æ˜¯å¯¹è±¡æ± æ¨¡å¼åœ¨å„è‡ªé¢†åŸŸä¸­çš„å…·ä½“å®ç°ï¼Œè¿™å°±æ˜¯è¿™ç¯‡åšå®¢çš„å†…å®¹å•¦ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºä¸­ç•™è¨€ï¼Œè°¢è°¢å¤§å®¶ï¼</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/08/14/threadlocal/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/14/threadlocal/" itemprop="url">èŠä¸€èŠ Java ä¸­çš„ ThreadLocal</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-14T20:21:26+08:00">
                2020-08-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æåˆ° ThreadLocalï¼Œ Java å¼€å‘è€…å¹¶ä¸é™Œç”Ÿã€‚åœ¨é¢è¯•ä¸­ï¼Œä¹Ÿç»å¸¸è¢«é¢è¯•å®˜æåŠï¼Œå¯¹ Java å¼€å‘è€…è€Œè¨€ä¹Ÿæ˜¯ä¸€ä¸ªå¿…é¡»æŒæ¡çš„çŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥å°†å®ƒç†è§£é€å½»æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p>
<p>æ–‡ç« ç¨å¾®æœ‰ç‚¹é•¿ï¼Œä¸è¿‡ä»‹ç»çš„è¿˜æ˜¯æ¯”è¾ƒç»†è‡´ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/08/14/threadlocal/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/834cbf1e.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/834cbf1e.html" itemprop="url">æˆ‘ä»¥ä¸ºæˆ‘ä¸ä¼šæˆä¸ºé‚£æ ·çš„ç…ç¬”</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-12T00:37:51+08:00">
                2020-08-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>å¤šå¹´å‰åœ¨å¸å§çœ‹è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œé¢˜ç›®å¤§æ¦‚çš„æ„æ€å°±æ˜¯æœ¬æ–‡çš„æ ‡é¢˜ï¼Œä½œè€…è²Œä¼¼å«æ“ç¬”å¸ï¼Œä½†ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘è®°å¿†é”™ä¹±è¿˜æ˜¯æ€ä¹ˆçš„ï¼Œæˆ‘å±…ç„¶æ²¡æœ‰åœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°è¿™ç¯‡æ–‡ç« ï¼Œä»Šæ™šçªç„¶æƒ³èµ·äº†è¿™ç¯‡æ–‡ç« ï¼Œ è§‰å¾—å¾ˆé€‚åˆæ­¤åˆ»çš„å¿ƒæƒ…ï¼Œå°±æ¥å†™ä¸€ç¯‡å·®ä¸å¤šçš„å§ã€‚</p>
<p>å½“æˆ‘å°æ—¶å€™çœ‹åˆ°åˆ«äººå®¶é‡Œåµæ¶ï¼Œæˆ‘å¿ƒæƒ³æˆ‘ä»¥åä¸€å®šä¸ä¼šåƒä»–ä»¬è¿™ä¹ˆç…ç¬”ï¼Œç›´åˆ°æˆ‘ç°åœ¨ä¸ºå¤¹åœ¨å¥¹ä»¬ä¸­é—´è€Œæ„Ÿåˆ°å¿ƒç´¯ã€‚</p>
<p>å½“æˆ‘å°æ—¶å€™çœ‹åˆ°åˆ«äººè„¾æ°”æš´èºï¼Œæˆ‘å¿ƒæƒ³æˆ‘ä»¥åä¸€å®šä¸ä¼šåƒä»–ä»¬è¿™ä¹ˆç…ç¬”ï¼Œç›´åˆ°æˆ‘ç°åœ¨è¿˜ç»å¸¸æ— æ³•æ§åˆ¶è‡ªå·±çš„è„¾æ°”ã€‚</p>
<p>å½“æˆ‘å°æ—¶å€™çœ‹åˆ°åˆ«äººè‡ªç§è‡ªåˆ©ï¼Œæˆ‘å¿ƒæƒ³æˆ‘ä»¥åä¸€å®šä¸ä¼šåƒä»–ä»¬è¿™ä¹ˆç…ç¬”ï¼Œç›´åˆ°æˆ‘ç°åœ¨åšä»€ä¹ˆéƒ½å…ˆè€ƒè™‘è‡ªå·±ã€‚</p>
<p>å½“æˆ‘å°æ—¶å€™çœ‹åˆ°åˆ«äººç²¾æ‰“ç»†ç®—ï¼Œæˆ‘å¿ƒæƒ³æˆ‘ä»¥åä¸€å®šä¸ä¼šåƒä»–ä»¬è¿™ä¹ˆç…ç¬”ï¼Œç›´åˆ°æˆ‘ç°åœ¨ä¹Ÿç»å¸¸ç›˜ç®—å¦‚ä½•æ‰ä¸åƒäºã€‚</p>
<p>å½“æˆ‘å°æ—¶å€™çœ‹åˆ°åˆ«äººæœ‰éš¾ä¸å¸®ï¼Œæˆ‘å¿ƒæƒ³æˆ‘ä»¥åä¸€å®šä¸ä¼šåƒä»–ä»¬è¿™ä¹ˆç…ç¬”ï¼Œç›´åˆ°æˆ‘ç°åœ¨å®³æ€•è€åŒå­¦æ‰¾æˆ‘å€Ÿé’±ã€‚</p>
<p>å½“æˆ‘å°æ—¶å€™çœ‹åˆ°åˆ«äººå†·æ¼ æ— æƒ…ï¼Œæˆ‘å¿ƒæƒ³æˆ‘ä»¥åä¸€å®šä¸ä¼šåƒä»–ä»¬è¿™ä¹ˆç…ç¬”ï¼Œç›´åˆ°æˆ‘ç°åœ¨çœ‹åˆ°æœ‰äººæ™•å€’ä¹Ÿä¸æ•¢ä¸Šå»æ‰¶ã€‚</p>
<p>å½“æˆ‘å°æ—¶å€™çœ‹åˆ°åˆ«äººæ²¡æœ‰é“å¾·ï¼Œæˆ‘å¿ƒæƒ³æˆ‘ä»¥åä¸€å®šä¸ä¼šåƒä»–ä»¬è¿™ä¹ˆç…ç¬”ï¼Œç›´åˆ°æˆ‘ç°åœ¨åå…¬äº¤éƒ½ä¼šå…ˆæ‰¾åé¢çš„ä½ç½®ã€‚</p>
<p>å½“æˆ‘å°æ—¶å€™çœ‹åˆ°åˆ«äººä¸åˆç¾¤ï¼Œæˆ‘å¿ƒæƒ³æˆ‘ä»¥åä¸€å®šä¸ä¼šåƒä»–ä»¬è¿™ä¹ˆç…ç¬”ï¼Œç›´åˆ°æˆ‘ç°åœ¨å–œæ¬¢ä¸€ä¸ªäººå®‰é™çš„åšè‡ªå·±çš„äº‹ã€‚</p>
<p>æˆ‘ä»¬ç”Ÿæ´»ä¸­æœ‰å½¢å½¢è‰²è‰²çš„ç…ç¬”ï¼Œä½†æˆ‘ä»¬æ€»æ˜¯åœ¨ä¸åŒçš„æ—¶é—´é‡Œæ‰®æ¼”ç€ä»–ä»¬ã€‚</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/posts/tai-jiu-mei-geng-xin-blog-de-yi-xie-fan-si.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/tai-jiu-mei-geng-xin-blog-de-yi-xie-fan-si.html" itemprop="url">å¤ªä¹…æ²¡æ›´æ–°åšå®¢çš„åŸå› å’Œåæ€</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-03T00:00:00+08:00">
                2020-08-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>è·ç¦»ä¸Šä¸€ç¯‡æ–‡ç«  <a target="_blank" rel="noopener" href="https://4ark.me/post/72566ae3.html">æˆ‘çš„ 2019 å¹´åº¦æ€»ç»“</a> å‘å¸ƒæ—¶é—´ï¼Œå·²ç»è¿‡å»å¤§åŠå¹´äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ 2020 å¹´æˆ‘æŠŠå†™åšå®¢çš„ä¹ æƒ¯å¼„ä¸¢äº†ï¼Œå…¶å®åŸå› å¾ˆç®€å•ï¼Œé‚£å°±æ˜¯æˆ‘å˜æ‡’äº†ã€‚</p>
<p>æˆ‘æ›¾ç»™è‡ªå·±æ‰¾è¿‡å€Ÿå£ï¼Œå†™æŠ€æœ¯æ–¹é¢çš„æˆ‘æ€»è§‰å¾—è‡ªå·±å†™çš„å¤ªç²—æµ…ï¼Œå…¶å®è¿™ç±»æ–‡ç« åœ¨ç›®å‰å›½å†…å¹³å°å·²ç»å¤Ÿå¤šäº†ï¼Œæ²¡å¿…è¦é‡å¤äº§å‡ºè¿™ç±»æ–‡ç« ï¼Œä½†æ˜¯ä¸€ç¯‡è´¨é‡å¥½ã€æœ‰æ·±åº¦çš„æ–‡ç« ï¼Œåˆè¦èŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œè¿™è®©æˆ‘æ€»æ˜¯æœ›è€Œå´æ­¥ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§ç”Ÿæ´»ç±»æ–‡ç« ï¼Œæˆ‘ä¹Ÿè€ƒè™‘è¿‡è¦ä¸è¦æŠŠç”Ÿæ´»ä¸Šä¸€äº›æ„Ÿæƒ³è®°å½•ä¸‹æ¥ï¼Œä½†æ˜¯åæ¥æ€»æ˜¯å› ä¸ºå„ç§åŸå› æ²¡æœ‰è¿™æ ·åšï¼Œæ‰€ä»¥å¯¹æ¯”å»å¹´ï¼Œä»Šå¤©æˆ‘åœ¨å†™åšå®¢æ–¹é¢å˜æ‡’æƒ°äº†ï¼Œä½†æ˜¯æˆ‘çŸ¥é“å†™åšå®¢æ˜¯å¥½ä¹ æƒ¯ï¼Œæ‰€ä»¥ä»ç°åœ¨å¼€å§‹æˆ‘è¦é‡æ–°åšæŒè¿™ä¸ªä¹ æƒ¯ã€‚</p>
<p>æˆ‘è§‰å¾—æˆ‘æŠŠå†™åšå®¢è¿™ä»¶äº‹è¿˜æ˜¯çœ‹å¾—å¤ªåŠŸåˆ©ï¼Œè¿˜æ²¡å†™ä¹‹å‰å°±å¼€å§‹æƒ³ç€ä¼šä¸ä¼šæœ‰äººçœ‹ï¼Œå…¶å®åšå®¢æ›´å¤šæ˜¯ç»™ä»¥åçš„è‡ªå·±çœ‹ã€‚</p>
<p>è‡ªå‹‰ã€‚</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/08/02/2020/the-idolmaster/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/02/2020/the-idolmaster/" itemprop="url">THE IDOLM@STER å¶åƒå¤§å¸ˆç³»åˆ—ä¸ªäººå…¥å‘å¿ƒå¾—</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-02T19:23:00+08:00">
                2020-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index">
                    <span itemprop="name">éšç¬”</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p><img src="/the-idolmaster/imas-15th-banner.jpg" alt="imas-15th-banner"></p>
<p>è¯´èµ·æ¥æˆ‘æœ‰å¤šä¹…æ²¡å†™è¿‡äºŒæ¬¡å…ƒç›¸å…³çš„åšå®¢äº†ï¼Ÿæ°é€¢çˆ±é©¬ä»• 15 å‘¨å¹´ï¼Œå‰å‡ å¤©è¿½ç€å®˜æ–¹ç”Ÿæ”¾é‡æ¸©äº† 2011 ç‰ˆã€Šå¶åƒå¤§å¸ˆã€‹åŠ¨ç”»å’Œå‰§åœºç‰ˆï¼Œè¿˜æœ‰ 5 åœº LIVE BD çœ‹äº†ä¸ªçˆ½ï¼ˆæ‹œæ­¤æ‰€èµç¡çœ å‘¨æœ«æ—¶é—´åªæœ‰å…­å°æ—¶ï¼‰ï¼Œæ­£å¥½å€Ÿæ­¤æœºä¼šå†™ç‚¹ä¸œè¥¿ã€‚</p>
<p><del>å› ä¸ºä»¥å¾€çš„ç»éªŒå‘Šè¯‰æˆ‘ï¼Œå¦‚æœç°åœ¨æ‹–ç€ä¸å†™ä»¥åå°±æ›´å†™ä¸å‡ºæ¥äº†ï¼ˆ</del></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/08/02/2020/the-idolmaster/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/31/%E5%88%A9%E7%94%A8MySQL%E7%9A%84Binlog%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E4%B8%8E%E8%AE%A2%E9%98%85-%E4%B8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/31/%E5%88%A9%E7%94%A8MySQL%E7%9A%84Binlog%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E4%B8%8E%E8%AE%A2%E9%98%85-%E4%B8%8B/" itemprop="url">åˆ©ç”¨ MySQL çš„ Binlog å®ç°æ•°æ®åŒæ­¥ä¸è®¢é˜…(ä¸‹)ï¼šEventBus ç¯‡</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-31T12:01:14+08:00">
                2020-07-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®å­˜å‚¨</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>ç»ˆäºåˆ°è¿™ä¸ªç³»åˆ—çš„æœ€åä¸€ç¯‡ï¼Œåœ¨å‰ä¸¤ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«äº†ä»‹ç»äº†<strong>Binlog</strong>çš„æ¦‚å¿µå’Œäº‹ä»¶æ€»çº¿(<strong>EventBus</strong>)çš„å®ç°ï¼Œåœ¨å®Œæˆå‰é¢è¿™å°†è¿‘å¥½å‡ åƒå­—çš„é“ºå«ä»¥åï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥è¿›å…¥æ­£é¢˜ï¼Œå³é€šè¿‡ EventBus å‘å¸ƒ Binlogï¼Œå†é€šè¿‡ç¼–å†™å¯¹åº”çš„ EventHandler æ¥è®¢é˜…è¿™äº› Binlogï¼Œè¿™æ ·å°±å®ç°äº†æˆ‘ä»¬â€œæœ€åˆçš„æ¢¦æƒ³â€ã€‚å¦ç™½è¯´ï¼Œè¿™ä¸ªè¿‡ç¨‹å®åœ¨æœ‰ä¸€ç‚¹æ¼«é•¿ï¼Œåº†å¹¸çš„æ˜¯ï¼Œå®ƒç»ˆäºè¿˜æ˜¯æ¥äº†ã€‚</p>
<h1 id="Binlog-è¯»å–ä¸è§£æ"><a href="#Binlog-è¯»å–ä¸è§£æ" class="headerlink" title="Binlog è¯»å–ä¸è§£æ"></a>Binlog è¯»å–ä¸è§£æ</h1><p>é¦–å…ˆï¼Œæˆ‘ä»¬é€šè¿‡ <a target="_blank" rel="noopener" href="https://github.com/noplay/python-mysql-replication">Python-Mysql-Replication</a> è¿™ä¸ªé¡¹ç›®æ¥è¯»å– Binlogï¼Œç›´æ¥é€šè¿‡<code>pip install mysql-replication</code>å®‰è£…å³å¯ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€å•çš„è„šæœ¬æ–‡ä»¶ï¼Œè¿™å†æ¬¡å°è¯é‚£å¥åè¨€â€”â€”äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨ Pythonï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">readBinLog</span>():</span><br><span class="line">    stream = BinLogStreamReader(</span><br><span class="line">        <span class="comment"># å¡«å†™IPã€è´¦å·ã€å¯†ç å³å¯</span></span><br><span class="line">        connection_settings = &#123;</span><br><span class="line">            <span class="string">&#x27;host&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;port&#x27;</span>: <span class="number">3306</span>, </span><br><span class="line">            <span class="string">&#x27;user&#x27;</span>: <span class="string">&#x27;&#x27;</span>, </span><br><span class="line">            <span class="string">&#x27;passwd&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment"># æ¯å°æœåŠ¡å™¨å”¯ä¸€</span></span><br><span class="line">        server_id = <span class="number">3</span>, </span><br><span class="line">        <span class="comment"># ä¸»åº“Binlogè¯»å†™å®Œæ¯•æ—¶æ˜¯å¦é˜»å¡è¿æ¥</span></span><br><span class="line">        blocking = <span class="literal">True</span>, </span><br><span class="line">        <span class="comment"># ç­›é€‰æŒ‡å®šçš„è¡¨</span></span><br><span class="line">        only_tables = [<span class="string">&#x27;order_info&#x27;</span>, <span class="string">&#x27;log_info&#x27;</span>], </span><br><span class="line">        <span class="comment"># ç­›é€‰æŒ‡å®šçš„äº‹ä»¶</span></span><br><span class="line">        only_events = [DeleteRowsEvent, WriteRowsEvent, UpdateRowsEvent]) </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> binlogevent <span class="keyword">in</span> stream:</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> binlogevent.rows:</span><br><span class="line">            event = &#123;</span><br><span class="line">                <span class="string">&quot;schema&quot;</span>: binlogevent.schema,</span><br><span class="line">                <span class="string">&quot;table&quot;</span>: binlogevent.table,</span><br><span class="line">                <span class="string">&quot;log_pos&quot;</span>: binlogevent.packet.log_pos</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(binlogevent, DeleteRowsEvent):</span><br><span class="line">                event[<span class="string">&quot;action&quot;</span>] = <span class="string">&quot;delete&quot;</span></span><br><span class="line">                event[<span class="string">&quot;origin&quot;</span>] = <span class="built_in">dict</span>(row[<span class="string">&quot;values&quot;</span>].items())</span><br><span class="line">                event[<span class="string">&quot;current&quot;</span>] = <span class="literal">None</span></span><br><span class="line">                event = <span class="built_in">dict</span>(event.items())</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">isinstance</span>(binlogevent, UpdateRowsEvent):</span><br><span class="line">                event[<span class="string">&quot;action&quot;</span>] = <span class="string">&quot;update&quot;</span></span><br><span class="line">                event[<span class="string">&quot;origin&quot;</span>] = <span class="built_in">dict</span>(row[<span class="string">&quot;before_values&quot;</span>].items())</span><br><span class="line">                event[<span class="string">&quot;current&quot;</span>] = <span class="built_in">dict</span>(row[<span class="string">&quot;after_values&quot;</span>].items())</span><br><span class="line">                event = <span class="built_in">dict</span>(event.items())</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">isinstance</span>(binlogevent, WriteRowsEvent):</span><br><span class="line">                event[<span class="string">&quot;action&quot;</span>] = <span class="string">&quot;insert&quot;</span></span><br><span class="line">                event[<span class="string">&quot;origin&quot;</span>] = <span class="literal">None</span></span><br><span class="line">                event[<span class="string">&quot;current&quot;</span>] = <span class="built_in">dict</span>(row[<span class="string">&quot;values&quot;</span>].items())</span><br><span class="line">                event = <span class="built_in">dict</span>(event.items())</span><br><span class="line">    stream.close()</span><br></pre></td></tr></table></figure>

<h1 id="å‘å¸ƒ-Binlog"><a href="#å‘å¸ƒ-Binlog" class="headerlink" title="å‘å¸ƒ Binlog"></a>å‘å¸ƒ Binlog</h1><p>åœ¨è¯»å–åˆ° Binlog ä»¥åï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶å‘å¸ƒåˆ° EventBus é‡Œï¼Œä¸ºæ­¤ï¼Œåœ¨.NET Core è¿™è¾¹æä¾›ä¸€ä¸ª Web API æ¥å£ï¼Œåªéœ€è¦æ³¨å…¥<code>IEventBus</code>ç„¶åè°ƒç”¨<code>Publish()</code>å³å¯ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Post: /&lt;controller&gt;/Publish</span></span><br><span class="line">[<span class="meta">HttpPost</span>]</span><br><span class="line">[<span class="meta">Route (<span class="string">&quot;PublishBinLog&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> Task <span class="title">PublishBinLog</span> (<span class="params">BinLogEventModel&lt;<span class="built_in">dynamic</span>&gt; eventModel</span>)</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (eventModel.action == <span class="string">&quot;insert&quot;</span> &amp;&amp; eventModel.table.StartsWith (<span class="string">&quot;log_&quot;</span>))</span><br><span class="line">        _eventBus.Publish (eventModel.MapTo&lt;WriteLogEvent&gt; ());</span><br><span class="line">    <span class="keyword">if</span> (eventModel.action == <span class="string">&quot;insert&quot;</span> &amp;&amp; eventModel.table == <span class="string">&quot;order_info&quot;</span>)</span><br><span class="line">        _eventBus.Publish (eventModel.MapTo&lt;OrderInfoCreateEvent&gt; ());</span><br><span class="line">    <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç›¸åº”åœ°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è„šæœ¬ä¸­æ·»åŠ è°ƒç”¨ Web API çš„é€»è¾‘ä»£ç ï¼Œä½¿ç”¨æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„<code>requests</code>åº“å³å¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sendBinLog</span>(<span class="params">event</span>):</span><br><span class="line">    url = <span class="string">&quot;https://localhost:44348/EventBus/PublishBinLog&quot;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&quot;application/json&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        payload = json.dumps(event,cls=ComplexEncoder)</span><br><span class="line">        response = session.request(<span class="string">&quot;POST&quot;</span>, url, data=payload, headers=headers, verify=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œï¼Œåœ¨å¤„ç† Binlog çš„åºåˆ—åŒ–çš„é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°é»˜è®¤çš„ JSON åºåˆ—åŒ–å™¨æ— æ³•å¯¹ event è¿›è¡Œåºåˆ—åŒ–çš„é—®é¢˜ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„åºåˆ—åŒ–å™¨ï¼Œä¸‹é¢æ˜¯åšä¸»ç›®å‰åœ¨ä½¿ç”¨çš„åºåˆ—åŒ–å™¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ComplexEncoder</span>(json.JSONEncoder):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">default</span>(<span class="params">self, obj</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(obj, datetime):</span><br><span class="line">            <span class="keyword">return</span> obj.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">isinstance</span>(obj, date):</span><br><span class="line">            <span class="keyword">return</span> obj.strftime(<span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">isinstance</span>(obj, decimal.Decimal):</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">str</span>(obj)</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">isinstance</span>(obj, <span class="built_in">bytes</span>):</span><br><span class="line">            <span class="keyword">return</span> obj.decode(<span class="string">&#x27;utf-8&#x27;</span>)  </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> json.JSONEncoder.default(self, obj)</span><br></pre></td></tr></table></figure>

<h1 id="è®¢é˜…-Binlog"><a href="#è®¢é˜…-Binlog" class="headerlink" title="è®¢é˜… Binlog"></a>è®¢é˜… Binlog</h1><p>ç°åœ¨ï¼Œä¸ºäº†è®¢é˜…è¿™äº› Binlogï¼Œæˆ‘ä»¬æ¥ç¼–å†™å¯¹åº”çš„ EventHandlerï¼Œè¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸¤ä¸ª EventHandlerï¼Œä¸€ä¸ªç”¨äºæ‰“å°æ—¥å¿—ç¼–å·ã€æ—¥å¿—å†…å®¹ã€æ—¥å¿—çº§åˆ«ç­‰ä¿¡æ¯ï¼Œä¸€ä¸ªç”¨äºç»Ÿè®¡ä¸åŒçº§åˆ«çš„æ—¥å¿—çš„æ•°ç›®ã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‰“å°æ—¥å¿—çš„EventHandler</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WriteLogEventHandler</span> : <span class="title">IEventHandler</span>&lt;<span class="title">WriteLogEvent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> ILogger&lt;WriteLogEventHandler&gt; _logger;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WriteLogEventHandler</span> (<span class="params">ILogger&lt;WriteLogEventHandler&gt; logger</span>)</span> &#123;</span><br><span class="line">        _logger = logger;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">Handle</span> (<span class="params">WriteLogEvent @<span class="keyword">event</span></span>)</span> &#123;</span><br><span class="line">        _logger.LogInformation (<span class="string">$&quot;æ—¥å¿—ç¼–å·ï¼š<span class="subst">&#123;@<span class="keyword">event</span>.TRANSACTION_ID&#125;</span>ï¼Œæ—¥å¿—çº§åˆ«ï¼š<span class="subst">&#123;@<span class="keyword">event</span>.LOG_LEVEL&#125;</span>ï¼Œä¸»æœºï¼š<span class="subst">&#123;@<span class="keyword">event</span>.HOST_NAME&#125;</span>ï¼ŒIPï¼š<span class="subst">&#123;@<span class="keyword">event</span>.HOST_IP&#125;</span>ï¼Œå†…å®¹ï¼š<span class="subst">&#123;@<span class="keyword">event</span>.CONTENT&#125;</span>&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ†ææ—¥å¿—çš„EventHandler</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AnalyseLogEventHandler</span> : <span class="title">IEventHandler</span>&lt;<span class="title">WriteLogEvent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ILogger&lt;AnalyseLogEventHandler&gt; _logger;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IDistributedCache _cache;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AnalyseLogEventHandler</span> (<span class="params">ILogger&lt;AnalyseLogEventHandler&gt; logger, IDistributedCache cache</span>)</span> &#123;</span><br><span class="line">        _logger = logger;</span><br><span class="line">        _cache = cache;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">Handle</span> (<span class="params">WriteLogEvent @<span class="keyword">event</span></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> cacheCount = _cache.GetString (@event.LOG_LEVEL);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty (cacheCount))</span><br><span class="line">            cacheCount = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cacheCount = (<span class="built_in">int</span>.Parse (cacheCount) + <span class="number">1</span>).ToString ();</span><br><span class="line">        _cache.SetString (@event.LOG_LEVEL, cacheCount);;</span><br><span class="line">        <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦åœ¨<code>Startup</code>ä¸­æ³¨å…¥<code>EventHandler</code>ã€<code>EventBus</code>ä»¥åŠå„ç§å¿…è¦çš„ä¾èµ–é¡¹ï¼Œä½ å¯ä»¥æ‰‹åŠ¨æ³¨å†Œï¼Œæˆ–è€…å‚è€ƒä¸‹é¢çš„ä»£ç ï¼Œå®ç°æ‰«ææ³¨å†Œï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">services.AddSingleton&lt;IRabbitMQPersistentConnection, DefaultRabbitMQPersistentConnection&gt; ();</span><br><span class="line">services.AddSingleton&lt;IEventBusSubscriptionManager, EventBusSubscriptionManager&gt; (sp =&gt; <span class="keyword">new</span> EventBusSubscriptionManager ());</span><br><span class="line">services.AddSingleton&lt;IConnectionFactory, ConnectionFactory&gt; (sp =&gt; <span class="keyword">new</span> ConnectionFactory () &#123; HostName = <span class="string">&quot;localhost&quot;</span>, UserName = <span class="string">&quot;guest&quot;</span>, Password = <span class="string">&quot;guest&quot;</span> &#125;);</span><br><span class="line">services.AddSingleton&lt;ObjectPoolProvider, DefaultObjectPoolProvider&gt; ();</span><br><span class="line">services.AddControllers ().AddNewtonsoftJson ();</span><br><span class="line">services.AddDistributedMemoryCache (options =&gt; &#123;</span><br><span class="line">    options.ExpirationScanFrequency = TimeSpan.FromMinutes (<span class="number">5</span>);</span><br><span class="line">    options.SizeLimit = <span class="number">10</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªåŠ¨æ³¨å†Œ</span></span><br><span class="line">services.AddEventBus();</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰‹åŠ¨æ³¨å†Œ</span></span><br><span class="line">services.AddSingleton&lt;IEventBus, RabbitMQEventBus&gt; (sp =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> eventBus = <span class="keyword">new</span> RabbitMQEventBus (sp.GetRequiredService&lt;IRabbitMQPersistentConnection&gt; (), sp.GetRequiredService&lt;IEventBusSubscriptionManager&gt; (), sp.GetRequiredService&lt;ILogger&lt;RabbitMQEventBus&gt;&gt; (), sp, <span class="string">&quot;eventbus-exchange&quot;</span>, <span class="string">&quot;eventbus-queue&quot;</span>);</span><br><span class="line">    eventBus.Subscribe&lt;WriteLogEvent, WriteLogEventHandler&gt;():</span><br><span class="line">    eventBus.Subscribe&lt;WriteLogEvent, AnalyseLogEventHandler&gt;();</span><br><span class="line">    <span class="keyword">return</span> eventBus;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">services.AddTransient&lt;WriteLogEventHandler&gt;();</span><br><span class="line">services.AddTransient&lt;AnalyseLogEventHandler&gt;();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸€èµ·æ¥çœ‹çœ‹æ•ˆæœï¼Œç®€ç›´å¤ªå®Œç¾äº†ï¼Œæˆ‘å°±æ˜¯ä¸æƒ³å†™ä¸­é—´è¡¨å•Šï¼Œè¿™æ ·å¤šå¥½ï¼ï¼ï¼<br><img src="https://i.loli.net/2020/07/31/PRjfiYpWNqHxI7Z.gif" alt="Python è¯»å– Binlog æ¼”ç¤º"><br><img src="https://i.loli.net/2020/07/31/yVZgIn9NifpxTXa.gif" alt=".NET Core æ¶ˆè´¹ Binlogæ¼”ç¤º"><br><img src="https://i.loli.net/2020/07/31/iMX5PFCoak7VDv9.png" alt="RabbitMQ Dashboard æ¼”ç¤º"></p>
<h1 id="æœ¬æ–‡å°ç»“"><a href="#æœ¬æ–‡å°ç»“" class="headerlink" title="æœ¬æ–‡å°ç»“"></a>æœ¬æ–‡å°ç»“</h1><p>é€šè¿‡ä¸‰ç¯‡åšå®¢çš„ç¯‡å¹…ï¼Œæˆ‘ä»¬å®ç°äº†â€œåˆ©ç”¨ MySQL çš„ Binlog å®ç°æ•°æ®åŒæ­¥ä¸è®¢é˜…â€çš„æƒ³æ³•ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº† Binlog çš„ç›¸å…³æ¦‚å¿µï¼Œå‚è€ƒå¾®è½¯çš„ <a target="_blank" rel="noopener" href="https://github.com/dotnet-architecture/eShopOnContainers">eShopOnContainers</a> é¡¹ç›®å®ç°äº†ä¸€ä¸ªåŸºäº RabbitMQ çš„ EventBusï¼Œè€Œè¿™ä¸€åˆ‡éƒ½åœ¨è¿™ç¯‡åšå®¢ä¸­å®Œæˆäº†æœ€ç»ˆçš„â€œæ‹¼åˆâ€ï¼Œé€šè¿‡ <a target="_blank" rel="noopener" href="https://github.com/noplay/python-mysql-replication">Python-Mysql-Replication</a> å®ç°äº† Binlog è§£æï¼Œè€Œ EventBus åˆ™ä½œä¸ºæ•´ä¸ªäº‹ä»¶ç³»ç»Ÿçš„â€œä¸Šå¸â€å¯¹æ‰€æœ‰äº‹ä»¶å¤„ç†å™¨(<strong>EventHandler</strong>)è¿›è¡Œç»Ÿä¸€è°ƒåº¦ï¼Œæœ€ç»ˆæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¿™äº›äº‹ä»¶æ˜¯å¦‚ä½•è¢«å‘å¸ƒåˆ° EventBus ä¸­çš„ï¼Œåªéœ€è¦çŸ¥é“å®ƒå¯¹åº”å“ªä¸€ä¸ª Event å¹¶ä¸ºå®ƒç¼–å†™å¯¹åº”çš„ EventHandler å³å¯ï¼Œé™¤äº†è¿™ç¯‡åšå®¢ä¸­æåˆ°çš„ Binlog ä»¥å¤–ï¼Œå®é™…ä¸Šå®ƒè¿˜å¯ä»¥ä½œä¸ºç³»ç»Ÿå†…çš„â€œé¢†åŸŸäº‹ä»¶â€æ¥å®ç°ä¸šåŠ¡ä¸Šçš„äº‹ä»¶é©±åŠ¨ï¼Œè­¬å¦‚<code>OrderInfoCreateEvent</code>è¿™ä¸ªäº‹ä»¶å¯ä»¥è¡¨ç¤ºä¸€ä¸ªè®¢å•è¢«åˆ›å»ºï¼Œè€Œå…³å¿ƒè®¢å•çŠ¶æ€çš„äººåˆ™å¯ä»¥é€šè¿‡ EventHandler æ¥å®ç°è®¢é˜…ï¼Œå®ç°ç±»ä¼¼å‘çŸ­ä¿¡ã€å‘é‚®ä»¶ã€å‘å¾®ä¿¡ç­‰ç­‰çš„åŠŸèƒ½ï¼Œæˆ–è€…å¯ä»¥è®©ç¬¬ä¸‰æ–¹çš„ Web API æ¥æ¶ˆè´¹äº‹ä»¶ä¸­æºå¸¦çš„ä¿¡æ¯ã€‚åŒç†ï¼Œç¬¬ä¸‰æ–¹çš„æ•°æ®åœ¨æµå…¥ç³»ç»Ÿæ—¶ï¼Œå¯ä»¥å…ˆå‘å¸ƒåˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œå†é€šè¿‡å¯¹åº”çš„ EventHandler æ¥è¿›è¡Œå¼‚æ­¥å¤„ç†ï¼Œæå¤§åœ°æ”¹å–„ç³»ç»Ÿæ¥å£çš„ååæ€§èƒ½ï¼Œè€Œå¦‚æœåœ¨è¿™ä¸­é—´æŠ½è±¡å‡ºæ¥ä¸€ä¸ªæ•°æ®äº¤æ¢å±‚å‡ºæ¥ï¼Œé‚£ä¹ˆå°±èƒ½æ”¶è·æ›´å¤šä¸ä¸€æ ·çš„ä¸œè¥¿ï¼Œå°±åœ¨å†™è¿™ç¯‡åšå®¢çš„æ—¶å€™ï¼Œæˆ‘åœ¨ Github ä¸Šçš„ä»£ç è¢«æ”¶å…¥äº†å¾®è½¯çš„â€åŒ—æå†°å·ç«ç§è®¡åˆ’â€ï¼Œè™½ç„¶æ•°å­—ä¸–ç•Œè¿œæ¯”ç°å®ä¸–ç•Œå®½å¹¿å¾—å¤šï¼Œå¯èƒ½ä¸ºè¿™ä¸ªä¸–ç•Œå‡å°‘ä¸€ç‚¹â€œæ— ç”¨â€çš„æ•°æ®æˆ–è€…ä»£ç ï¼Œåº”è¯¥ä¸€æ ·å¯ä»¥ç®—ä½œæ˜¯ç¯ä¿è¡Œä¸ºå§ï¼</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/28/2020-07-28-about-user-research/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/28/2020-07-28-about-user-research/" itemprop="url">å…³äºç”¨ç ”å²—ä½çš„æ€è€ƒ</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-28T09:13:21+08:00">
                2020-07-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="ä»€ä¹ˆæ˜¯ç”¨ç ”å²—ä½"><a href="#ä»€ä¹ˆæ˜¯ç”¨ç ”å²—ä½" class="headerlink" title="ä»€ä¹ˆæ˜¯ç”¨ç ”å²—ä½"></a>ä»€ä¹ˆæ˜¯ç”¨ç ”å²—ä½</h2><p>ç”¨æˆ·ç ”ç©¶ç®€ç§°â€œç”¨ç ”â€ï¼Œæ˜¯ä¸€ç§ä¸»è¦é€šè¿‡é¢å‘ç”¨æˆ·çš„å„ç§ç ”ç©¶æ–¹æ³•ï¼Œè¾¾æˆå¯¹å…³é”®é—®é¢˜çš„ä¿¡æ¯æ”¶é›†å’Œç†è§£çš„ç›®æ ‡ã€‚</p>
<p>è¿™äº›å…³é”®é—®é¢˜å¯å¤§å¯å°ã€‚å¤§çš„æ–¹é¢å¯èƒ½æ˜¯ç¡®å®šæŸä¸ªå¸‚åœºéœ€æ±‚ï¼Œå°çš„æ–¹é¢å¯èƒ½æ˜¯éªŒè¯æŸä¸ªäº§å“çš„å¸‚åœºå—æ¬¢è¿ç¨‹åº¦ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¡®è®¤äº§å“çš„æŸä¸ªé—®é¢˜ã€‚</p>
<h2 id="ç”¨ç ”å¸¸ç”¨çš„æ‰‹æ®µ"><a href="#ç”¨ç ”å¸¸ç”¨çš„æ‰‹æ®µ" class="headerlink" title="ç”¨ç ”å¸¸ç”¨çš„æ‰‹æ®µ"></a>ç”¨ç ”å¸¸ç”¨çš„æ‰‹æ®µ</h2><p>ç”¨ç ”å¸¸ç”¨çš„æ‰‹æ®µåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼šç”¨æˆ·è®¿è°ˆï¼ˆåŒ…æ‹¬ä¸€å¯¹ä¸€å’Œä¸€å¯¹å¤šï¼‰ã€ç”¨æˆ·ä½¿ç”¨åœºæ™¯çš„ç°åœºè§‚å¯Ÿã€ä»¥åŠç”¨æˆ·é—®å·è°ƒæŸ¥ã€ç”¨æˆ·åé¦ˆæ”¶é›†ç­‰ã€‚</p>
<p>æˆ‘æŠŠè¿™äº›æ‰‹æ®µåˆ†æˆ 2 ç±»ï¼š</p>
<ul>
<li>å®¢è§‚æ•°æ®åˆ†æç±»ã€‚åŒ…æ‹¬ç”¨æˆ·ä½¿ç”¨åœºæ™¯ã€‚</li>
<li>ä¸»è§‚æ•°æ®åˆ†æç±»ã€‚åŒ…æ‹¬ç”¨æˆ·è®¿è°ˆå’Œç”¨æˆ·é—®å·ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰å®šæ€§å’Œå®šé‡åˆ†æï¼ŒæŠŠç”¨ç ”æ‰‹æ®µåˆ†ç±»ï¼š</p>
<ul>
<li>å®šæ€§åˆ†æã€‚åŒ…æ‹¬ç”¨æˆ·è®¿è°ˆå’Œç”¨æˆ·ä½¿ç”¨åœºæ™¯çš„åˆ†æã€‚</li>
<li>å®šé‡åˆ†æã€‚åŒ…æ‹¬ç”¨æˆ·é—®å·ï¼Œä»¥åŠç”¨æˆ·æ“ä½œæ—¥å¿—åˆ†æã€‚</li>
</ul>
<p>ä¸‹é¢æˆ‘ç¨å¾®å±•å¼€ä»‹ç»ä¸€ä¸‹ã€‚</p>
<h3 id="ç”¨æˆ·è®¿è°ˆ"><a href="#ç”¨æˆ·è®¿è°ˆ" class="headerlink" title="ç”¨æˆ·è®¿è°ˆ"></a>ç”¨æˆ·è®¿è°ˆ</h3><p>æˆ‘è®¤ä¸ºç”¨æˆ·è®¿è°ˆæ˜¯æœ€å¥½çš„å®šæ€§åˆ†ææ‰‹æ®µï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚ä¸»è¦æ˜¯æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ç€ç‹¬ç‰¹çš„ä¸ªä½“å·®å¼‚ã€‚å¦‚æœæˆ‘ä»¬åœ¨è®¿è°ˆå‰ä¸è®¾ç½®å¤ªå¤šè®¿è°ˆç›®æ ‡çš„è¯ï¼Œå°±å¯ä»¥è·å¾—æ¯”è¾ƒå¤šçš„æ–°çš„ä¿¡æ¯ç‚¹ã€‚</p>
<p>è¿™äº›ä¿¡æ¯ç‚¹å¯èƒ½æš´éœ²å‡ºä¸€äº›æœªè¢«å‘æ˜çš„ç”¨æˆ·éœ€æ±‚ã€‚ä¹Ÿå¯èƒ½å‘ç°äº§å“è®¾è®¡å½“ä¸­çš„ä¸åˆé€‚çš„æµç¨‹ã€‚</p>
<p>å½“ç„¶ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ï¼Œç”¨æˆ·æåˆ°çš„é—®é¢˜è¦ä¹ˆæ˜¯å¤ªç‰¹æ®Šï¼Œè¦ä¹ˆæ˜¯å¹¶ä¸åˆç†ï¼Œä½†è¿™æ²¡æœ‰å…³ç³»ï¼Œå¦‚æœç”¨æˆ·è®¿è°ˆä¸­åªæœ‰ä¸€ä¸ªç”¨æˆ·æåˆ°ï¼Œæˆ‘ä»¬å°±ç®€å•è®°å½•ä¸‹æ¥å³å¯ã€‚å¤§éƒ¨åˆ†æ—¶å€™ç”¨æˆ·æçš„ä¸œè¥¿éƒ½ä¸èƒ½ç›´æ¥æ‹¿æ¥ç”¨ï¼Œéœ€è¦æ¶ˆåŒ–ã€‚</p>
<p>ä½†å¦‚æœæ¯ä¸ªç”¨æˆ·éƒ½æåˆ°åŒæ ·çš„é—®é¢˜ï¼Œé‚£æˆ‘ä»¬å°±è¦å°å¿ƒäº†ï¼Œå¾ˆå¯èƒ½æ˜¯æˆ‘ä»¬äº§å“çš„é—®é¢˜ã€‚</p>
<h3 id="ç”¨æˆ·ä½¿ç”¨åœºæ™¯çš„ç°åœºè§‚å¯Ÿ"><a href="#ç”¨æˆ·ä½¿ç”¨åœºæ™¯çš„ç°åœºè§‚å¯Ÿ" class="headerlink" title="ç”¨æˆ·ä½¿ç”¨åœºæ™¯çš„ç°åœºè§‚å¯Ÿ"></a>ç”¨æˆ·ä½¿ç”¨åœºæ™¯çš„ç°åœºè§‚å¯Ÿ</h3><p>åšäº§å“ä¸€ç›´è®²è¦â€œè¿˜åŸç”¨æˆ·åœºæ™¯â€ï¼Œè€Œç”¨ç ”å°±æ˜¯æœ€ç›´æ¥çš„å‘ˆç°å‡ºç”¨æˆ·åœºæ™¯ã€‚è¿™ä¸ªä¿¡æ¯éå¸¸éå¸¸å…³é”®ã€‚å› ä¸ºç”¨æˆ·å¯ä»¥éšä¾¿è¯´ï¼Œä½†æ˜¯æ€ä¹ˆåšæ‰æ˜¯æœ€é‡è¦çš„ï¼Œâ€œèº«ä½“ä¸ä¼šæ’’è°â€ã€‚</p>
<p>æœ‰ä¸€ä¸ªæ•…äº‹ï¼Œæœ‰ä¸€ä¸ªå…¬å¸åšç”¨ç ”ï¼Œè®©ç”¨æˆ·æŒ‘ä»–ä»¬æœ€å–œæ¬¢çš„æ¯å­é¢œè‰²ï¼Œç»“æœå¤§å®¶éƒ½æŠ•çš„çº¢è‰²ã€‚ç”¨æˆ·åšå®Œç”¨ç ”ï¼Œè¿™ä¸ªå…¬å¸è¯´ï¼Œä½ ä»¬å¯ä»¥èµ°çš„æ—¶å€™å¸¦èµ°ä¸€ä¸ªæ¯å­ã€‚ç»“æœï¼Œå¤§å®¶èµ°çš„æ—¶å€™éƒ½å¸¦èµ°çš„æ˜¯ç™½è‰²çš„æ¯å­ã€‚</p>
<p>è¿™å°±æ˜¯ä¸€ä¸ªç”¨æˆ·è¯´çš„å’Œåšçš„ä¸ä¸€æ ·çš„æ•…äº‹ã€‚ç±»ä¼¼çš„æ•…äº‹æœ‰å¾ˆå¤šï¼Œåƒå¯å£å¯ä¹æ¢å£å‘³äº‹ä»¶å°±æ˜¯å†å²ä¸Šæˆæœ¬æœ€å¤§çš„è¢«ç”¨æˆ·è¯´çš„æ¬ºéª—çš„æ•…äº‹ï¼Œè¯¦è§ï¼š<a target="_blank" rel="noopener" href="https://wenku.baidu.com/view/e847c601cc175527072208b9.html">https://wenku.baidu.com/view/e847c601cc175527072208b9.html</a>ã€‚</p>
<h3 id="ç”¨æˆ·é—®å·"><a href="#ç”¨æˆ·é—®å·" class="headerlink" title="ç”¨æˆ·é—®å·"></a>ç”¨æˆ·é—®å·</h3><p>ç”¨æˆ·é—®å·ç”¨äºå®šä½ä¸€ä¸ªé—®é¢˜åï¼Œå®šé‡åˆ†æç”¨æˆ·çš„ä¸€äº›çœ‹æ³•ã€‚é—®å·çš„è®¾è®¡å¤§å¤šæ—¶å€™éƒ½å¸¦æœ‰è°ƒç ”è€…çš„å€¾å‘æ€§ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è®¾ç½®å¾—ä¸åˆç†ï¼Œè¿™ä¹Ÿæ˜¯ä¹”å¸ƒæ–¯è¯´ä»–ä»æ¥ä¸çœ‹ç”¨æˆ·é—®å·çš„åŸå› ã€‚</p>
<p>ä½†æ˜¯ NPSï¼ˆç”¨æˆ·å‡€æ¨èå€¼ï¼‰æ˜¯ä¸€ä¸ªå¾ˆå€¼å¾—åšçš„é—®å·ï¼Œä¸»è¦æ˜¯è¿™ä¸ªæŒ‡æ ‡éå¸¸æ ‡å‡†åŒ–ï¼Œæˆ‘ä»åœ¨å·¥ä½œçš„ç¬¬ä¸€å¤©å°±æ¥è§¦ NPSï¼Œè¿™ä¸ªå€¼çš„é•¿æœŸå˜åŒ–è¿˜æ˜¯èƒ½æœ‰æ•ˆååº”å‡ºäº§å“çš„æ”¹å–„ã€‚</p>
<h2 id="ç”¨ç ”çš„æ ¸å¿ƒæŒ‘æˆ˜"><a href="#ç”¨ç ”çš„æ ¸å¿ƒæŒ‘æˆ˜" class="headerlink" title="ç”¨ç ”çš„æ ¸å¿ƒæŒ‘æˆ˜"></a>ç”¨ç ”çš„æ ¸å¿ƒæŒ‘æˆ˜</h2><p>ç”¨æˆ·ç ”ç©¶åœ¨å¾ˆå¤šå…¬å¸éƒ½æœ‰å²—ä½ï¼Œä½†æ˜¯è¿™ä¸ªå²—ä½å¦‚æœåªåšç”¨æˆ·ç ”ç©¶ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“åšå¾—å¾ˆå·®ã€‚æ‰€ä»¥å¤§å¤šæ•°å…¬å¸éƒ½å°†è¿™ä¸ªå·¥ä½œç»¼åˆæ”¾åˆ°äº§å“ç»ç†çš„å·¥ä½œä¸­ã€‚</p>
<p>æˆ‘ä¹Ÿè§è¿‡å¾ˆå¤šç¬¬ä¸‰æ–¹çš„ç”¨ç ”å…¬å¸ï¼Œè¯·ä¸€äº›ç”¨æˆ·åšè®¿è°ˆï¼Œç„¶åæä¸€äº›é—®å·ï¼Œå‡ºä¸€ä¸ªæ»¡æ˜¯å›¾è¡¨å’Œæ•°æ®çš„æŠ¥å‘Šã€‚çœ‹èµ·æ¥å¾ˆç‰›é€¼ï¼Œä½†æ˜¯èƒ½å¤Ÿç»™å†³ç­–å¸¦æ¥æ”¯æŒçš„ä¿¡æ¯æå°‘ï¼Œä¿¡æ¯æœ¬èº«çš„è´¨é‡ä¹Ÿå€¼å¾—å•†æ¦·ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>æˆ‘è®¤ä¸ºå®¢è§‚æ•°æ®åˆ†æç±»ï¼šç”¨æˆ·ä½¿ç”¨åœºæ™¯çš„ç°åœºè§‚å¯Ÿã€ç”¨æˆ·æ“ä½œæ—¥å¿—åˆ†ææ˜¯æœ€æœ‰ä»·å€¼çš„ç”¨ç ”å·¥ä½œã€‚</p>
<p>ç”¨ç ”è¦åšå¾—å¥½ï¼Œè¿˜æ˜¯åº”è¯¥æ˜¯æœ€æ ¸å¿ƒçš„äººã€Œäº²è‡ªå‚ä¸ã€æˆ–è€…ã€Œé‡åº¦å‚ä¸ã€ã€‚</p>
<p>æ‰€è°“çš„äº²è‡ªå‚ä¸ï¼Œå³æ ¸å¿ƒçš„äººè‡ªå·±åšç”¨ç ”ã€‚å¦‚æœæ˜¯å†³å®šäº§å“éœ€æ±‚æˆ–åŠŸèƒ½ï¼Œå°±è®©äº§å“ç»ç†è‡ªå·±åšç”¨ç ”ã€‚æˆ‘ä»¬çŒ¿è¾…å¯¼çš„æ•™å­¦ç«¯äº§å“ç»ç†ï¼Œå°±éœ€è¦è‡ªå·±æ·±å…¥æ•™å­¦ç¯èŠ‚ä¸­å»äº†è§£è€å¸ˆçš„éœ€æ±‚ï¼Œä»¥ä¾¿æ”¹è¿›æ•™å­¦ç«¯çš„ä½“éªŒã€‚</p>
<p>å¦‚æœæƒ³èŠ‚çœä¸€äº›æ—¶é—´ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥é€‰æ‹©ã€Œé‡åº¦å‚ä¸ã€çš„æ–¹å¼ã€‚ã€Œé‡åº¦å‚ä¸ã€çš„æ ¸å¿ƒæ˜¯ï¼šå¿…é¡»äº²çœ¼çœ‹åˆ°åŸå§‹æ•°æ®ã€‚æ¯”å¦‚ï¼Œæˆ‘å¬è¯´åœ¨å¤´æ¡ï¼Œå½“ç”¨ç ”åœ¨ç»™ç”¨æˆ·è¯•ç”¨äº§å“çš„æ—¶å€™ï¼Œå±‹å­é‡Œæœ‰ä¸€é¢å•é¢ç»ç’ƒï¼Œåé¢æ˜¯ç›¸å…³çš„äº§å“ç»ç†åœ¨ç°åœºè§‚å¯Ÿã€‚è¿™ä¸ªæ—¶å€™ï¼Œç”¨ç ”åªæ˜¯å¸®å¿™è¿›è¡Œäº†ç»„ç»‡åè°ƒå·¥ä½œï¼Œæ ¸å¿ƒå·¥ä½œå’Œå†³ç­–äº§å“ç»ç†å¹¶æ²¡æœ‰ç¼ºå¸­ã€‚</p>
<p>æˆ‘ä»¬åœ¨åšä¸€äº›æ–°äº§å“ç”¨ç ”çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿè¦æ±‚ç”¨ç ”çš„åŒå­¦éœ€è¦æŠŠç°åœºå½•åƒä¸‹æ¥ã€‚è¿™äº›å½•åƒä¹Ÿéå¸¸æœ‰åŠ©äºå¤§å®¶ç ”ç©¶ç”¨æˆ·ä¸ºä»€ä¹ˆé‚£ä¹ˆæ“ä½œï¼Œåå¤è§‚çœ‹å’Œæ€è€ƒã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li>ç”¨ç ”æ˜¯ä¸€ç§é¢å‘ç”¨æˆ·è·å¾—å†³ç­–ä¿¡æ¯çš„ç ”ç©¶æ–¹æ³•ã€‚</li>
<li>ç”¨ç ”æœ€æœ‰ä»·å€¼çš„æ˜¯ç”¨æˆ·ç°åœºæ“ä½œçš„åŸå§‹æ•°æ®ã€‚</li>
<li>ç”¨ç ”çš„å¼€æ”¾æ€§è®¿è°ˆå¯ä»¥è·å¾—ä¸€äº›æ„å¤–çš„å‘ç°ã€‚</li>
<li>ç”¨ç ”é—®å·æ¯”è¾ƒéš¾ä»¥åšå†³ç­–æ”¯æŒï¼Œä½† NPS æœ‰ä¸€å®šä»·å€¼ã€‚</li>
<li>ç”¨ç ”æœ€å¥½æ˜¯å†³ç­–ç›¸å…³äººã€Œäº²è‡ªå‚ä¸ã€æˆ–è€…ã€Œé‡åº¦å‚ä¸ã€ï¼Œå¦åˆ™ç”¨ç ”ç»“æœå¾ˆéš¾è¢«åˆç†æ¶ˆåŒ–å¹¶å¾—åˆ°æ¨è¿›ã€‚</li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/21/git-commit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/21/git-commit/" itemprop="url">å¦‚ä½•è§„èŒƒåœ°æäº¤ Git Commit Message</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-21T20:38:05+08:00">
                2020-07-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index">
                    <span itemprop="name">å…¶ä»–</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>Commit message æ˜¯å¼€å‘çš„æ—¥å¸¸æ“ä½œï¼Œå®ƒå¯ä»¥æä¾›æ›´å¤šçš„å†å²ä¿¡æ¯ï¼Œæ–¹ä¾¿ï¼Œè¿˜å¯ä»¥æœ‰æ•ˆçš„ç”Ÿæˆ Change logï¼Œå¯¹é¡¹ç›®çš„ç®¡ç†å®é™…è‡³å…³é‡è¦ï¼Œä½†æ˜¯å®é™…å·¥ä½œä¸­å´å¸¸å¸¸è¢«å¤§å®¶å¿½ç•¥ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/21/git-commit/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/20/java-fail-safe/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/20/java-fail-safe/" itemprop="url">ä¸€æ–‡è¯»æ‡‚ Java é›†åˆä¸­çš„å¿«é€Ÿå¤±è´¥(fail-fast)å’Œå®‰å…¨å¤±è´¥(fail-safe)æœºåˆ¶</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-20T22:15:11+08:00">
                2020-07-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <h3 id="å¿«é€Ÿå¤±è´¥"><a href="#å¿«é€Ÿå¤±è´¥" class="headerlink" title="å¿«é€Ÿå¤±è´¥"></a>å¿«é€Ÿå¤±è´¥</h3><p>é‡‡ç”¨å¿«é€Ÿå¤±è´¥æœºåˆ¶çš„é›†åˆå®¹å™¨ï¼Œä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†é›†åˆæ—¶ï¼Œé™¤äº†é€šè¿‡è¿­ä»£å™¨è‡ªèº«çš„ <code>remove()</code> æ–¹æ³•ä¹‹å¤–ï¼Œå¯¹é›†åˆè¿›è¡Œä»»ä½•å…¶ä»–æ–¹å¼çš„ç»“æ„æ€§ä¿®æ”¹ï¼Œåˆ™ä¼šæŠ›å‡º ConcurrentModificationException å¼‚å¸¸ã€‚</p>
<p>åœ¨ <code>java.util</code> åŒ…ä¸‹çš„é›†åˆç±»éƒ½é‡‡ç”¨çš„æ˜¯å¿«é€Ÿå¤±è´¥æœºåˆ¶ï¼Œä¸èƒ½åœ¨å¤šçº¿ç¨‹ä¸‹å‘ç”Ÿå¹¶å‘ä¿®æ”¹ï¼ˆè¿­ä»£è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹ï¼‰ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/20/java-fail-safe/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/19/hexo-blog-creat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/19/hexo-blog-creat/" itemprop="url">Hexo + GitHub Pages æ­å»ºä¸ªäººåšå®¢åŠ NexT ä¸»é¢˜é…ç½®</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-19T23:34:13+08:00">
                2020-07-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/" itemprop="url" rel="index">
                    <span itemprop="name">æŠ€æœ¯æ•™ç¨‹</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>æœ€è¿‘ï¼Œè‡ªå·±æ ¹æ®ç½‘ä¸Šçš„ä¸€äº›æ•™ç¨‹ï¼ŒåŸºäº Hexo æ­å»ºäº†è‡ªå·±çš„åšå®¢ï¼Œå¹¶æŠŠæ­å»ºè¿‡ç¨‹æ•´ç†äº†å‡ºæ¥ï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>åšå®¢åœ°å€ï¼š<a target="_blank" rel="noopener" href="http://yifanstar.top/">http://yifanstar.top/</a></p>
<p>æºç ä»“åº“ï¼š<a target="_blank" rel="noopener" href="https://github.com/yifanzheng/yifanzheng.github.io/tree/hexo-blog-backup">https://github.com/yifanzheng/yifanzheng.github.io/tree/hexo-blog-backup</a></p>
<p>æ¡†æ¶é©±åŠ¨ï¼š<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Hexo</a>  </p>
<p>åšå®¢ä¸»é¢˜ï¼š<a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-theme-next">NexT ^6.x</a></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/19/hexo-blog-creat/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/19/hexo-github-actions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/19/hexo-github-actions/" itemprop="url">ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢åˆ° GitHub Pages</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-19T22:20:39+08:00">
                2020-07-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF%E6%95%99%E7%A8%8B/" itemprop="url" rel="index">
                    <span itemprop="name">æŠ€æœ¯æ•™ç¨‹</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ€è¿‘ï¼Œçœ‹åˆ°ç½‘ä¸Šæœ‰å¾ˆå¤šäººå¼€å§‹ä½¿ç”¨ GitHub Actions è¿›è¡Œé¡¹ç›®çš„æŒç»­é›†æˆï¼ˆCIï¼‰ä»¥åŠæŒç»­éƒ¨ç½²ï¼ˆCDï¼‰ã€‚äºæ˜¯ï¼Œæˆ‘ä¹Ÿå¿ƒè¡€æ¥æ½®ï¼Œå¼€å§‹ä½¿ç”¨ GitHub Actions æ¥è¿›è¡Œä¸ªäººåšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ã€‚ä¸å¾—ä¸è¯´ï¼ŒGitHub Actions çœŸé¦™ï¼</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/19/hexo-github-actions/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/17/proxy-pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/17/proxy-pattern/" itemprop="url">ä»£ç†æ¨¡å¼</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-17T21:19:32+08:00">
                2020-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index">
                    <span itemprop="name">Java è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>ä»£ç†æ¨¡å¼ï¼ˆProxyï¼‰æ„å›¾æ˜¯ä¸ºå¦ä¸€ä¸ªå¯¹è±¡æä¾›ä»£ç†ï¼Œä»¥æ§åˆ¶å¯¹å…¶çš„è®¿é—®ã€‚å³é€šè¿‡ä»£ç†ç±»è®¿é—®ç›®æ ‡ç±»ï¼Œè¿™æ ·åšå¯ä»¥é€šè¿‡ä»£ç†å¯¹è±¡æ‰©å±•ç›®æ ‡ç±»çš„åŠŸèƒ½ä»¥åŠæ§åˆ¶å¯¹ç›®æ ‡ç±»çš„è®¿é—®ã€‚</p>
<p>ä»£ç†æ¨¡å¼ä¸»è¦æœ‰ä¸‰ç§å½¢å¼ï¼Œåˆ†åˆ«æ˜¯<strong>é™æ€ä»£ç†</strong>ã€<strong>åŠ¨æ€ä»£ç†</strong>ã€<strong>CGlib ä»£ç†</strong>ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/17/proxy-pattern/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/17/flyweight-pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/17/flyweight-pattern/" itemprop="url">äº«å…ƒæ¨¡å¼</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-17T21:18:07+08:00">
                2020-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index">
                    <span itemprop="name">Java è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>äº«å…ƒæ¨¡å¼(Flyweight)ï¼Œä½¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚å¸¸ç”¨äºç³»ç»Ÿåº•å±‚å¼€å‘ï¼Œè§£å†³ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚æ¯”å¦‚ï¼Œæ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/17/flyweight-pattern/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/07/17/facade-pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é€æµå°ç«™">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/17/facade-pattern/" itemprop="url">å¤–è§‚æ¨¡å¼</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-17T21:16:19+08:00">
                2020-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index">
                    <span itemprop="name">Java è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>å¤–è§‚æ¨¡å¼(Facade)ï¼Œä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ç»Ÿä¸€çš„æ¥å£ã€‚æ­¤æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å­ç³»ç»Ÿæ›´æ˜“äºä½¿ç”¨ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¤–è§‚æ¨¡å¼æä¾›äº†åˆ°å¤æ‚å­ç³»ç»Ÿçš„ç®€åŒ–æ¥å£ã€‚</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/17/facade-pattern/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/20/">&lt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><span class="page-number current">21</span><a class="page-number" href="/page/22/">22</a><span class="space">&hellip;</span><a class="page-number" href="/page/82/">82</a><a class="extend next" rel="next" href="/page/22/">&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">1622</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">914</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Laird Lau</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
