<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Liunx Python Rust Goalng DevOPS" />










<meta name="description" content="个人随想，瞎子的世界">
<meta property="og:type" content="website">
<meta property="og:title" content="逐流小站">
<meta property="og:url" content="https://blog.feedscoin.com/page/58/index.html">
<meta property="og:site_name" content="逐流小站">
<meta property="og:description" content="个人随想，瞎子的世界">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Laird Lau">
<meta property="article:tag" content="Liunx Python Rust Goalng DevOPS">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blog.feedscoin.com/page/58/"/>





  <title>逐流小站</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'G-MW47YH6RH0', 'auto');
  ga('send', 'pageview');
</script>





<meta name="generator" content="Hexo 7.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">逐流小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">想回到那个能随便跳槽的年代</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/08/01/2015/use-serverspeeder-to-speed-up-your-shadowsocks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/08/01/2015/use-serverspeeder-to-speed-up-your-shadowsocks/" itemprop="url">使用锐速对 TCP 连接提速加速 Shadowsocks</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-08-01T03:30:30+08:00">
                2015-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>关于锐速是否道德的讨论：<a target="_blank" rel="noopener" href="https://www.v2ex.com/t/164883">V2EX</a> ，这种东西仁者见仁智者见智。</p>
<hr>
<p>自建的 Shadowsocks 代理速度永远是在 100KBps 左右徘徊 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/05/2015-05-31_10-01-03.jpg"><img src="https://img.prin.studio/images/2015/05/2015-05-31_10-01-03.jpg" alt="QQ图片20150531180053"></a>，搜索优化相关时发现了锐速这个解决方法。试用了三天，<span style="line-height: 1.5;">感觉效果还不错，代理速度提升了，网站内容下载时间也显著减少（然而响应速度是硬伤 qvq</span></p>
<h3 id="锐速是什么，好吃吗？"><a href="#锐速是什么，好吃吗？" class="headerlink" title="锐速是什么，好吃吗？"></a>锐速是什么，好吃吗？</h3><p><em>锐速 (ServerSpeeder)</em> 加速软件是一种基于 ZETATCP 加速引擎的软件，可显著提升带宽吞吐量，充分利用服务器带宽。</p>
<p>锐速不能突破原服务器带宽限制，也不会限制服务器带宽的利用</p>
<p>最近推出了永久免费套餐：<a target="_blank" rel="noopener" href="http://www.serverspeeder.com/">http://www.serverspeeder.com/</a></p>
<h3 id="怎么用？"><a href="#怎么用？" class="headerlink" title="怎么用？"></a>怎么用？</h3><ol>
<li><p>去官网注册一个账号，在后台可以看到锐速支持的 linux 内核。如果你的内核不被支持，请自行更改内核（DigitalOcean 用户可以直接在控制面板更改内核，其他手动更改内核窝会根据 conoha 的 vps 写一篇 （UPDATE: 已完成，在<a target="_blank" rel="noopener" href="https://prinzeugen.net/ubuntu-14-04-change-kernel-to-install-serverspeeder/">这里</a> |ω・´) </p>
</li>
<li><p>按照官网教程安装</p>
</li>
</ol>
<p>wget <a target="_blank" rel="noopener" href="http://my.serverspeeder.com/d/ls/serverSpeederInstaller.tar.gz">http://my.serverspeeder.com/d/ls/serverSpeederInstaller.tar.gz</a> tar xzvf serverSpeederInstaller.tar.gz sudo bash serverSpeederInstaller.sh</p>
<p>接下来一路默认配置。还有一些配置优化相关放到最后讲</p>
<h3 id="安装好了。。"><a href="#安装好了。。" class="headerlink" title="安装好了。。"></a>安装好了。。</h3><p>做什么呢？嘛，总之先去油管看看视频吧</p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-08-02_06-30-34.png"><img src="https://img.prin.studio/images/2015/07/2015-08-02_06-30-34.png" alt="20150802142705"></a></p>
<p>这速度。。嘛啊，还算可以接受吧 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a> 比以前好多了</p>
<p>然后可以从服务器下载 <a target="_blank" rel="noopener" href="https://files.prinzeugen.net/100mb.test">100mb.test</a> 文件试试 HTTP 速度</p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-31_11-17-53.png"><img src="https://img.prin.studio/images/2015/07/2015-07-31_11-17-53.png" alt="20150731191654"></a></p>
<p>wow~ 这 tm 以前快多了，以前可是 60KB&#x2F;s 的啊 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a></p>
<h3 id="总的来说"><a href="#总的来说" class="headerlink" title="总的来说"></a>总的来说</h3><p>锐速还是比较有用的，对于个人搭建的 SS 可以起到较好的加速作用，</p>
<p>至少是值得一试 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/06/2015-06-27_15-39-05.jpg"><img src="https://img.prin.studio/images/2015/06/2015-06-27_15-39-05.jpg" alt="QQ图片20150627233807"></a>，反正是免费的嘛</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/29/2015/linux-install-memcached-and-enable-memcache-for-wordpress/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/29/2015/linux-install-memcached-and-enable-memcache-for-wordpress/" itemprop="url">Linux 安装 memcached 并启用 Wordpress memcache 缓存</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-29T06:57:49+08:00">
                2015-07-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先先来理一下 memcache 和 memcached 的区别：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://memcached.org/">Memcache</a> 是一个自由和开放源代码、高性能的、具有分布式对象的缓存系统。它可以用来保存一些经常存取的对象或数据，加速动态 web 应用程序，减轻数据库负载。保存的数据像一张巨大的 HASH 表，该表以键值对的方式存在内存中。</p>
</blockquote>
<p>Memcache 是这个项目的名称，memcached 是这个项目的主程序名称也是守护进程。还有一个 memcached 是 php-extension。</p>
<p>环境：<em>Ubuntu 14.04.2 LTS (GNU&#x2F;Linux 3.13.0-57-generic i686) with lnmp</em></p>
<h3 id="一、安装-memcached-服务端"><a href="#一、安装-memcached-服务端" class="headerlink" title="一、安装 memcached 服务端"></a>一、安装 memcached 服务端</h3><p>网上的都是下载源码本地编译的，但是可以 apt-get 的话为什么不用呢？</p>
<p>apt-get install memcached memcached -d -m 128 -u root -p 11211 #启动 memcached 服务</p>
<p>参数说明：</p>
<p><em>-p  侦听的端口，默认为 11211</em><br><em>-m  使用内存大小，默认为 64m</em><br><em>-d  作为守护进程启动</em></p>
<p>可以用 <span class="lang:sh decode:true crayon-inline">ps -ef|grep memcached</span>  或者 <span class="lang:sh decode:true  crayon-inline">telnet 127.0.0.1 11211</span>  查看 memcached 服务状态</p>
<h3 id="二、安装-PHP-memcached-扩展"><a href="#二、安装-PHP-memcached-扩展" class="headerlink" title="二、安装 PHP memcached 扩展"></a>二、安装 PHP memcached 扩展</h3><p>这个就没有那么方便了，要自己编译，在<a target="_blank" rel="noopener" href="http://pecl.php.net/package/memcached">这里</a>选一个版本下载解压（注意 memcached 和 memcache 两种 php 扩展的区别，推荐 php-memcached </p>
<p>wget <a target="_blank" rel="noopener" href="http://pecl.php.net/get/memcached-2.1.0.tgz">http://pecl.php.net/get/memcached-2.1.0.tgz</a> tar -xvf memcached-2.1.0.tgz</p>
<p>开始编译：（机灵点儿，下面 php 路径自己看着改</p>
<p>&#x2F;usr&#x2F;local&#x2F;php&#x2F;bin&#x2F;phpize .&#x2F;configure –with-php-config&#x3D;&#x2F;usr&#x2F;local&#x2F;php&#x2F;bin&#x2F;php-config make &amp;&amp; make install</p>
<p>编译成功后会输出</p>
<blockquote>
<p>Installing shared extensions:     &#x2F;usr&#x2F;local&#x2F;php&#x2F;lib&#x2F;php&#x2F;extensions&#x2F;no-debug-non-zts-20090626&#x2F;</p>
</blockquote>
<p>ls 一下这个目录，</p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-28_14-47-15.png"><img src="https://img.prin.studio/images/2015/07/2015-07-28_14-47-15.png" alt="20150726203222"></a></p>
<p>多了一个编译出来的 memcache.so ，mv 到你的 <em>php extension dir</em> 里去（可以在 phpinfo() 中查看</p>
<p>然后在 php.ini 的最后加入一句</p>
<p>extension &#x3D; memcache.so</p>
<p>重启 php-fpm 和 nginx 后就可以在 phpinfo() 中看到扩展信息了</p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-28_14-51-15.png"><img src="https://img.prin.studio/images/2015/07/2015-07-28_14-51-15.png" alt="phpinfo"></a></p>
<h3 id="三、在-WordPress-中启用-memcache-缓存"><a href="#三、在-WordPress-中启用-memcache-缓存" class="headerlink" title="三、在 WordPress 中启用 memcache 缓存"></a>三、在 WordPress 中启用 memcache 缓存</h3><p>推荐 W3-Total-Cache，运行 W3TC 的 compatibility check 可以看到 memcache 已经安装成功可以使用了</p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-29_03-14-37.png"><img src="https://img.prin.studio/images/2015/07/2015-07-29_03-14-37.png" alt="w3tc_memcache"></a></p>
<p> </p>
<p>具体设置就不说了，自己看着改吧。</p>
<p>（如果跟窝一样无法忍受 W3TC 的破图标的话就看一下<a target="_blank" rel="noopener" href="https://prinzeugen.net/way-to-change-icon-of-w3-total-cache-in-admin-menu-sidebar/">这一篇</a>吧</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/28/2015/change-the-favicon/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/28/2015/change-the-favicon/" itemprop="url">站点换了 favicon</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-28T22:32:01+08:00">
                2015-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%97%A5%E5%B8%B8/" itemprop="url" rel="index">
                    <span itemprop="name">日常</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>站点换了 favicon ，玩 ghost 的可能比较熟悉。。 <img src="https://img.prin.studio/images/2015/07/2015-07-28_06-29-38.png" alt="favicon_green"></p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-28_06-27-19.png"><img src="https://img.prin.studio/images/2015/07/2015-07-28_06-27-19.png" alt="ghostchina"></a></p>
<p>没错就是从 ghost 中文网扒下来的 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/05/2015-05-24_09-19-27.png"><img src="https://img.prin.studio/images/2015/05/2015-05-24_09-19-27.png" alt="i_f16"></a> 感觉挺好看就改了个色贴上去了。</p>
<p>原来那个表情 favicon 太糊，如果没见过原图的话可能会不明所以 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/27/2015/way-to-change-icon-of-w3-total-cache-in-admin-menu-sidebar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/27/2015/way-to-change-icon-of-w3-total-cache-in-admin-menu-sidebar/" itemprop="url">替换 W3 Total Cache 在 Wordpress 后台侧边栏图标的方法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-27T23:41:46+08:00">
                2015-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>W3 Total Cache 是个很好的 WordPress 缓存插件，提供页面数据库等等的硬盘缓存和 memcached 缓存，比 WP Super Cache 不知道高到哪里去了（笑，然而这个极好的插件却。。</p>
<h3 id="TMD-在侧边栏上的图标和其他的-没！对！齐！"><a href="#TMD-在侧边栏上的图标和其他的-没！对！齐！" class="headerlink" title="TMD 在侧边栏上的图标和其他的 没！对！齐！"></a>TMD 在侧边栏上的图标和其他的 没！对！齐！</h3><h3 id="还-TM-是彩！色！的！Fucking-Colorfuuuuul"><a href="#还-TM-是彩！色！的！Fucking-Colorfuuuuul" class="headerlink" title="还 TM 是彩！色！的！Fucking Colorfuuuuul !"></a>还 TM 是彩！色！的！Fucking Colorfuuuuul !</h3><p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-27_06-58-45.png"><img src="https://img.prin.studio/images/2015/07/2015-07-27_06-58-45.png" alt="W3"></a> 看看这破玩意儿，卧槽这尼玛果断不能忍啊 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/05/2015-05-24_09-19-271.png"><img src="https://img.prin.studio/images/2015/05/2015-05-24_09-19-271.png" alt="i_f33"></a></p>
<p>忍着不适将其配置好后马上开始着手替换这破图标。第一步自然是搜索引擎大法，遗憾的是都没有人写类似的文章。。难道用 W3TC 的强迫症只有窝这么一个吗。没办法了，自己动手，丰衣足食。</p>
<p>想到的第一个办法是替换图标源文件。审查元素发现是在 <em>w3-total-cache&#x2F;pub&#x2F;img&#x2F;w3tc-sprite.png</em>，</p>
<p>包含了 mouseover 和 mouseout 的两种图标，还有个 <em>w3tc-sprite-retina.png</em> 适用于高分辨率。。<a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a> 尼玛这搞个 dio 啊搞起来麻烦死了啊混蛋，还是用从代码下手吧</p>
<p>把插件下载下来，shell 下执行 <span class="lang:sh decode:true crayon-inline">find .|xargs grep -ri “w3tc-sprite.png” -l</span>  &#x2F;* <a href="#1">坑1</a> *&#x2F;，定位到引用此图标的文件 <em>.&#x2F;lib&#x2F;W3&#x2F;Plugin&#x2F;TotalCacheAdmin.php</em> ，再定位至</p>
<p>#toplevel_page_w3tc_dashboard .wp-menu-image { background: url(<?php echo plugins_url('w3-total-cache/pub/img/w3tc-sprite.png')?>) no-repeat 0 -32px !important; }</p>
<p>还有一大段差不多的代码窝就不贴了，将其注释掉（聪明点，别一大块注释，不然会有奇怪的错误 </p>
<p>这段代码是自定义当添加侧边栏菜单的函数</p>
<p>add_menu_page( $page_title, $menu_title, $capability, $menu_slug, $function, $icon_url, $position );</p>
<p><span style="line-height: 1.5;">没有指定 $icon_url 时的 CSS 。具体原文在</span><a target="_blank" rel="noopener" href="http://codex.wordpress.org/Function_Reference/add_menu_page">这里</a><span style="line-height: 1.5;">。</span></p>
<p>注释掉保存后刷新页面可以看到侧边栏的骰子图标不见了。接下来就要自定义图标了。这里窝用的是 WordPress 中的图标字体，具体都有什么可以看<a target="_blank" rel="noopener" href="https://developer.wordpress.org/resource/dashicons/#admin-generic">这里</a>。窝用了 dashicons-admin-generic 的齿轮图标</p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-27_07-19-01.png"><img src="https://img.prin.studio/images/2015/07/2015-07-27_07-19-01.png" alt="gear"></a></p>
<p>具体使用方法就是在 $icon_url 参数位置填上 <span class="lang:default decode:true  crayon-inline ">‘dashicons-admin-generic’</span> &#x2F;&#x2F;<a href="#2">坑2</a></p>
<p>再次查找使用了 add_menu_page 函数的文件 <span class="lang:sh decode:true  crayon-inline ">find .|xargs grep -ri “add_menu_page” -l</span> ，可以看到是在 <em>.&#x2F;lib&#x2F;W3&#x2F;Menus.php</em> 里调用的，调用代码是这样的：</p>
<p>add_menu_page(__(‘Performance’, ‘w3-total-cache’), __(‘Performance’, ‘w3-total-cache’), ‘manage_options’, ‘w3tc_dashboard’, ‘’, ‘div’);</p>
<p>将其替换成这样：</p>
<p>add_menu_page(__(‘Performance’, ‘w3-total-cache’), __(‘Performance’, ‘w3-total-cache’), ‘manage_options’, ‘w3tc_dashboard’,’’,’dashicons-admin-generic’, ‘div’);</p>
<p>坑2注意，WP 官方给的函数中参数有 7 个，但是 W3TC 中只用了 6 个。咱当时将那个空引号替换后发现没生效还以为是窝哪里搞错了又到处寻找解决方法。。。（扶额 ，估计那个空引号是 $function 吧，窝具体也没深入了解</p>
<p>总之将其这样替换后，图标问题是已经完美解决了 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/03/20150329080245.jpg"><img src="https://img.prin.studio/images/2015/03/20150329080245.jpg" alt="20150329080245"></a></p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-27_07-31-16.png"><img src="https://img.prin.studio/images/2015/07/2015-07-27_07-31-16.png" alt="dekita"></a> 唯一的问题就是不知道为啥图标到最后去了。。</p>
<p>难道是 css 定位出问题了。。嘛，能用就行了 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/03/i_f25.png"><img src="https://img.prin.studio/images/2015/03/i_f25.png" alt="i_f25"></a> 总算了却窝心头一桩大事</p>
<p> </p>
<p>关于坑一：</p>
<p>吗的窝本来不知道用 find 一个文件一个文件翻过去找的窝好苦啊 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/05/2015-05-24_09-19-271.png"><img src="https://img.prin.studio/images/2015/05/2015-05-24_09-19-271.png" alt="i_f33"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/27/SDL%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E7%AC%AC%E4%BA%8C%E8%AF%9D%EF%BC%9A%E5%9F%BA%E6%9C%AC%E5%9B%BE%E5%BD%A2%E7%9A%84%E7%BB%98%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/27/SDL%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E7%AC%AC%E4%BA%8C%E8%AF%9D%EF%BC%9A%E5%9F%BA%E6%9C%AC%E5%9B%BE%E5%BD%A2%E7%9A%84%E7%BB%98%E5%88%B6/" itemprop="url">SDL 游戏开发系列第二话：基本图形的绘制</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-27T08:48:59+08:00">
                2015-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" itemprop="url" rel="index">
                    <span itemprop="name">游戏开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          SDL_RenderCopy(g_pRenderer,m_pTexture,m_pSrcRect,m_pTargetRect);SDL_RenderCopy(renderer,m_pTexture,m_pSrcRect,m_pTargetRect);SDL_RenderCopy(renderer,m_pTexture,m_pSrcRect,m_pTargetRect)
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2015/07/27/SDL%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E7%AC%AC%E4%BA%8C%E8%AF%9D%EF%BC%9A%E5%9F%BA%E6%9C%AC%E5%9B%BE%E5%BD%A2%E7%9A%84%E7%BB%98%E5%88%B6/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/27/2015/wordpress-comment-mail-notify/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/27/2015/wordpress-comment-mail-notify/" itemprop="url">开启 Wordpress 评论回复邮件通知</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-27T01:52:47+08:00">
                2015-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>以前就注意到 wp 有这个功能了，可以在评论被回复时发邮件通知评论者，是个增强用户粘性的好方法。然而窝这犄角旮旯的能来几个人就不错了，哪有人闲得蛋疼来评论呢，所以咱也就没在意。</p>
<p>然而就在昨天，窝的博客迎来了激动人心的历史上的跨越：</p>
<h3 id="有窝不认识的人发表了评论！"><a href="#有窝不认识的人发表了评论！" class="headerlink" title="有窝不认识的人发表了评论！"></a>有窝不认识的人发表了评论！</h3><p>woc 窝当时心里真激动啊，这是评论者的一小步是人博客的一大步啊<a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a></p>
<p>窝当时就抄起键盘准备回复，突然一想没有邮件通知玩个卵啊</p>
<p>遂搜索了一大堆方法，其中也踩了不少坑，在这里记录一下。</p>
<p>原生 wp 的邮件发送是使用 php 的 mail() 函数，这点在后台登陆页的忘记密码处可以得知。你可以在 <a target="_blank" rel="noopener" href="http://www.yahei.net/">探针</a> 里查看你的 mail() 函数是否启用。使用 mail() 函数的方法请自行搜索。</p>
<p>首先去找一个启用 SMTP 的插件，这里推荐 Easy WP SMTP。配置不多说，请自行搞到能收到测试邮件。</p>
<p>如果你的主题自带回复提醒的话现在就可以测试一下了 &#x2F;&#x2F; <a href="#1">坑1</a></p>
<p>对于没有这个功能主题，打开开主题的 function.php ，在合适位置加入如下代码：</p>
<p>&#x2F;&#x2F;评论回复邮件 function comment_mail_notify($comment_id) { $comment &#x3D; get_comment($comment_id); $parent_id &#x3D; $comment-&gt;comment_parent ? $comment-&gt;comment_parent : ‘’; $spam_confirmed &#x3D; $comment-&gt;comment_approved; if (($parent_id !&#x3D; ‘’) &amp;&amp; ($spam_confirmed !&#x3D; ‘spam’)) { $wp_email &#x3D; ‘reply@’ . preg_replace(‘#^www.#’, ‘’, strtolower($_SERVER[‘SERVER_NAME’])); &#x2F;&#x2F;发件人邮件地址 $to &#x3D; trim(get_comment($parent_id)-&gt;comment_author_email); $subject &#x3D; ‘有人回复你在 ‘ . get_option(“blogname”) . ‘ 上的评论辣’; &#x2F;&#x2F;酌情更改 $message &#x3D; ‘<table style="width: 99.8%;height:99.8% "><tbody><tr><td style="background:#FAFAFA url(https://files.prinzeugen.net/Resources/pics/mail_background.png)"><div style="background-color:white;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;width:500px;margin:50px auto;color:#555555;font-family:Century Gothic,Trebuchet MS,Hiragino Sans GB,微软雅黑,Microsoft Yahei,Tahoma,Helvetica,Arial,SimSun,sans-serif;font-size:12px;"> <h2 style="border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;"><span style="color: #12ADDB;font-weight: bold;">&gt; </span>您在<a style="text-decoration:none;color: #12ADDB;" href="' . get_option('home') . '"> ‘ . get_option(‘blogname’) . ‘ </a>博客上的留言有回复啦！</h2> <div style="padding:0 12px 0 12px;margin-top:18px"><p>‘ . trim(get_comment($parent_id)-&gt;comment_author) . ‘ ，您曾在文章《’ . get_the_title($comment-&gt;comment_post_ID) . ‘》上发表评论:</p> <p style="background-color: #f5f5f5;border: 0px solid #DDD;padding: 10px 15px;margin:18px 0">‘ . nl2br(get_comment($parent_id)-&gt;comment_content) . ‘</p> <p>‘ . trim($comment-&gt;comment_author) . ‘ 给您的回复如下:</p> <p style="background-color: #f5f5f5;border: 0px solid #DDD;padding: 10px 15px;margin:18px 0">‘ . nl2br($comment-&gt;comment_content) . ‘</p> <p>您可以点击 <a style="text-decoration:none; color:#12addb" href="' . htmlspecialchars(get_comment_link($parent_id)) . '">查看回复的完整內容 </a>。欢迎再次光临 <a style="text-decoration:none; color:#12addb" href="' . get_option('home') . '">‘ . get_option(‘blogname’) . ‘ </a>。</p> <p>此邮件由系统自动发出，就算你回复了窝也不会回复你哟 ﾟ∀ﾟ)σ</p> </div></div></td></tr></tbody></table>‘; $from &#x3D; “From: &quot;“ . get_option(‘blogname’) . “&quot; &lt;$wp_email&gt;”; $headers &#x3D; “$from\nContent-Type: text&#x2F;html; charset&#x3D;” . get_option(‘blog_charset’) . “\n”; wp_mail( $to, $subject, $message, $headers ); &#x2F;&#x2F;echo ‘mail to ‘, $to, ‘<br/> ‘ , $subject, $message; &#x2F;&#x2F; for testing } } add_action(‘comment_post’, ‘comment_mail_notify’); &#x2F;&#x2F;窝还以为设置完 SMTP 后还要一些别的设置，没想到这里用了 wp 钩子就已经解决了（扶额</p>
<p>代码的意思看看函数名变量名之类的就可以懂了吧~</p>
<p>初次使用请将代码底部的 echo 反注释，方便调试</p>
<p>成功后发送的邮件大概是这样的：</p>
<table style="width: 99.8%; height: 99.8%;"><tbody><tr><td style="background: #FAFAFA url('https://files.prinzeugen.net/Resources/pics/mail_background.png');"><div style="background-color: white; border-top: 2px solid #12ADDB; box-shadow: 0 1px 3px #AAAAAA; line-height: 180%; padding: 0 15px 12px; width: 500px; margin: 50px auto; color: #555555; font-family: Century Gothic,Trebuchet MS,Hiragino Sans GB,微软雅黑,Microsoft Yahei,Tahoma,Helvetica,Arial,SimSun,sans-serif; font-size: 12px;">
## <span style="color: #12addb; font-weight: bold;">> </span>您在[ (ゝω·)~☆ kira ](https://prinzeugen.net)博客上的留言有回复啦！

<div style="padding: 0 12px 0 12px; margin-top: 18px;">prin ，您曾在文章《关于》上发表评论:

<p>TEST FOR MAIL</p>
<p>prin 给您的回复如下:</p>
<p>FXCK U MAN</p>
<p>您可以点击 <a target="_blank" rel="noopener" href="https://prinzeugen.net/about/#comment-88">查看回复的完整內容 </a>。欢迎再次光临 <a target="_blank" rel="noopener" href="https://prinzeugen.net/">(ゝω·)~☆ kira </a>。</p>
<p>此邮件由系统自动发出，就算你回复了窝也不会回复你哟 ﾟ∀ﾟ)σ</p>
</div></div></td></tr></tbody></table>想要更改邮件样式请自行更改 **$message** 内的内容，窝也贴一段别的样式

<p>$message &#x3D; ‘<div style="border-right:#666666 1px solid;border-radius:8px;color:#111;font-size:12px;width:702px;border-bottom:#666666 1px solid;font-family:微软雅黑,arial;margin:10px auto 0px;border-top:#666666 1px solid;border-left:#666666 1px solid"><div class="adM"> </div><div style="width:100%;background:#666666;min-height:60px;color:white;border-radius:6px 6px 0 0"><span style="line-height:60px;min-height:60px;margin-left:30px;font-size:12px">您在 <a style="color:#00bbff;font-weight:600;text-decoration:none" href="' . get_option('home') . '" target="_blank">‘ . get_option(‘blogname’) . ‘</a> 上的留言有回复啦！</span> </div> <div style="margin:0px auto;width:90%"> <p>‘ . trim(get_comment($parent_id)-&gt;comment_author) . ‘, 您好!</p> <p>您于’ . trim(get_comment($parent_id)-&gt;comment_date) . ‘ 在文章《’ . get_the_title($comment-&gt;comment_post_ID) . ‘》上发表评论: </p> <p style="border-bottom:#ddd 1px solid;border-left:#ddd 1px solid;padding-bottom:20px;background-color:#eee;margin:15px 0px;padding-left:20px;padding-right:20px;border-top:#ddd 1px solid;border-right:#ddd 1px solid;padding-top:20px">‘ . nl2br(get_comment($parent_id)-&gt;comment_content) . ‘</p> <p>‘ . trim($comment-&gt;comment_author) . ‘ 于’ . trim($comment-&gt;comment_date) . ‘ 给您的回复如下: </p> <p style="border-bottom:#ddd 1px solid;border-left:#ddd 1px solid;padding-bottom:20px;background-color:#eee;margin:15px 0px;padding-left:20px;padding-right:20px;border-top:#ddd 1px solid;border-right:#ddd 1px solid;padding-top:20px">‘ . nl2br($comment-&gt;comment_content) . ‘</p> <p>您可以点击 <a style="color:#00bbff;text-decoration:none" href="' . htmlspecialchars(get_comment_link($parent_id)) . '" target="_blank">查看回复的完整內容</a></p> <p>感谢你对 <a style="color:#00bbff;text-decoration:none" href="' . get_option('home') . '" target="_blank">‘ . get_option(‘blogname’) . ‘</a> 的关注，欢迎再次光临~(｀･ω･)</p><p>（此邮件由系统自动发出，就算你回复了窝也不会回复你哟 ﾟ∀ﾟ)σ）</p></div></div>‘;</p>
<p>这是预览：</p>
<div style="border-radius: 8px; color: #111; font-size: 12px; width: 702px; font-family: 微软雅黑,arial; margin: 10px auto 0px; border: #666666 1px solid;"><div style="width: 100%; background: #666666; min-height: 60px; color: white; border-radius: 6px 6px 0 0;"><span style="line-height: 60px; min-height: 60px; margin-left: 30px; font-size: 12px;">您在 [(ゝω·)~☆ kira](https://prinzeugen.net) 上的留言有回复啦！</span></div><div style="margin: 0px auto; width: 90%;">H, 您好!

<p>您于2015-07-26 14:29:42 在文章《关于》上发表评论:</p>
<p>AAA I WANT A MAIL</p>
<p>prin 于2015-07-26 15:10:35 给您的回复如下:</p>
<p>蛤</p>
<p>您可以点击 <a target="_blank" rel="noopener" href="https://prinzeugen.net/about/#comment-81">查看回复的完整內容</a></p>
<p>感谢你对 <a target="_blank" rel="noopener" href="https://prinzeugen.net/">(ゝω·)~☆ kira</a> 的关注，欢迎再次光临~(｀･ω･)</p>
<p>此邮件由系统自动发出，就算你回复了窝也不会回复你哟 ﾟ∀ﾟ)σ</p>
</div></div>

<p>&#x2F;&#x2F;关于坑1</p>
<p>应该是窝主题里的函数哪里出了问题害的窝 SMTP 不行 mail() 也不行折腾了一下午（扶额</p>
<p>如果你明明 SMTP 可以发件但是收不到回复邮件的话，可以在这个函数顶上写个 wp_mail() （参数自己看）来调试</p>
<p>上面的是在别处扒来的，不过这样的话那个评论复选框就没用了呢 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-17_03-28-41.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-17_03-28-41.jpg" alt="20150717112829"></a> 等有时间窝在把判断逻辑也写进去</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/26/2015/nginx-rewrite/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/26/2015/nginx-rewrite/" itemprop="url">使用 nginx rewrite 实现域名自动跳转</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-26T20:40:13+08:00">
                2015-07-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>咱是全站 ssl 加密的，自然不能让访客以 http 协议明文访问。要实现 http 访问自动重定向至 https，可以使用 nginx 的 rewrite 语句。</p>
<p>虽然咱是早就实现了，但是最近由于种种原因重新配置时又要再去搜索，遂写篇文章备忘。</p>
<p><strong>http 跳转到 https：</strong></p>
<p>rewrite ^(.*)$  https:&#x2F;&#x2F;$host$1 permanent;</p>
<p><strong>带 www 域名跳转到根域名：</strong></p>
<p>if ($host ~* <a target="_blank" rel="noopener" href="http://www.prinzeugen.net/">www.prinzeugen.net</a>) { rewrite ^&#x2F;(.*)$ <a target="_blank" rel="noopener" href="https://prinzeugen.net/$1">https://prinzeugen.net/$1</a> permanent; }</p>
<p>顺带一提如果需要这几句话的地方比较多，可以写个 conf 直接 include，举个栗子：</p>
<p>在 rewrite.conf 中写上上面的语句，然后在 <strong>nginx.conf</strong> 中写一句：</p>
<p>include &#x2F;home&#x2F;wwwroot&#x2F;lnmp&#x2F;rewrite.conf;</p>
<p>就可以了。BTW，如果是 amh 面板用户，在 amhrewrite 模块中加入上面的语句就好了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/25/SDL%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E7%AC%AC%E4%B8%80%E8%AF%9D%EF%BC%9AHello%20SDL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/25/SDL%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E7%AC%AC%E4%B8%80%E8%AF%9D%EF%BC%9AHello%20SDL/" itemprop="url">SDL 游戏开发系列第一话：Hello SDL</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-25T15:19:01+08:00">
                2015-07-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" itemprop="url" rel="index">
                    <span itemprop="name">游戏开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          ###什么是SDL;在以上代码中我们基本遵循了SDL游戏开发的一般流程，即首先对SDL进行初始化，当SDL初始化完成后，我们创建一个标题为"SDL学习示例1",窗口对齐方式为居中对齐，窗口大小为640*480的窗口，然后创建了模式为软件渲染的SDL渲染器，并设置渲染器的背景色为黑色;作为第一个项目，它简单到纯粹，当我们运行项目，会发现一个黑色的窗口一闪而过，这是因为我们这里在渲染了一次后就使用SDL_Quit()方法退出了，第一篇文章并不会有太复杂的内容，因为它的意义在于让我们对SDL游戏开发有个基本的认识和了解
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2015/07/25/SDL%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E7%AC%AC%E4%B8%80%E8%AF%9D%EF%BC%9AHello%20SDL/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/25/2015/windows-10130-plus-cant-be-installed-on-g3258/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/25/2015/windows-10130-plus-cant-be-installed-on-g3258/" itemprop="url">已证实 G3258 无法安装 Windows 10130+ （附暂时解决方法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-25T02:06:08+08:00">
                2015-07-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="UPDATE：已找到完美解决方法，请移步-https-prinzeugen-net-win10-rtm-enable-g3258-dual-core"><a href="#UPDATE：已找到完美解决方法，请移步-https-prinzeugen-net-win10-rtm-enable-g3258-dual-core" class="headerlink" title="UPDATE：已找到完美解决方法，请移步 https://prinzeugen.net/win10-rtm-enable-g3258-dual-core/"></a><strong>UPDATE：</strong>已找到完美解决方法，请移步 <a target="_blank" rel="noopener" href="https://prinzeugen.net/win10-rtm-enable-g3258-dual-core/">https://prinzeugen.net/win10-rtm-enable-g3258-dual-core/</a></h3><hr>
<p>昨天晚上窝就下载了OEM 泄露的 win10 RTM iso，因为 Windows Update 一直升级失败，挂着安装。。然后就出现了错误</p>
<blockquote>
<p>无法安装 Windows 10</p>
<p>0xC1900101 – 0X20017</p>
<p>在 BOOT 操作过程中的 SAFE_OS 阶段，安装失败，出现错误</p>
</blockquote>
<p>但是太晚了就懒得折腾也没觉得多大点事儿就睡觉了。今早起来再次安装依然 same error。</p>
<p>窝当时心里挺慌，觉得大概是 iso 的问题，遂下载了 10240 的 iso（NOW ON 10130），然而还是同样的错误。尝试全新安装，USB Boot，HDD Boot 全都是 same error。看来自己是无法解决了，遂使用搜索引擎（已百度搜过但是没有有效解决方法。</p>
<p>搜索了大概 30 min+（Google 关键词 <strong>BOOT SAFE_OS</strong>，百度 pass），看了所有相关的 Microsoft Community 的文章（鹰文），唯一有用的是发现不止窝一个，有很多人有同样的错误。里面的 MS 帮助人员也列出了一些解决措施，包括 set EDB (<a target="_blank" rel="noopener" href="http://www.webopedia.com/TERM/E/Execute_Disable_Bit.html">Execute Disable Bit</a>) to Enable 之类的，但是没什么卵用。</p>
<p>继续 Google 和在 pcbeta 之类的论坛搜索，发现也有人发帖说 Install Windows 10166 on G3258 failed，窝一看就觉得大概是这个了，帖子描述的错误码和症状和窝一模一样而且窝也是 Intel G3258 on E85m motherboard。</p>
<p>遂再次 Google 之，又看了一大堆 MS community 的文，最后锁定搜索关键词为 <strong>Windows 10 G3258</strong></p>
<p>可以看到有很多出现此问题的人，描述的内容也都是 0xC1900101 – 0X20017 而且10130 及之前都是 no problem</p>
<p>其中最有用的帖子大概是这个：<a target="_blank" rel="noopener" href="https://social.technet.microsoft.com/Forums/en-US/15d85ab2-9fc5-4683-96d6-7770a40284d4/windows-10-new-builds-wont-boot?forum=WinPreview2014Setup">Windows 10 – new builds won’t boot</a></p>
<h3 id="所以目前唯一的解决办法就是在-BIOS-中将-CPU-核心数调为-1"><a href="#所以目前唯一的解决办法就是在-BIOS-中将-CPU-核心数调为-1" class="headerlink" title="所以目前唯一的解决办法就是在 BIOS 中将 CPU 核心数调为 1"></a>所以目前唯一的解决办法就是在 BIOS 中将 CPU 核心数调为 1</h3><p>但是将双核 U 调成单核这吃了屎一般的感觉。。只好等 MS 在 29th 的发布了，如果还没有解决的话窝估计要投奔 linux 的怀抱了</p>
<p>目前没有在主用 PC 上装 elementray OS freya 就是怕双亲用不习惯。。想艹黑苹果但是 G3258 好像也会有奇怪的问题。。</p>
<p>真是多灾多难呐， G3258。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2015/07/25/2015/windows-10130-plus-cant-be-installed-on-g3258/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/24/%E3%80%8A%E4%BB%99%E5%89%91%E5%A5%87%E4%BE%A0%E4%BC%A0%E5%85%AD%E3%80%8B%E6%B8%B8%E6%88%8F%E6%84%9F%E8%A8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/24/%E3%80%8A%E4%BB%99%E5%89%91%E5%A5%87%E4%BE%A0%E4%BC%A0%E5%85%AD%E3%80%8B%E6%B8%B8%E6%88%8F%E6%84%9F%E8%A8%80/" itemprop="url">《仙剑奇侠传六》游戏感言</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-24T09:21:20+08:00">
                2015-07-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%95%E6%9C%BA%E6%B8%B8%E6%88%8F/" itemprop="url" rel="index">
                    <span itemprop="name">单机游戏</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          仙剑六中做得最好看的永远都是人物的脸，我不知道北软是不是在有意告诉大家：这是一个看脸、靠脸的时代，所以当我们面对这个游戏的时候我们就发现整个游戏除了脸比较漂亮以外基本没有什么优点，可是事实上不同的人物在不同的场合、年龄他的面部应该都是不一样的啊，北软你把所有人的脸都做的这么漂亮，是想告诉玩家都不用去努力工作、只要拼脸就可以了吗;在仙剑奇侠传六的宣传阶段，我在我的 QQ 群里、我的博客中不断向大家输送着这样一个概念：仙剑六是仙剑奇侠传系列二十年的突破之作，它一定不会让大家失望的，甚至我不遗余力地和游戏圈子里使用 Unity3D 引擎开发游戏的朋友们说，看，仙剑六是使用 Unity3D 引擎开发的，它的画面是历代游戏中最好的，这一次它终于要尝试即时战斗了;目前 Unity3D 的授权方式是收入超过 3 万美元即 18 万人民币左右需要按照一定的比例向 Unity3D 官方支付费用，我不知道这次的优化问题是否会对仙剑六的销量产生影响，可是我觉得恐怕官方都会认为这款游戏存在影响 Unity3D 引擎声誉的问题吧
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2015/07/24/%E3%80%8A%E4%BB%99%E5%89%91%E5%A5%87%E4%BE%A0%E4%BC%A0%E5%85%AD%E3%80%8B%E6%B8%B8%E6%88%8F%E6%84%9F%E8%A8%80/">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/24/2015/chrome-hsts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/24/2015/chrome-hsts/" itemprop="url">Chrome 下使支持 https 的站点默认使用 SSL 加密</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-24T06:27:57+08:00">
                2015-07-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>有些网站比如 V2EX 支持 https 但是不强制使用 https，在 chrome 下我们可以通过设置使访问 V2EX 强制使用 https 。</p>
<p>方法很简单，在 <a href="chrome://net-internals/#hsts">chrome:&#x2F;&#x2F;net-internals&#x2F;#hsts</a> 中添加需要使用 HSTS 的站点即可。</p>
<blockquote>
<p>HSTS (HTTP Strict Transport Security)，HTTP严格传输安全，是一套由互联网工程任务组发布的互联网安全策略机制。网站可以选择使用HSTS策略，来让浏览器强制使用HTTPS与网站进行通信，以减少会话劫持风险。</p>
</blockquote>
<p>HSTS 的作用是强制客户端（如浏览器）使用HTTPS与服务器创建连接。</p>
<p>比如，<a target="_blank" rel="noopener" href="https://example.com/">https://example.com/</a> 的响应头含有 <span class="lang:default decode:true  crayon-inline ">Strict-Transport-Security: max-age&#x3D;31536000; includeSubDomains</span> 。这意味着两点：</p>
<ol>
<li>在接下来的一年（即31536000秒）中，浏览器只要向 example.com 或其子域名发送 HTTP 请求时，必须采用 HTTPS 来发起连接。比如，用户点击超链接或在地址栏输入 <a target="_blank" rel="noopener" href="http://www.example.com/">http://www.example.com/</a> ，浏览器应当自动将 http 转写成 https，然后直接向 <a target="_blank" rel="noopener" href="https://www.example.com/">https://www.example.com/</a> 发送请求。</li>
<li>在接下来的一年中，如果 example.com 服务器发送的 TLS 证书无效，用户不能忽略浏览器警告继续访问网站。</li>
</ol>
<p>以上内容引自 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8">中文维基百科</a>。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/22/2015/move-back-to-digitalocean-nyc-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/22/2015/move-back-to-digitalocean-nyc-3/" itemprop="url">全站已搬回 DigitalOcean NYC3 机房</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-22T06:44:41+08:00">
                2015-07-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%97%A5%E5%B8%B8/" itemprop="url" rel="index">
                    <span itemprop="name">日常</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>conoha 东京机房体验了一个星期发现好！慢！啊！<a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/05/2015-05-24_09-19-271.png"><img src="https://img.prin.studio/images/2015/05/2015-05-24_09-19-271.png" alt="i_f33"></a></p>
<p>虽然带宽是挺大，wget 国外资源都是唰唰唰的，但是到大陆简直小水管，10KBps 的下行速度简直。。</p>
<p>昨晚搞 conoha 的 vps 时把 nginx 艹坏了搞得证书错乱，</p>
<p>各种解决方法无果于是回滚到早上的镜像 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a></p>
<p>不得不说conoha的系统重装速度简直慢得一B，DO 恢复 snapshot 半分钟的事儿 conoha 要半小时。。（扶额，不会是肉身重装吧（笑</p>
<p>等了半小时开 conoha 控制面板一看。。</p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-21_13-38-35.png"><img src="https://img.prin.studio/images/2015/07/2015-07-21_13-38-35.png" alt="20150721213634"></a></p>
<p><strong>WHAT THE FUUUUUUCKKK ! ! ! !なんだこれいみわかねーよ！！</strong></p>
<p>这尼玛是什么奇异的错误，连镜像恢复页都不能进，窝当时心里千万只草泥马奔腾呼啸而过 <img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></p>
<p>无法自助恢复只好用捉鸡的日语发了 tickets 就去看 charlotte 了 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/03/i_f25.png"><img src="https://img.prin.studio/images/2015/03/i_f25.png" alt="i_f25"></a>，</p>
<p>第二天早上发现了客服的回信：</p>
<blockquote>
<p>(お客様センター) – 2015&#x2F;07&#x2F;21 12:46</p>
<p>ご担当者 様</p>
<p>いつもご利用いただき、まことにありがとうございます。</p>
<p>ConoHa お客様センター です。</p>
<p>お問い合わせの件、OS再インストールが正常に終了していない状況でございました。</p>
<p>つきましては、<wbr></wbr>弊社にて調整させていただきましたのでご確認ください</p>
<p>ますようお願いいたします。</p>
<p>今後ともConoHaをよろしくお願いいたします。</p>
</blockquote>
<p>唔。。大意就是重装没有正常结束 blabla，然后他们帮咱搞好啦</p>
<p>正好碰上出了这档子事儿，也算是个搬家的好机会，就又去 DO 看了看</p>
<p>以前听网上安利的 SFO 机房速度亲测也不是很快，这次就又开了个了 NYC3 机房的比较测试</p>
<p>同样从 vps scp 到本地，SFO 只能跑到 30KBps，但是NYC可以跑到 300KBps</p>
<p>虽然这看起来也是惨不忍睹的速度 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a> 但是根本就不会有官方测速那么 dio 直飞 2MBps 啊</p>
<p>反正比前两个tokyo的和SFO的已经快很多了，窝对国外vps已经无欲无求了 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-10_10-57-26.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-10_10-57-26.jpg" alt="20150710185714"></a></p>
<p>搭建 lnmp 艹起来 wordpress 一切顺利，搬家过程中两台 vps 互相 wget 明明可以飙到 10MBps+ <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a></p>
<p>难道是窝这里破电信的锅？ <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-17_03-28-41.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-17_03-28-41.jpg" alt="20150717112829"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/use-es6-today">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/use-es6-today" itemprop="url">Using ES6 today</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-20T08:20:00+08:00">
                2015-07-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          Setting up ES6 in your next web project isn't that difficult... if you know how.
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/use-es6-today">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/20/2015/hitokoto-has-been-cached/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/20/2015/hitokoto-has-been-cached/" itemprop="url">php 输出一言会被缓存掉</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-20T07:48:01+08:00">
                2015-07-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%97%A5%E5%B8%B8/" itemprop="url" rel="index">
                    <span itemprop="name">日常</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>使用 php 随机输出一言会被 wp super cache 缓存掉，咱今天才发现这一点</p>
<p>只好再用回 JavaScript 输出了（哭</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/18/2015/amh-5-1-mysql-start-error-after-reboot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/18/2015/amh-5-1-mysql-start-error-after-reboot/" itemprop="url">VPS 软重启后 amh 5.1 mysql 启动错误的解决方法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-18T23:26:50+08:00">
                2015-07-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天咱在 ssh 中执行 reboot 后，发现 wordpress、amh 都连不上 mysql 数据库</p>
<p><span class="lang:default decode:true  crayon-inline ">amh mysql status</span>  查看发现 mysql 没有在运行，遂 <span class="lang:default decode:true  crayon-inline ">amh mysql start</span>  启动 mysql</p>
<p>结果报！错！了！<a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a> ：</p>
<p><strong>The server quit without updating PID file</strong><div class="collapseomatic_content " id="target-id6542"><a target="_blank" rel="noopener" href="https://ww4.sinaimg.cn/large/ec03501dgw1eu76x1zgmtj20tj0hak99.jpg"><img src="https://ww4.sinaimg.cn/large/ec03501dgw1eu76x1zgmtj20tj0hak99.jpg" alt="图好大"></a></p>
</div>amh 论坛上说有三种可能

<ol>
<li><strong>df -h</strong>  看磁盘是否有空间；</li>
<li><strong>ls -l &#x2F;home&#x2F;usrdata&#x2F;mysql</strong>*  目录是否有权限；</li>
<li>检测 <strong>my.cnf</strong> 配置是否正确(与是否有多余其它的)；</li>
</ol>
<p>一条一条试过去，咱的硬盘还充足，目录权限也没错</p>
<p>然而窝以为咱没修改过配置所以和 my.cnf 没关系，就没检查，又在 amh 论坛上查找无果 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a></p>
<p>最后在 <del>万策尽きた</del> 的时候，咱抱着最后希望 <span class="lang:default decode:true  crayon-inline ">vim &#x2F;etc&#x2F;mysql&#x2F;my.cnf</span> 了</p>
<p>一看竟然发现里面的 <strong>socket &#x3D; &#x2F;var&#x2F;run&#x2F;mysqld&#x2F;mysqld.sock</strong> ！！！<a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/06/2015-06-21_05-40-30.gif"><img src="https://img.prin.studio/images/2015/06/2015-06-21_05-40-30.gif" alt="QQ图片20150621134022"></a></p>
<p>woc 原来就是这 sabi <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a> 估计是装什么模块的时候被重写了</p>
<p>于是 <span class="lang:default decode:true  crayon-inline ">rm -f &#x2F;etc&#x2F;mysql&#x2F;my.cnf</span>  后，<span class="lang:default decode:true  crayon-inline  ">amh mysql start</span>  终于不报错了<a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/06/2015-06-27_15-39-05.jpg"><img src="https://img.prin.studio/images/2015/06/2015-06-27_15-39-05.jpg" alt="QQ图片20150627233807"></a></p>
<p>可喜可贺，可喜可贺</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/18/2015/linux-shell-frequently-used-command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/18/2015/linux-shell-frequently-used-command/" itemprop="url">Linux shell 常用命令备忘</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-18T00:01:48+08:00">
                2015-07-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>暑假以来好像天天都在搞 vps ，本来只用过 linux 图形界面的窝也可以比较熟练地使用 shell 了 （天天对着终端艹 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a> ，于是整理了一些 shell 常用命令如下：</p>
<p> </p>
<p><strong>ls  [OPTION]  [FILE]</strong>     显示目录内容</p>
<p>-a            显示以 . 开头的文件（root 用户默认带此参数</p>
<p>-l             列出文件具体信息</p>
<p><strong>cp  [OPTION]  SOURCE  DIRECTORY</strong>     复制文件</p>
<p>-f             强制</p>
<p>-p            复制属性</p>
<p>-i             文件存在时再次确认</p>
<p>-r             递归复制</p>
<p><strong>cd [dir]</strong>     进入目录</p>
<p><strong>mv  [OPTION]  SOURCE  DIRECTORY</strong>    移动文件 &#x2F; 重命名</p>
<p>-f             强制</p>
<p>-i             文件存在时再次确认</p>
<p><strong>rm  [OPTION]  FILE</strong>    删除文件</p>
<p>-f             强制</p>
<p>-i             再次确认</p>
<p>-r             递归删除</p>
<p><strong><span class="crayon-i">pwd</span></strong>      查看当前目录路径</p>
<p><strong>vim  [OPTION]  FILE</strong>      vim文本编辑器，只在此写出基本用法</p>
<p>在命令模式（即进入 vim 默认的模式）中按 i 或者 Ins 键进入插入模式</p>
<p>插入模式中可以自由编辑文件。按 Esc 退出插入模式。</p>
<p>命令模式中输入  <span class="lang:default decode:true  crayon-inline ">:q!</span>  不保存强制退出；  <span class="lang:default decode:true  crayon-inline">:wq</span>  保存并退出；   <span class="lang:default decode:true  crayon-inline">:w</span>  保存 ；<span class="lang:default decode:true  crayon-inline">&#x2F;word</span>  搜索 word，<span class="lang:default decode:true  crayon-inline ">n</span>  下一条符合的记录；</p>
<p><strong>clear</strong>      清屏 &#x2F; Ctrl + L</p>
<p><strong>alias  [name]&#x3D;[value]</strong>       指令别名</p>
<p>e.g. $ alias cls&#x3D;’clear’</p>
<p>UPDATE：</p>
<p><strong>wget  [OPTION]  [URL]</strong>   远程下载你懂的</p>
<p> -c,  –continue         继续下载上次未下载完的文件</p>
<p><strong>passwd  [LOGIN]</strong>    修改密码</p>
<p><strong>tar  [OPTION]  [FILE]</strong>          tar解压</p>
<p>-x, –extract, –get       extract files from an archive</p>
<p>-v, –verbose              verbosely list files processed</p>
<p>-f, –file&#x3D;ARCHIVE         use archive file or device ARCHIVE</p>
<p><strong>unzip [-opts]  file[.zip]  [-d exdir]</strong>          zip解压</p>
<p>-o  覆盖已存在文件</p>
<p>-d  指定解压缩到的目录</p>
<p>**ps  [options] **         查询进程状态</p>
<p>-a                   all with tty, except session leaders</p>
<p>-u, U, –user <uid>  effective user id or name</p>
<p> x                   processes without controlling ttys</p>
<p>e.g. ps -aux | grep nginx        在所有进程中，查找nginx的进程</p>
<p><strong>kill  [-n signum]  pid</strong>         根据进程号杀死进程</p>
<p><strong>top</strong>        查看程序的cpu，内存使用情况</p>
<p><strong>free -m</strong>      查看内存，swap使用情况</p>
<p><strong>netstat -ntl</strong>      查看端口占用情况</p>
<hr>
<p>就先写这么点吧~ <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/06/2015-06-21_05-34-38.jpg"><img src="https://img.prin.studio/images/2015/06/2015-06-21_05-34-38.jpg" alt="QQ图片20150621133428"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/17/2015/use-v2ex-gravatar-cdn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/17/2015/use-v2ex-gravatar-cdn/" itemprop="url">替换 Wordpress 的 Gravatar 为 v2ex 的 Gravatar CDN</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-17T19:35:26+08:00">
                2015-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天咱逛 v2 时突然发现原来 v2 的 gravatar cdn 是可以公开调用的<a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-17_03-28-41.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-17_03-28-41.jpg" alt="20150717112829"></a></p>
<p>正巧咱艹上了 https ，v2 的 gravatar cdn 又是支持 ssl 的，就懒得自己搭了 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a></p>
<p>只要在主题的 function.php 中的 php 结束标签之前加入如下代码即可：</p>
<p>&#x2F;<em>替换为v2ex的Gravatar CDN</em>&#x2F; function getV2exAvatar($avatar) { $avatar &#x3D; str_replace(array(“<a target="_blank" rel="noopener" href="http://www.gravatar.com/avatar%22,%220.gravatar.com/avatar%22,%221.gravatar.com/avatar%22,%222.gravatar.com/avatar%22),%22cdn.v2ex.com/gravatar%22,$avatar">www.gravatar.com/avatar&quot;,&quot;0.gravatar.com/avatar&quot;,&quot;1.gravatar.com/avatar&quot;,&quot;2.gravatar.com/avatar&quot;),&quot;cdn.v2ex.com/gravatar&quot;,$avatar</a>); return $avatar; } add_filter(‘get_avatar’, ‘getV2exAvatar’);</p>
<p>如果尼的主题已经自带 gravatar 爬墙，但是都不支持 ssl （像窝一样 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a></p>
<p>就在function.php中查找 <span class="theme:arduino-ide lang:default decode:true  crayon-inline ">$avatar</span> 关键字，随机应变替换即可</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/17/2015/access-nginx-secondary-dir-needs-slash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/17/2015/access-nginx-secondary-dir-needs-slash/" itemprop="url">nginx 二级目录不加入 / 无法访问的解决方法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-17T06:16:17+08:00">
                2015-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天咱重新在 vps 上部署贴吧云签到的时候，发现：</p>
<p><a target="_blank" rel="noopener" href="https://prinzeugen.net/cloudsign">https://prinzeugen.net/cloudsign</a> 无法访问，直接跳转到根域名首页去了</p>
<p>加入 <code>/</code> 即：<a target="_blank" rel="noopener" href="https://prinzeugen.net/cloudsign/">https://prinzeugen.net/cloudsign/</a> 就可以访问了</p>
<p>但这样也太 tm 坑爹了吧 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a> ，遂查找到解决方法如下：</p>
<p>常见做法：在 rewrite 规则中加入</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">if</span> (-d <span class="variable">$request_filename</span>) &#123;</span><br><span class="line">    <span class="attribute">rewrite</span><span class="regexp"> ^/(.*)([^/])$</span> http://<span class="variable">$host</span>/<span class="variable">$1</span><span class="variable">$2</span>/ <span class="literal">permanent</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>更佳的替代方法：修改 ngnix.conf 中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">optimize_server_names off; ＃优化服务器名称：关</span><br><span class="line">server_name_in_redirect off; ＃服务器名称重定向：关</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/16/2015/https-get/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/16/2015/https-get/" itemprop="url">姑且是艹上了 https 。。。</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-16T05:12:30+08:00">
                2015-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%97%A5%E5%B8%B8/" itemprop="url" rel="index">
                    <span itemprop="name">日常</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Update：</strong>不安全内容解☆决★完☆成~</p>
<p>感觉速度不慢呐，加上 ssl ctrl+f5 依然可以在8s内打开</p>
<p>估计是刚才有人在干啥拖母鸡吧 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a></p>
<hr>
<p>但是好慢啊啊啊明明vps配置还可以嘛</p>
<p><a target="_blank" rel="noopener" href="https://prinzeugen.net/">https://prinzeugen.net</a></p>
<p>不安全内容还没去搞，先把速度搞上去吧</p>
<p>难道真像 dalao 说的 conoha tokyo 太弱？</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2015/07/13/2015/move-to-conoha-tokyo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/13/2015/move-to-conoha-tokyo/" itemprop="url">全站已搬迁至 conoha 东京机房</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-13T19:05:30+08:00">
                2015-07-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%97%A5%E5%B8%B8/" itemprop="url" rel="index">
                    <span itemprop="name">日常</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>顶图是 conoha 的看板娘 <a target="_blank" rel="noopener" href="http://みくも.com/">美雲このは</a> 哟~</p>
<hr>
<p>被安利了 <a target="_blank" rel="noopener" href="https://www.conoha.jp/referral/?token=Hyo3NTnicLIo3cbI2WwTxiROdkwejqSmtGGr1tm5xlpZ25m.Rao-QWN">conoha</a>（窝的推广链接（笑） 的东京机房，窝去看看了看，费用是 900円&#x2F;月，换算成软妹币差不多45块（安倍经济学大法好 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/03/i_f25.png"><img src="https://img.prin.studio/images/2015/03/i_f25.png" alt="i_f25"></a>）。通过别人的推广链接注册还可以送 1000日元。当时咱就无脑注册了一个 vps 玩玩，配置如下：</p>
<p><a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-13_02-37-59.png"><img src="https://img.prin.studio/images/2015/07/2015-07-13_02-37-59-1024x86.png" alt="20150712134657"></a></p>
<p>配置还算不错，而且东京机房应该会比 SFO 机房快一些（对各种线路用户来说</p>
<p>付完款到手以后，发现IP竟然被！墙！了！ <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a></p>
<p>本来想发 tickets 的，后来转念一想，反正是月底结算，就删掉了 vps 重建了一个。</p>
<p>conoha 和 digitalocean 不一样，删掉 vps 重新创建是可以改掉 IP 地址的，新的IP终于可以正常访问了 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/03/i_f25.png"><img src="https://img.prin.studio/images/2015/03/i_f25.png" alt="i_f25"></a>，遂将 conoha.prinzeugen.net 解析至 vps 开始折腾~</p>
<p>lnmp 咱已经不想再搞他了 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/06/2015-06-27_15-39-05.jpg"><img src="https://img.prin.studio/images/2015/06/2015-06-27_15-39-05.jpg" alt="QQ图片20150627233807"></a> 这次咱用的是 <a target="_blank" rel="noopener" href="http://amh.sh/">amh面板</a>，6块一个月并不算贵。如果你手头紧就自行搜索破解版吧，咱也不好推荐盗版</p>
<p>使用 amh 的一键安装脚本很快就可以配置好，而且是用户友好的 gui 界面，配置很方便，咱很快就把ngnix+PHP+mysql的运行环境搭建好了。amh 面板的软件下载页很全，几乎需要用到的环境都可以找到 <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg"><img src="https://img.prin.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a> 就算是窝也不想天天黑底白字啊</p>
<p>顺便将NS换成了dnspod ，正捣腾着amh的时候突然出了上篇文那档子事，不过还好晚上12点左右就恢复了。现在又用回了花生壳的 dns 解析。主域名都已经解析至 conoha 的 vps ，原来的破虚机<a target="_blank" rel="noopener" href="http://vhost.prinzeugen.net/">在这里</a></p>
<p>虽然中途有碰到过各种事，但也不是什么值得记录的，就先这样吧  <a target="_blank" rel="noopener" href="https://img.prin.studio/images/2015/05/20150503085737.jpg"><img src="https://img.prin.studio/images/2015/05/20150503085737.jpg" alt="20150503085737"></a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/57/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/57/">57</a><span class="page-number current">58</span><a class="page-number" href="/page/59/">59</a><span class="space">&hellip;</span><a class="page-number" href="/page/79/">79</a><a class="extend next" rel="next" href="/page/59/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">1579</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">64</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">914</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Laird Lau</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
