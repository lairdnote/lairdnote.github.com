<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Liunx Python Rust Goalng DevOPS" />










<meta name="description" content="个人随想，瞎子的世界">
<meta property="og:type" content="website">
<meta property="og:title" content="逐流小站">
<meta property="og:url" content="https://blog.feedscoin.com/page/7/index.html">
<meta property="og:site_name" content="逐流小站">
<meta property="og:description" content="个人随想，瞎子的世界">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Laird Lau">
<meta property="article:tag" content="Liunx Python Rust Goalng DevOPS">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blog.feedscoin.com/page/7/"/>





  <title>逐流小站</title>
  





<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MW47YH6RH0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MW47YH6RH0');
</script>





<meta name="generator" content="Hexo 7.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">逐流小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">想回到那个能随便跳槽的年代</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/09/24/2022-9-24-obs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/09/24/2022-9-24-obs/" itemprop="url">录屏软件OBS使用技巧：圆形人像和应用LUT</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-09-24T10:22:00+08:00">
                2022-09-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「效率工具指南」<br>文&#x2F;彭宏豪        </p>
<p>Hello 各位好，我是小豪。  </p>
<p>之前写过不少关于 OBS 使用技巧的文章，很长一段时间我都没有去更新这个软件，直到最近要用到 OBS 的一个新功能，我才把 Mac 电脑安装的软件更新到了最新版。   </p>
<p>最新版 OBS 最大的变化在于，它对软件的 UI 界面进行了重新设计，给每个按钮加上圆角矩形作为背景，让不同的按钮之间的区分更明显，看起来也更加现代。  </p>
<p>下面我放了 OBS 更新后和更新前的对比图，供参考：     </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639467458226.jpg"></p>
<p><img src="https://img.penghh.fun/2022/09/24/snipaste20220716172458.png" alt="Snipaste_2022-07-16_17-24-58"></p>
<p>简单说完 OBS 的更新，再来给各位分享 2 个好用的 OBS 使用技巧：  </p>
<ul>
<li>为摄像头添加圆形遮罩   </li>
<li>给摄像头捕获的人脸添加 LUT 滤镜</li>
</ul>
<h2 id="为摄像头添加圆形遮罩"><a href="#为摄像头添加圆形遮罩" class="headerlink" title="为摄像头添加圆形遮罩"></a>为摄像头添加圆形遮罩</h2><p>在 OBS 「来源」中添加的「视频采集设备」，即电脑自带或外接的摄像头，捕获的图像尺寸一般为矩形，如下图所示。     </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639488953200.jpg"></p>
<p>但如果你觉得矩形画面显示的无关信息太多，想让摄像头捕获的画面更聚焦，譬如显示为下面的<strong>圆形头像</strong>，那该怎么办呢？    </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639818083942.jpg"></p>
<p>不像之前介绍过的录屏软件「芦笋」，OBS 本身没有提供一键切换 矩形&#x2F;圆形 画面的选项，但我们还是可以通过 OBS 内置的功能实现。   </p>
<p>首先我们要先准备一张图片，这图片也非常简单，可以在 PS 中制作。 </p>
<p>创建一个 1920*1080 的画布，隐藏画布默认的白色背景，然后使用 PS 的形状工具绘制一个大大的圆形，无描边、填充色为黑色，并且将圆形水平、垂直居中对齐，最后将图片保存为 <strong>PNG</strong> 格式的图片。    </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639822948731.jpg"></p>
<p>制作好需要的图片后，回到 OBS 中，点击「来源」左下角的加号 + ，选择「视频采集设备」，在弹出的窗口选择电脑的摄像头。    </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639825652898.jpg"></p>
<p>右击「来源」中刚添加的视频采集设备图层，选择「滤镜」。     </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639827155241.jpg"></p>
<p>来到滤镜面板，点击左下角的加号 + ，选择「图像掩码&#x2F;混合」。    </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639828298768.jpg"></p>
<p>添加图像掩码&#x2F;混合滤镜后，来看滤镜右侧的选项，这里要配置 2 个选项：   </p>
<ul>
<li>类型：更改为 Alpha 蒙版（Alpha 通道）   </li>
<li>路径：打开我们刚在 PS 中导出的 PNG 圆形图片</li>
</ul>
<p>这样配置之后，就能在上方的窗口实时看到，原本矩形的画面变成了圆形。        </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639830955803.jpg"></p>
<p>关闭滤镜设置面板，回到最外面，在选中视频采集设备图层的情况下，拖拽移动图层任意一个顶点(锚点)，可以自由缩放圆形头像的大小。</p>
<p><img src="https://img.penghh.fun/2022/09/24/16639834284424.jpg"></p>
<h2 id="给摄像头捕获的人脸添加-LUT-滤镜"><a href="#给摄像头捕获的人脸添加-LUT-滤镜" class="headerlink" title="给摄像头捕获的人脸添加 LUT 滤镜"></a>给摄像头捕获的人脸添加 LUT 滤镜</h2><p>说完添加圆形头像的小技巧，再来分享另外一个让自己出镜直播或录屏时<strong>显得更好看</strong>的小技巧：   </p>
<p>先上对比图，上面的圆形人像是用了滤镜后的效果，下面的是电脑摄像头默认捕获的画面，看起来差别还是非常大吧。  </p>
<p>即便是大白天，在光线不足的情况下，电脑摄像头捕获的画面还是不忍直视。。。   </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639837826827.jpg"></p>
<p>要想改善摄像头的画面效果，还是要打开视频采集设备图层的滤镜面板，点击左下角的加号 + ，添加「<strong>应用 LUT</strong>」。      </p>
<p>这里的 LUT 是 Look Up Table 的缩写，直译就是「检查表」的意思，我们可以简单粗暴地把它理解为<strong>滤镜</strong>，既可以用在静态图片，也可以用在动态的视频上，尤其在<strong>视频剪辑</strong>中会经常用到。        </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639840558552.jpg"></p>
<p>在 OBS 中应用 LUT 也非常简单，只需要先从网上下载一些 LUT 文件，格式为 <code>.cube</code>，接着点击下方路径选项右侧的「浏览」，在 OBS 载入 LUT 文件即可。   </p>
<p>下方的「数值」选项，可以调整 LUT 的强度，默认为 1，如果觉得 LUT 的效果太「过」、以至于显得不真实，可以适当降低数值的大小，且当数值为 0，就相当于没有添加 LUT。    </p>
<p><img src="https://img.penghh.fun/2022/09/24/16639843534329.jpg"></p>
<p>这里就不分享上面截图中用到的 LUT 文件了，有需要的朋友可以自行上网搜索。   </p>
<p>我发布过的 OBS 相关的内容汇总：   </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649920330&idx=1&sn=93cc2f2d4c5245865660964b1f23d942&chksm=83a89767b4df1e7175c51e59373bd3437bc8acc4b4184b81d722d50653be651a40daee01fd82&token=1104299376&lang=zh_CN#rd">吃灰已久的相机，怎么用于视频号直播？</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649918046&idx=1&sn=5fc889d26f542905b91ddd1c782c576f&chksm=83a88e73b4df076511a197ce56f366cbac987883e28b08861619e14e8b5a65b40bf098848b87&token=1104299376&lang=zh_CN#rd">边录屏边看音乐歌词，录屏软件 OBS 的这个用法真的绝了</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649915554&idx=1&sn=864b3751281293c2b5d4cd1fa59ef755&chksm=83a8848fb4df0d99372d123ca33cdaca5ee95504acea3f2eff1d627e4135c16d1b75d3f946d5&token=1104299376&lang=zh_CN#rd">比收费软件还良心的免费软件，长啥样？| 录屏软件 OBS</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649913716&idx=1&sn=2074dd198a54a9bcbd4c2a844ea449a3&chksm=83a87d59b4dff44f6ba61b13087a66ff63833e78a03178d3c85acb0144368f35c5aeb2e99a47&token=1104299376&lang=zh_CN#rd">如何在 B 站搞一场直播？选这款开源免费软件就对了。</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649919681&idx=1&sn=7dda7f6817c4c77cc7471272e95f694a&chksm=83a894ecb4df1dfa7887352136043e3ff3e134ca249166ef64e05c574e96df57abdcd5d630c7&token=1104299376&lang=zh_CN#rd">视频：微信视频号竖屏直播保姆级教程【OBS推流】</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649888469&idx=1&sn=db7f20766ca05092900269e81b658d2b&chksm=83a812f8b4df9beed0326b1f1dccb570f55979fce6f51107c62fa6a89a6976ffcd8138afaa64&token=1104299376&lang=zh_CN#rd">视频：电脑录屏还能真人出镜，这个开源免费的软件值得推荐 | OBS</a>    </p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">             </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/09/10/2022-9-10-notion_music/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/09/10/2022-9-10-notion_music/" itemprop="url">在笔记软件Notion中嵌入Spotify音乐歌单</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-09-10T11:15:00+08:00">
                2022-09-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/l7FGDl_cBnGvg4hd47iIfw">效率工具指南</a>」<br>文&#x2F;彭宏豪      </p>
<p>Hello 各位好，我是小豪。     </p>
<p>今天双节狂喜（中秋节 + 教师节），先祝各位节日快乐。   </p>
<p>今天这篇文章，分享一点比较轻松的东西：如何在笔记软件 Notion 中嵌入音乐歌单？  </p>
<p>下图右侧是我在 Notion 中嵌入的一个 Spotify 歌单，里面包含 100 首音乐，随机点击一首音乐，就可以直接在 Notion 中播放。   </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627816341703.jpg"></p>
<p>不过可能是 Spotify 接口的限制，在 Notion 中播放 Spotify 歌单的音乐，每首歌只有 30 秒，当然不是从头开始播放，而应该是播放副歌的部分。  </p>
<p>每首歌只有 30 秒，好像是用抖音的方式来听音乐啊。。。  </p>
<p>说回正事哈，如果你也想在 Notion 中嵌入自己喜欢的歌单，那就接着往下看吧：   </p>
<p>首先需要说明的是，<strong>Notion 目前只能嵌入来自 Spotify 或者 Apple Music 的歌单</strong>，而国内的音乐应用太封闭了。。。例如网易云音乐，嵌入后只会显示为普通的链接，想要查看歌单内的音乐，还要跳回网易云自家的网页。     </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627827991084.jpg"></p>
<p>更离谱的是，网易云音乐网页版虽然提供了「生成外链播放器」的按钮，但点击之后会提示：  </p>
<blockquote>
<p>由于版权保护，无法生成外链。  </p>
</blockquote>
<p>这个按钮搁这里当装饰呢？你还不如直接去掉，至少不会被我吐槽。      </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627829995168.jpg"></p>
<p>在 Notion 中嵌入音乐歌单，其实用到了 Notion 的 embed 功能，在 Embed link 粘贴音乐 App 提供的前端代码即可。   </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627833190202.jpg"></p>
<p>以 Spotify 为例，打开任意一个歌单，点击歌单内的「…」，在展开的菜单，选择「分享 &gt;&gt; 嵌入播放清单」。     </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627834939335.jpg"></p>
<p>在弹出的面板，勾选右下角的「显示代码」，下方就会显示歌单的前端代码，点击「复制」，切换回 Notion，将代码粘贴到 Embed link 的输入框中，就能在 Notion 中嵌入音乐歌单啦，整个操作过程就是这么简单。      </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627835910245.jpg"></p>
<p>不过，在 Notion 中嵌入的 Spotify 歌单还有一个小毛病，当你开始播放音乐，它时不时就会弹出下图的提示，让你去到 Spotify 官网收听完整的音乐。     </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627837341240.jpg"></p>
<p>这里只介绍了在 Notion 中添加 Spotify 歌单的方法，对于 Apple Music，也是类似的操作，由于我没开通 Apple Music 的会员，这里就不演示了。   </p>
<p>前面说到无法在 Notion 中嵌入国内音乐 App 的歌单，但如果你想折腾，还是有办法的：  </p>
<p>可以将 QQ 音乐&#x2F;网易云音乐的歌单迁移到 Spotify 或者 Apple Music。  </p>
<p>具体的迁移方法，可以查看我发布过的一篇旧文章：  </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/NPV_XnulogNTUpNkopnWqw">放弃使用网易云音乐，如何导出歌单数据？</a>     </p>
<p>这里再对文章做一下修改，或者说是补充一个新方法：  </p>
<p>旧文章中提到的「歌单助手」，在使用前需要先进行安装，如果你嫌麻烦，或是不想在电脑上多安装一个软件，可以使用在线的导出工具 n2s。   </p>
<p>n2s 网址：<br><a target="_blank" rel="noopener" href="https://yyrcd.com/n2s/">https://yyrcd.com/n2s/</a>      </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627846803254.jpg"></p>
<p>将 QQ 音乐&#x2F;网易云音乐歌单的 id 粘贴到 n2s，也能返回歌单中的歌词名和歌手名。   </p>
<p>之后使用另外一个在线工具 TunemyMusic，就能将导出的歌单导入 Spotify 或者 Apple Music 了。  </p>
<p>当然，由于不同音乐 App 的曲库存在着差异，从 QQ 音乐&#x2F;网易云音乐歌单导入 Spotify&#x2F;Apple Music，也会遇到歌曲丢失或者匹配错误的情况，这也是程序自动化操作无法避免的。      </p>
<p><img src="https://img.penghh.fun/2022/09/10/16627848628403.jpg"></p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">           </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/09/09/2022-9-9-spotify/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/09/09/2022-9-9-spotify/" itemprop="url">Spotify美化！我的Spotify竟然和Apple Music长得那么像？</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-09-09T01:03:00+08:00">
                2022-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <div align="middle"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=386844&auto=1&height=66"></iframe></div>            


<p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/eh9HRbz7mh8iaPB4n3_tdw">效率工具指南</a>」<br>文&#x2F;彭宏豪        </p>
<p>Hello 各位晚上好，我是小豪。   </p>
<p>今天来写点比较轻松的东西，接着上回发布的一篇文章《<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649920587&idx=1&sn=586266c1aad64d898dc11b0095ace697&chksm=83a89066b4df19701a16aa282991a1bad6022c409f12c6f472ec8f6d905cf61870e442b1a556&token=707859341&lang=zh_CN#rd">音乐播放器Spotify太丑？给它换个皮肤，立马大变样</a>》，继续来说一下音乐应用 Spotify 美化的事情。   </p>
<p>上一篇文章，已经把 Spotify 绿色的主色调更改为下图的样式，且歌词增加了滚动效果——会随着音乐的播放，自动高亮显示对应的歌词。    </p>
<p><img src="https://img.penghh.fun/2022/09/09/16612972465257.jpg"></p>
<p>而前两天，多亏一位网友的分享，对 Spotify 的美化又进了一步，目前的效果如下：     </p>
<p>在小窗的情况下全屏显示当前正在播放的歌，左侧显示专辑封面，右侧显示歌词，这种左右布局的方式，相信用过 Apple Music 的朋友并不陌生。  </p>
<p><img src="https://img.penghh.fun/2022/09/09/16626540054980.jpg"></p>
<p>鼠标右击界面，会弹出下图的面板，可启用&#x2F;关闭多个选项：   </p>
<ul>
<li>歌词增强插件   </li>
<li>进度条   </li>
<li>控制按钮    </li>
<li>专辑名称  </li>
<li>艺术家名称  </li>
<li>图标   </li>
<li>垂直模式   </li>
<li>全屏显示（充满整个屏幕）    </li>
<li>歌词切换动画</li>
</ul>
<p><img src="https://img.penghh.fun/2022/09/09/16626550861876.jpg"></p>
<p>下图是切换到「垂直模式」的效果，主要是左侧的布局变了，专辑的封面和歌词名称、进度条从水平布局变成垂直布局，看起来效果也非常棒。   </p>
<p><img src="https://img.penghh.fun/2022/09/09/16626554180711.jpg"></p>
<p>此外，点击界面右下角的按钮，还可以调整歌词的字号大小、歌词滚动的延迟时间，切换显示部分歌词&#x2F;全部歌词(Compact)。     </p>
<p><img src="https://img.penghh.fun/2022/09/09/16626549378725.jpg"></p>
<p>看完了 Spotify 二次美化后的效果，如果你也想让自己的 Spotify 变成这样，可以先跟着<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649920587&idx=1&sn=586266c1aad64d898dc11b0095ace697&chksm=83a89066b4df19701a16aa282991a1bad6022c409f12c6f472ec8f6d905cf61870e442b1a556&token=707859341&lang=zh_CN#rd">前一篇文章的方法</a>，在电脑上安装好 Spicetify 这个美化工具。   </p>
<p>安装好之后，打开终端，依次粘贴下面的 4 条命令，安装全屏播放和歌词增强的插件。   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">spicetify config extensions fullAppDisplay.js     </span><br><span class="line">spicetify apply        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spicetify config custom_apps lyrics-plus   </span><br><span class="line">spicetify apply</span><br></pre></td></tr></table></figure>

<p>搞定之后，重启 Spotify，点击 Spotify 中类似下面的小图标，就能进入全屏播放的界面啦。     </p>
<p><img src="https://img.penghh.fun/2022/09/09/16626559017317.jpg"></p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">           </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/09/04/2022-9-4-vue3learnnote4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/09/04/2022-9-4-vue3learnnote4/" itemprop="url">前端框架 Vue3 学习笔记（四）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-09-04T22:20:00+08:00">
                2022-09-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>注：学习笔记来自 coderwhy 老师的 Vue3 课程。    </p>
<h2 id="VueRouter-路由使用"><a href="#VueRouter-路由使用" class="headerlink" title="VueRouter 路由使用"></a>VueRouter 路由使用</h2><h3 id="认识前端路由"><a href="#认识前端路由" class="headerlink" title="认识前端路由"></a>认识前端路由</h3><p>路由器主要维护的是一个<strong>映射表</strong>：ip 地址和真实电脑的 mac 地址间的映射。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16601512331215.jpg"></p>
<p>后端路由阶段（后端渲染）   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16601515472630.jpg"></p>
<p>前后端分离阶段（前端渲染）</p>
<p><img src="https://img.penghh.fun/2022/09/04/16601523401862.jpg"></p>
<p>SPA开发阶段</p>
<p>SPA：是 Single Page Application 的缩写，单页面应用。  </p>
<p>当我们改变 URL 路径的时候，不要向静态服务器发起请求（页面不要发生刷新），该怎么实现呢？ </p>
<p>有两种方法：  </p>
<ul>
<li>改变 URL 的哈希值  </li>
<li>HTML5 的 History 模式</li>
</ul>
<p>这两种方法本质上是一样的：<strong>根据不同的路径，前端渲染不同的内容</strong>（映射）。            </p>
<h3 id="URL-的哈希值"><a href="#URL-的哈希值" class="headerlink" title="URL 的哈希值"></a>URL 的哈希值</h3><p>路由的原理，其实就是监听 URL 的哈希值，当哈希值变化的时候，改变页面中的组件，实现页面内容的变化。</p>
<p>哈希的优势就是兼容性更好，在老版 IE 中也可以运行，但是缺陷是 URL 有一个井号 #，显得不像一个真实的路径。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16603558153951.jpg"></p>
<p>下图是 URL 哈希值变化的一个 demo，通过监听哈希值的变化，修改 div 容器中的内容。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16603548692169.jpg"></p>
<h3 id="HTML5-的-History"><a href="#HTML5-的-History" class="headerlink" title="HTML5 的 History"></a>HTML5 的 History</h3><p>History 是 HTML5 新增的对象（接口）。这个接口有 6 种模式改变 URL 而不刷新页面：   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16603650369565.jpg"></p>
<p>当路径改变的时候，不会向服务器发起请求，而是由前端决定我们要渲染什么样的内容。  </p>
<p>history 的 pushState 是压栈操作，当我们点击超链接时，打开的内容会堆叠在前一个内容上方，当点击浏览器左上角的「后退」按钮，回退到前一个页面，当前的内容就会弹出栈。  </p>
<p><img src="https://img.penghh.fun/2022/09/04/16603651142023.jpg"></p>
<h3 id="认识-Vue-路由"><a href="#认识-Vue-路由" class="headerlink" title="认识 Vue 路由"></a>认识 Vue 路由</h3><p>Vue Router 是路径和组件之间的映射关系。  </p>
<p>在 Vue Router 的单页面应用中，页面的路径的改变就是组件的切换。  </p>
<p>使用 Vue Router 之前，需要先安装路由：   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@4  </span><br></pre></td></tr></table></figure>

<h3 id="路由的基本使用流程"><a href="#路由的基本使用流程" class="headerlink" title="路由的基本使用流程"></a>路由的基本使用流程</h3><p>创建一个 router 文件夹，存放路由的配置文件 <code>index.js</code>：   </p>
<p>声明一个数组 routes，每一个元素是一个对象，用于<strong>配置路径和组件之间的映射关系</strong>。     </p>
<p>接着使用 createRouter() 创建一个路由对象 router，将数组传入函数，同时 history 字段指定我们要用哪种模式的路由——hash 还是 history。  </p>
<p>最后导出路由对象。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16604397790321.jpg"></p>
<p>在项目的入口文件 <code>main.js</code> 中，导入路由对象，调用 app 的 use() 方法安装 router 对象，类似于之前使用插件一样。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16604400548426.jpg"></p>
<p>在 <code>App.vue</code> 使用时，使用 <code>router-view</code> 进行占位。  </p>
<p><code>router-view</code> 和 <code>router-link</code> 是 Vue 内置的组件，无需注册就能直接使用。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16604402847974.jpg"></p>
<h3 id="路由的默认路径"><a href="#路由的默认路径" class="headerlink" title="路由的默认路径"></a>路由的默认路径</h3><p><img src="https://img.penghh.fun/2022/09/04/16604686696052.jpg"></p>
<p>当我们直接打开 <code>localhost:8081</code> 时，控制台会有一个警告，提示路径 <code>/</code> 无法匹配。     </p>
<p>对于这个问题，我们需要在路由配置中，给路径 <code>/</code> 配置一个重定向，重定向到路径 <code>/home</code> 所在的主页。     </p>
<p><img src="https://img.penghh.fun/2022/09/04/16604407290804.jpg"></p>
<p>在数组 routes 给路径 <code>/</code> 添加重定向之后，当我们在浏览器打开 <code>localhost:8081</code>，它就会自动重定向到 Home 组件所在的页面 <code>localhost:8081/#/home</code>。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16604418469923.jpg"></p>
<h3 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h3><p>router-link 是 Vue 内置的组件，经过浏览器渲染最终会变成 a 标签。   </p>
<p>这个组件可以配置多个属性：    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16604907719588.jpg"></p>
<p>active-class 属性的默认值为 router-link-active，如果你觉得这个类名太长，可以给 router-link 添加 active-class 属性，用来自定义激活 a 元素后的类名。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16604910070625.jpg"></p>
<h3 id="路由懒加载"><a href="#路由懒加载" class="headerlink" title="路由懒加载"></a>路由懒加载</h3><p>如果一个页面添加了很多个路由（组件），在构建（打包）的时候，默认会将所有组件都打包到 <code>app.js</code> 中，打包的文件太大，不利于网页的首次加载。   </p>
<p>我们可以参考以前在处理大组件的「异步组件」的操作，对路由进行<strong>分包</strong>的操作，将暂时不需要用到的组件单独打包，在需要用到、或者浏览器闲置的时候，再从网上下载下来。  </p>
<p>那想要实现路由懒加载，该如何修改之前写好的代码呢？   </p>
<p>来到路由文件夹 router 下的 <code>index.js</code> 文件中，注释通过 import…from 导入组件的方式，修改映射关系中的配置：  </p>
<p>将组件更改为通过 import() 函数导入，下面是箭头函数的写法。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16605203942418.jpg"></p>
<p>更改代码之后，重新运行 <code>npm run build</code> 进行打包，dist &gt; js 文件夹就会多出 4 个 js 文件，这 4 个文件就分别对应分包的 Home 和 About 组件。  </p>
<p>如果我们想知道，分包的 js 文件具体对应哪一个组件，我们可以使用 Webpack 的<strong>魔法注释</strong>（magic comments）：    </p>
<p>在 import() 函数传入的参数，最前面加多一个 webpackChunkName 的注释。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16605209249996.jpg"></p>
<h3 id="路由的其他属性"><a href="#路由的其他属性" class="headerlink" title="路由的其他属性"></a>路由的其他属性</h3><p>在路由的 <code>index.js</code> 文件配置映射关系时，我们可以给 routes 数组中的 route 对象添加 2 个其他的属性：   </p>
<ul>
<li>name：给 route 对象起一个名字  </li>
<li>meta：元数据，给 route 对象添加额外的信息</li>
</ul>
<p><img src="https://img.penghh.fun/2022/09/04/16605756221257.jpg"></p>
<h3 id="动态路由基本匹配"><a href="#动态路由基本匹配" class="headerlink" title="动态路由基本匹配"></a>动态路由基本匹配</h3><p>路由的路径不是写死的，给路径一个<strong>占位的默认值</strong>，就像下图的 <code>/:username</code> 就是占位的默认值，在使用时通过 router-link 的 to 属性传入一个具体的值。  </p>
<p>之后在对应的组件里面，通过 $route 获取到。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16605789454841.jpg"></p>
<p>给占位的默认值传入一个具体的值 phh。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16605791970654.jpg"></p>
<h3 id="获取动态路由的值"><a href="#获取动态路由的值" class="headerlink" title="获取动态路由的值"></a>获取动态路由的值</h3><p>如果我们想拿到路径中包含的具体值，可以通过 $route 对象。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16605802341899.jpg"></p>
<p><img src="https://img.penghh.fun/2022/09/04/16605793853940.jpg"></p>
<p>如果想在 setup() 中拿到具体的值，需要用到 Vue-router 提供的一个 hook——useRoute。   </p>
<p> <img src="https://img.penghh.fun/2022/09/04/16605800588180.jpg"></p>
<h3 id="动态路由匹配多个参数"><a href="#动态路由匹配多个参数" class="headerlink" title="动态路由匹配多个参数"></a>动态路由匹配多个参数</h3><p><img src="https://img.penghh.fun/2022/09/04/16605803017751.jpg"></p>
<h3 id="Not-Found"><a href="#Not-Found" class="headerlink" title="Not Found"></a>Not Found</h3><p>当用户输入的路径与我们在 router 文件夹下的 <code>index.js</code> 文件中的配置不一致时，为了给用户提供更好的体验，我们最好再添加一个 Not Found 的组件，当输入的路径与配置的路径不一致时，就显示 Not Found 组件。   </p>
<p>在配置 path 字段时，用到路径匹配 <code>pathMatch(.*)</code>，写法是固定的。      </p>
<p><img src="https://img.penghh.fun/2022/09/04/16606620193775.jpg"></p>
<p>匹配规则末尾加星号 * ，会将路径解析为元素为字符串的数组。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16606658842976.jpg"></p>
<h3 id="路由的嵌套"><a href="#路由的嵌套" class="headerlink" title="路由的嵌套"></a>路由的嵌套</h3><p><img src="https://img.penghh.fun/2022/09/04/16606963778526.jpg"></p>
<p>Home 组件中嵌套另外两个子组件 HomeMessage 和 HomeGood 组件。  </p>
<p>在配置 routes 映射关系时，需要在 home 路由下增加一个 <strong>children 字段</strong>，children 字段是一个数组，数组中的每一个元素是一个对象。   </p>
<p>需要注意的是，在 children 中配置路径时，前面不需要加多一个斜杠 &#x2F; ，只需要写路径的名称就好，像下图右侧的 message 和 good。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16606665391551.jpg"></p>
<h2 id="编程式导航"><a href="#编程式导航" class="headerlink" title="编程式导航"></a>编程式导航</h2><p>如果我们不使用 Vue 路由封装好的 router-link 组件，还可以实现在不同页面间的跳转吗？  </p>
<p>——可以的，这时就需要用到<strong>编程式导航</strong>。  </p>
<p>下面的例子，给 button 绑定一个点击事件 jumpToAbout，即点击按钮之后，会跳转到「关于」页面。   </p>
<p>在 script 标签中添加 methods 字段，书写一个函数 jumpToAbout() ，实现点击跳转。     </p>
<p><img src="https://img.penghh.fun/2022/09/04/16607493842567.jpg"></p>
<p>如果我们在 Composition API 中书写绑定的点击事件，因为 setup() 没有绑定 this，因此我们要先从 Vue 路由中导入 useRouter。  </p>
<p>声明得到一个 router 对象后，再在点击事件中调用 router 对象的 push 方法。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16607584275659.jpg"></p>
<p>在不同的 router-link 进行页面的跳转，其实执行的是 pushState 的操作，即压栈，新页面会「压」在旧页面上方。   </p>
<h3 id="router-link-的-v-slot"><a href="#router-link-的-v-slot" class="headerlink" title="router-link 的 v-slot"></a>router-link 的 v-slot</h3><p>之前我们使用 Vue 路由内置的 router-link 组件时，默认都是在组件中添加文本，但其实 router-link 组件支持使用插槽。   </p>
<p>作用域插槽 v-slot，可以将 router-link 组件的数据传入组件内部的插槽中。   </p>
<p>v-slot 传入的 props 对象，包含了多个属性：  </p>
<ul>
<li>href：跳转的链接       </li>
<li>route 对象   </li>
<li>navigate：导航函数，可作为 click 绑定的点击事件      </li>
<li>isActive：是否当前处于活跃的状态       </li>
<li>isExactActive：是否当前处于精确的活跃状态</li>
</ul>
<p><img src="https://img.penghh.fun/2022/09/04/16609247264264.jpg"></p>
<p>router-link 可以按照插槽的方式，来自定义组件内部显示的是一个元素，还是一个组件，或者是显示来自 v-slot 传入的 props 对象的诸多元素。   </p>
<p>从 Vue-router 4 开始，它对 router-link 做了这么一个扩展，有了 v-slot 这个扩展，也让它变得更加灵活。       </p>
<h3 id="router-view-的-v-slot"><a href="#router-view-的-v-slot" class="headerlink" title="router-view 的 v-slot"></a>router-view 的 v-slot</h3><p><img src="https://img.penghh.fun/2022/09/04/16609680497636.jpg"></p>
<p>router-view 组件是一个占位符，会显示我们传入的各种组件。  </p>
<p>如果想实现，当我们点击按钮切换到不同的组件时，router-view 显示的组件会带有过渡动画，该怎么做呢？    </p>
<p>——这里还是要用到作用域插槽。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16609648260908.jpg"></p>
<p>router-view 默认情况下时拿不到占位符中显示的组件，为了给其中显示的组件添加动画，就需要用到作用域插槽。   </p>
<p>在 router-view 中添加 v-slot 属性，传入 props 对象，使用 <code>props.Component</code> 就能拿到占位符中显示的组件。       </p>
<p>在其中使用动态组件 component，组件的 is 属性绑定 <code>props.Component</code>，最后再将动态组件放入 transition 组件，添加 CSS 样式，这样当我们点击按钮切换组件时，就会带有过渡动画。     </p>
<p><img src="https://img.penghh.fun/2022/09/04/16609654425721.jpg"></p>
<p>代码的另外一种写法，在传入 v-slot 直接对 props 进行解构，解构拿到 Component 属性。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16609719246789.jpg"></p>
<h3 id="动态添加路由"><a href="#动态添加路由" class="headerlink" title="动态添加路由"></a>动态添加路由</h3><p>在之前的练习代码中，我们都是在 <code>index.js</code> 中提前配置好了所有的路由，即最开始注册的路由都是写死的。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const routes = [&#123;&#125;,&#123;&#125;,&#123;path:&quot;/order&quot;&#125;]</span><br><span class="line">const router = createRouter(&#123;routes&#125;)</span><br><span class="line">app.use(router);   </span><br></pre></td></tr></table></figure>

<p>但在一些后台管理系统的开发中，因为<strong>人员权限</strong>的不同，不同人可访问的路由应该是不同的，而不是每个人都可以访问相同的路由，为了实现这一点，就需要用到动态添加路由：  </p>
<p>根据人员权限的不同，服务器返回不同的路由，每个人在后台管理系统左侧导航栏看到的选项也就是不同的。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16609725986052.jpg"></p>
<p>动态添加路由：一开始注册路由时，routes 数组为空数组，之后在<strong>路由导航守卫</strong>中进行判断，根据菜单或人员的角色，注册对应的路由。   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const routes = []</span><br><span class="line">const router = createRouter(&#123;routes&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if(角色为管理员) &#123;</span><br><span class="line">    router.addRoute(&#123;path: &quot;/order&quot;, component: () =&gt; import()&#125;)    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(角色为运营) &#123;</span><br><span class="line">    router.addRoute(&#123;&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.use(router);   </span><br></pre></td></tr></table></figure>


<p>动态添加路由</p>
<p><img src="https://img.penghh.fun/2022/09/04/16609796122148.jpg"></p>
<p>将原本放在 routes 数组中的对象单独拿出来，调用 router 对象的 addRoute 方法传入。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16609796833987.jpg"></p>
<h3 id="动态删除路由"><a href="#动态删除路由" class="headerlink" title="动态删除路由"></a>动态删除路由</h3><p>动态删除路由有 3 种方式：  </p>
<ul>
<li>添加一个 name 相同的路由（更确切地说是替换，而不是删除）    </li>
<li>通过 removeRoute 方法，传入路由的名称 name  </li>
<li>通过调用 addRoute 返回的函数</li>
</ul>
<p><img src="https://img.penghh.fun/2022/09/04/16609799046523.jpg"></p>
<h3 id="路由导航守卫"><a href="#路由导航守卫" class="headerlink" title="路由导航守卫"></a>路由导航守卫</h3><p>路由导航守卫：在页面跳转时，增加一些判断条件，例如检查当前用户是否登录，如果是未登录的状态，可以让用户先跳转到登录页，登录完再跳到目标页面。 </p>
<p><img src="https://img.penghh.fun/2022/09/04/16610113922402.jpg"></p>
<p>在 router 文件夹下的 <code>index.js</code>，使用 router 对象的 beforeEach 方法（前置守卫），传入一个函数，这个函数需要传入两个参数 to 和 from，还有一个可选参数 next。    </p>
<p>这里的 to 和 from 都是 route 对象。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16610128455045.jpg"></p>
<h3 id="完整的路由导航守卫解析流程"><a href="#完整的路由导航守卫解析流程" class="headerlink" title="完整的路由导航守卫解析流程"></a>完整的路由导航守卫解析流程</h3><p><img src="https://img.penghh.fun/2022/09/04/16610138516063.jpg"></p>
<h2 id="Vuex-的状态管理"><a href="#Vuex-的状态管理" class="headerlink" title="Vuex 的状态管理"></a>Vuex 的状态管理</h2><h3 id="什么是状态管理"><a href="#什么是状态管理" class="headerlink" title="什么是状态管理"></a>什么是状态管理</h3><p>单向数据流</p>
<p><img src="https://img.penghh.fun/2022/09/04/16612129200632.jpg"></p>
<p>复杂的状态管理：  </p>
<ul>
<li>父组件从子组件拿数据，会破坏原本的单向数据流  </li>
<li>通过组件数据的传递，当其中一个组件的层级太深时，传递数据也不方便。</li>
</ul>
<p><img src="https://img.penghh.fun/2022/09/04/16612148596369.jpg"></p>
<p>Vuex 的状态管理：   </p>
<p>借鉴了 React 的 Redux。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16612153415029.jpg"></p>
<p>Vuex 状态管理的流程：   </p>
<p>Mutations 不能异步操作，为了解决这个问题，Vuex 多增加了一个层——Actions。       </p>
<p><img src="https://img.penghh.fun/2022/09/04/16612158023013.jpg"></p>
<h3 id="Vuex-的安装"><a href="#Vuex-的安装" class="headerlink" title="Vuex 的安装"></a>Vuex 的安装</h3><p>在终端输入下面的命令，即可安装 Vuex：   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex@next </span><br></pre></td></tr></table></figure>

<p>这个命令安装的 Vuex 版本为 <code>4.0.2</code>。   </p>
<h2 id="Vuex-的使用"><a href="#Vuex-的使用" class="headerlink" title="Vuex 的使用"></a>Vuex 的使用</h2><p>课前唠嗑：   </p>
<p>老师推荐的前端学习路线   </p>
<p>js ➡️ Vue ➡️ 小程序(原生开发&#x2F;uniapp&#x2F;Taro) ➡️ node ➡️ React ➡️ Webpack ➡️ 数据结构和算法 ➡️ leetcode     </p>
<h3 id="创建-Store"><a href="#创建-Store" class="headerlink" title="创建 Store"></a>创建 Store</h3><p>在项目 src 路径下创建一个名为 store 的文件夹，在 store 中创建一个 <code>index.js</code> 文件。  </p>
<p>从 vuex 导入 creatStore，创建 store 对象。</p>
<p>state 即状态，用来存放共享的数据，它的写法类似于 Options API 的 data 的写法。   </p>
<p>mutations 则是写以前写在 methods 中的方法。 </p>
<p>最后还要导出 store 对象。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16615287834352.jpg"></p>
<p>在入口文件 <code>main.js</code> 导入 store 对象，接着要和<strong>使用插件</strong>类似的方法，将 store 对象传入 use() 中。     </p>
<p><img src="https://img.penghh.fun/2022/09/04/16615615032381.jpg"></p>
<p>前面两步就完成了 vuex 的配置，来到 <code>App.vue</code> 文件。    </p>
<p>template 模板使用 store（仓库）中的数据（即 state 数据），需要用 <code>$store.state.counter</code> 的写法。    </p>
<p>而按钮绑定的事件，想触发 mutations 中定义的方法，需要使用 commit() 进行提交。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16615618870315.jpg"></p>
<p><img src="https://img.penghh.fun/2022/09/04/16614735708550.jpg"></p>
<h3 id="单一状态树"><a href="#单一状态树" class="headerlink" title="单一状态树"></a>单一状态树</h3><p>Vuex 使用单一状态树，用一个 store 对象就包含了全部的应用层级的状态。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16615264660726.jpg"></p>
<h3 id="Vue-Devtool"><a href="#Vue-Devtool" class="headerlink" title="Vue Devtool"></a>Vue Devtool</h3><p>Vue 官方提供的一个调试工具，本质上是一个 Chrome 插件。   </p>
<p>插件安装链接：<br><a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd/related?utm_source=chrome-ntp-icon">https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd/related?utm_source=chrome-ntp-icon</a></p>
<h3 id="state-展示的辅助函数"><a href="#state-展示的辅助函数" class="headerlink" title="state 展示的辅助函数"></a>state 展示的辅助函数</h3><p>template 模板使用 mustache 语法 <code>$store.state.counter</code>来调用 state 中的数据，看起来比较冗长，我们可以使用 computed 作为替代。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16615665004044.jpg"></p>
<p>但 computed 也存在一个问题，每个数据都要单独进行定义，如上图定义的 sCounter、sName、sAge，也是有些冗余。   </p>
<p>为了让代码变得更简洁，可以使用 vuex 提供的<strong>辅助函数 mapState</strong>，它是对 state 数据的映射。   </p>
<p>先从 vuex 导入辅助函数 mapState。   </p>
<p>mapState() 返回的是一个对象，因此当 computed 中有其他计算属性的情况，要在 mapState() 前面加多一个<strong>展开运算符</strong> <code>...</code>。      </p>
<p>mapState() 可传入两种类型的数据：       </p>
<ul>
<li>数组  </li>
<li>对象</li>
</ul>
<p>如果传入的是对象，我们可以对从 state 传入的数据进行重命名，例如下图的 counter 命名为 sCounter。      </p>
<p><img src="https://img.penghh.fun/2022/09/04/16615694915244.jpg"></p>
<h3 id="在-Composition-API-中使用-mapState"><a href="#在-Composition-API-中使用-mapState" class="headerlink" title="在 Composition API 中使用 mapState"></a>在 Composition API 中使用 mapState</h3><p>前面是在 Options API 中的计算属性使用 mapState，如果换到 Compostion API，该如何使用 mapState 呢？     </p>
<p>老师在课上封装了一个名为 useState 的 hooks，将数组或对象传入 useState 中，也能实现同样的效果。   </p>
<p>hooks 本质上是一个函数，只是因为它在 setup 中使用，因此我们把它称之为 hook。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16615848295472.jpg"></p>
<h2 id="Vuex-的-5-大核心"><a href="#Vuex-的-5-大核心" class="headerlink" title="Vuex 的 5 大核心"></a>Vuex 的 5 大核心</h2><p>Vuex 有 5 大核心：   </p>
<ul>
<li>state(状态)     </li>
<li>getters  </li>
<li>mutations(同步)  </li>
<li>actions(异步操作)    </li>
<li>modules(对 store 里面的状态划分模块)</li>
</ul>
<h3 id="getters-的基本使用"><a href="#getters-的基本使用" class="headerlink" title="getters 的基本使用"></a>getters 的基本使用</h3><p>和 state 一样，getters 也有辅助函数 mapGetters。   </p>
<p>和 mapState 一样，mapGetters 既可以传入数组，也可以传入对象。    </p>
<p>不过传入对象时，它的写法与 mapState 存在着区别：   </p>
<p>mapState 需要回调 state，而 mapGetters 只需要使用 getters 中定义的函数名即可。   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...mapState(&#123;</span><br><span class="line">    sCounter: state =&gt; state.counter,</span><br><span class="line">    sName: state =&gt; state.name</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...mapGetters(&#123;</span><br><span class="line">    sNameInfo: &quot;nameInfo&quot;,</span><br><span class="line">    sAgeInfo: &quot;ageInfo&quot;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<p><img src="https://img.penghh.fun/2022/09/04/16616622282974.jpg"></p>
<h3 id="在-Composition-API-中使用-mapGetters"><a href="#在-Composition-API-中使用-mapGetters" class="headerlink" title="在 Composition API 中使用 mapGetters"></a>在 Composition API 中使用 mapGetters</h3><p>和 mapState 一样，封装一个 hooks <code>useGetters</code>。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16616654755554.jpg"></p>
<h3 id="Mutation-基本使用"><a href="#Mutation-基本使用" class="headerlink" title="Mutation 基本使用"></a>Mutation 基本使用</h3><p>更改 Vuex 的 store 中的状态的唯一方法是提交 mutation。     </p>
<p><img src="https://img.penghh.fun/2022/09/04/16616656752442.jpg"></p>
<p>commit() 提交可以传入两个参数，第一个是类型，即 mutation 中定义的函数名，第二个参数可以是一个数字，也可以是一个对象 payload。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16616683896212.jpg"></p>
<p>commit() 还提供了另外一种书写代码的方式，可在 commit 中直接传入一个对象，在对象的 type 字段写明调用的是 mutations 中的哪个函数。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16616688581061.jpg"></p>
<h3 id="Mutation-的辅助函数-mapMutation"><a href="#Mutation-的辅助函数-mapMutation" class="headerlink" title="Mutation 的辅助函数 mapMutation"></a>Mutation 的辅助函数 mapMutation</h3><p>使用辅助函数 mapMutations，可以将我们我们在 store 的 <code>index.js</code> 文件 mutations 定义的方法，映射到 <code>Home.vue</code> 的 methods 字段中。  </p>
<p><img src="https://img.penghh.fun/2022/09/04/16617871859210.jpg"></p>
<h3 id="在-Composition-API-中使用-mapMutations"><a href="#在-Composition-API-中使用-mapMutations" class="headerlink" title="在 Composition API 中使用 mapMutations"></a>在 Composition API 中使用 mapMutations</h3><p>在 setup() 中使用 mapMutations 比较简单，不需要对 mapMutations 返回的函数进行转化。  </p>
<p><img src="https://img.penghh.fun/2022/09/04/16617876584967.jpg"></p>
<h3 id="Actions-的基本使用"><a href="#Actions-的基本使用" class="headerlink" title="Actions 的基本使用"></a>Actions 的基本使用</h3><p>Actions 类似于 mutation，不同在于：   </p>
<ul>
<li>Actions 提交的是 mutation，而不是直接变更状态（state）   </li>
<li>Actions 可以包含任意异步操作</li>
</ul>
<p><img src="https://img.penghh.fun/2022/09/04/16618183378069.jpg"></p>
<p>在 store 文件夹的 <code>index.js</code> 的 store 对象中添加 actions 字段：  </p>
<p>actions 中定义的函数，可以传一个参数 context，也可以传两个参数 context 和 payload，第二个参数 payload，用来接收组件传递过来的数据，例如字符串或对象。     </p>
<p>actions 的工作方式是，提交一个 commit，触发 mutations 中定义的方法，最后引起 state 中数据的改变。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16619081623326.jpg"></p>
<p><code>Home.vue</code> 组件中，需要使用 <code>$store</code> 对象的 dispatch 方法<strong>派发事件</strong>。  </p>
<p>dispatch 可以传入一个参数，也可以传入 2 个参数，第二个参数可在派发事件的同时携带其他数据，会传入 actions 的 payload 对象中。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16619096588785.jpg"></p>
<p>这里的 dispatch() 传入的参数为对象类型时，还有另外一种代码书写方式：  </p>
<p><img src="https://img.penghh.fun/2022/09/04/16619109318581.jpg"></p>
<h3 id="Actions-的辅助函数"><a href="#Actions-的辅助函数" class="headerlink" title="Actions 的辅助函数"></a>Actions 的辅助函数</h3><p>Actions 的辅助函数：mapActions</p>
<p><img src="https://img.penghh.fun/2022/09/04/16619919958645.jpg"></p>
<h3 id="Actions-的异步操作"><a href="#Actions-的异步操作" class="headerlink" title="Actions 的异步操作"></a>Actions 的异步操作</h3><p><img src="https://img.penghh.fun/2022/09/04/16619918631337.jpg"></p>
<p>在组件里面，想要知道某一次派发出去的 actions 有没有完成的话，需要让当前的 actions 返回一个 Promise。</p>
<p>在返回 Promise 的情况下，完成的时候会调用 resolve，发生错误的时候会调用 reject。  </p>
<h3 id="Vuex-Module-模块的使用"><a href="#Vuex-Module-模块的使用" class="headerlink" title="Vuex Module 模块的使用"></a>Vuex Module 模块的使用</h3><p>为什么要使用模块 Module？   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16619932121650.jpg"></p>
<p>将原本放在 store 文件夹下 <code>index.js</code> 中的数据拆分为多个模块，在 store 文件夹下创建一个名为 modules 的文件夹，用来存放一个或多个模块。  </p>
<p>每个模块，本质上就是一个对象，包含 state、mutations、actions、modules 字段，定义好之后导出模块。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16621370772809.jpg"></p>
<p>在 <code>index.js</code> 导入拆分的模块，在 store 对象的 modules 字段使用刚导入的模块。   </p>
<p>因为两个模块是使用 export default 导出，因此在导入时可重新命名模块的名称：  </p>
<p>homeModule ➡️ home<br>userModule ➡️ user    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16621373048819.jpg"></p>
<p>最后，在 <code>Home.vue</code> 组件中使用模块，譬如获取模块中定义的数据：   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16621378592556.jpg"></p>
<h3 id="module-的局部状态"><a href="#module-的局部状态" class="headerlink" title="module 的局部状态"></a>module 的局部状态</h3><p>对于模块内部的 mutations 和 getters，接收的第一个参数是模块的局部状态对象。   </p>
<p>命名空间</p>
<p><img src="https://img.penghh.fun/2022/09/04/16621700483330.jpg"></p>
<p>在模块对象的开头加上 <code>namespaced: true</code>，这样就给模块添加了命名空间。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16621701545516.jpg"></p>
<h3 id="细节补充"><a href="#细节补充" class="headerlink" title="细节补充"></a>细节补充</h3><p>前面学习 getters 时，最多只给其中定义的函数传入 2 个参数 state 和 getters，而模块中的 getters 函数最多可以传入 4 个参数，另外的 2 个参数 rootState 和 rootGetters 可分别获取根文件 <code>index.js</code> 中的数据和 getters。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16621682229707.jpg"></p>
<p>模块 actions 中定义的函数，可对传入的 context 对象进行解构，总共包含了 6 个参数——commit、dispatch、state、rootState、getters、rootGetters。      </p>
<p><img src="https://img.penghh.fun/2022/09/04/16621694653956.jpg"></p>
<p>module 修改或派发根组件  </p>
<p>如果我们希望在 module 的 actions 中修改 root 中的 state，可以在 commit() 或 dispatch() 传入 1 个对象参数 <code>&#123;root: true&#125;</code>。     </p>
<p><img src="https://img.penghh.fun/2022/09/04/16621705423962.jpg"></p>
<h3 id="modules-的辅助函数"><a href="#modules-的辅助函数" class="headerlink" title="modules 的辅助函数"></a>modules 的辅助函数</h3><p>和前面一样，template 模板中书写的 mustache 语法变得越来越长，为了简化代码，modules 模块同样可以使用辅助函数。   </p>
<p>modules 辅助函数的代码有 3 种书写方式：  </p>
<p><img src="https://img.penghh.fun/2022/09/04/16622031364643.jpg"></p>
<ul>
<li>方式二：在辅助函数中指明使用的是哪个模块</li>
</ul>
<p><img src="https://img.penghh.fun/2022/09/04/16621757109468.jpg"></p>
<ul>
<li>方式三：从 vuex 中导入函数 createNamespacedHelpers，在函数中传入模块名。</li>
</ul>
<p>createNamespacedHelpers() 传入模块名，得到的是一个对象，里面有多个方法，可以在使用 const 声明变量时直接进行解构。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16621781836976.jpg"></p>
<h3 id="在-Composition-API-中使用-modules"><a href="#在-Composition-API-中使用-modules" class="headerlink" title="在 Composition API 中使用 modules"></a>在 Composition API 中使用 modules</h3><p>和前面一样，从模块获取 state 和 getters 数据时，需要用到我们自己封装的 useState 和 useGetters 函数。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16622515346958.jpg"></p>
<p>前面在封装 useState 和 useGetters 函数时，我们没有考虑到「模块」的情况，因此需要对代码进行补充：   </p>
<p>useState() 多传入一个参数 moduleName，对传入的模块名进行判断——模块名是否为字符串，且不为空。     </p>
<p><img src="https://img.penghh.fun/2022/09/04/16622517348188.jpg"></p>
<h2 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h2><p>nextTick，是 Vue 提供的一个 API。  </p>
<p><img src="https://img.penghh.fun/2022/09/04/16622955227161.jpg"></p>
<p>nextTick 的原理       </p>
<p>Vue 内部会执行很多任务：   </p>
<ul>
<li>watch(,回调函数) ➡️ preQueue(队列)  </li>
<li>组件的更新 update ➡️ jobQueue  </li>
<li>生命周期回调 ➡️ postQueue</li>
</ul>
<p>JS 的事件循环(event loop)会分成两个队列：  </p>
<ul>
<li>微任务队列：Promise.resolve().then(回调函数)       </li>
<li>宏任务队列：按钮点击事件</li>
</ul>
<p>在同时有微任务队列和宏任务队列的情况下，JS 会优先执行微任务队列中的任务(task)。           </p>
<p>Vue 内部对队列进行了巧妙地处理，<strong>将队列中的任务都加入到了微任务队列中</strong>，而 nextTick() 中传入的函数，也会将函数对应的任务放入到微任务队列的末尾。  </p>
<p><img src="https://img.penghh.fun/2022/09/04/16622813900893.jpg"></p>
<h2 id="historyApiFallback"><a href="#historyApiFallback" class="headerlink" title="historyApiFallback"></a>historyApiFallback</h2><p>这是一个和 <strong>Vue 路由&#x2F;Webpack</strong> 相关的知识点。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16623005342221.jpg"></p>
<p>historyApiFallback，是 Webpack 中的一个配置，它位于 <code>node_modules &gt; @vue &gt; cli-service &gt; lib &gt; commands &gt; serve.js</code> 文件<br>中。</p>
<p>这个配置默认为 true，当我们进入一个页面后，重新刷新页面，（配置后）能让页面正常显示，而不会返回 404。   </p>
<p>之所以能实现这个，是因为它将当前的路径重定向到了首页 <code>index.html</code>，保证路径与页面的对应关系是正确的。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16622990138120.jpg"></p>
<p>Vue 的脚手架 Vue-cli 是基于 Webpack 的，如果我们想修改 Webpack 中的配置，有 2 种方式：  </p>
<ul>
<li>修改 cli-service 源码   </li>
<li>在项目根目录下创建一个 <code>vue.config.js</code> 文件，在里面修改 Webpack 的配置</li>
</ul>
<p>在 <code>vue.config.js</code> 文件中将 historyApiFallback 配置为 false，它会覆盖 node_modules 中配置的 true。     </p>
<p><img src="https://img.penghh.fun/2022/09/04/16623004248904.jpg"></p>
<p>historyApiFallback 配置为 false 时，当我们刷新打开的页面，会出现下面的错误。    </p>
<p><img src="https://img.penghh.fun/2022/09/04/16623003436230.jpg"></p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/09/04/2022-9-4-wemedia/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/09/04/2022-9-4-wemedia/" itemprop="url">我的公众号 2 万关注了，感谢有你。</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-09-04T00:28:00+08:00">
                2022-09-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649920660&idx=1&sn=40fa9403cdbb738dffa463dc97d5d2a2&chksm=83a890b9b4df19af0325e3ed445a5ea82dba728b6db308e7fa3072dc8366a7177d22ff831d3a&token=1552293497&lang=zh_CN#rd">效率工具指南</a>」<br>文&#x2F;彭宏豪   </p>
<p>昨天，我的公众号到达 2 万关注了，首先要感谢还关注这个号的朋友，因为有你们的关注和支持，帮助我达成了这个目标。   </p>
<p>前天晚上看后台的关注数快到 2 万之前，我去翻了一下去年的数据，想看看我的号达到 1 万关注的确切时间——2021 年 6 月 17 日。   </p>
<p><img src="https://img.penghh.fun/2022/09/04/16620461317844.jpg"></p>
<p>之所以要关注这个时间点，是因为我想回顾一下，从 0 做到 1 万，和 1 万关注做到 2 万关注，达成相同的关注数绝对值所花费的时间——      </p>
<ul>
<li>0-1 万：2018&#x2F;12&#x2F;31 累计 715 人关注，到 2021&#x2F;6&#x2F;17 有 1 万人关注，花费 899 天，约等于 2.5 年。     </li>
<li>1-2 万：2021&#x2F;6&#x2F;17-2022&#x2F;9&#x2F;2，花费 422 天，约等于 1.2 年。</li>
</ul>
<p><img src="https://img.penghh.fun/2022/09/04/16622159960674.jpg"></p>
<p>将这个数据列出来，是想把我的公众号关注数增长作为一个样本，供你参考，尤其是供那些还在写公众号的朋友参考。       </p>
<p>我心里非常清楚，这个增长速度，对比一篇爆文增长几万关注、或是其他对新人很友好的新媒体平台来说，这个关注数连零头都算不上。    </p>
<p>虽然我还在写着公众号，但还是不得不承认公众号的日渐式微，开始要走下坡路了，表现在：   </p>
<ul>
<li>越来越多的人更喜欢看视频形式的内容        </li>
<li>获取信息的渠道有了更多选择，新闻热点看微博，猎奇闲逛看抖音，有趣精致看 B 站、小红书、即刻等等，而不是非公众号不可</li>
</ul>
<p>还是之前的一句老话，如果你写公众号的目的纯粹是奔着赚钱，而且像我一样没有写出爆文的能力，那么公众号已经不是一个好的选择了：  </p>
<p>无论是公众号关注数的增长，还是文章的数据表现，例如打开率、阅读量等，都比不上其他动辄上万点赞、几十万播放的内容平台。     </p>
<p>试想投入那么多精力或时间，既没有可观的经济收入，也没有账号关注蹭蹭上涨、<strong>关注者积极互动</strong>等精神方面的激励，你说能有多少个人、多少个小号能坚持写下去呢？    </p>
<p>这样一想，写公众号写到半路放弃才是常态，对于断更的人来说，是不是也有了一个好的借口了？             </p>
<p>写到这里，我也在想，让我断断续续坚持写下来的，都有哪些原因呢？</p>
<p>写到现在，好像没有一个特别明确的原因了，大概有过这些原因：    </p>
<ul>
<li>我曾寄希望于，写东西能让我变得更加自由，自由或许可以具像化为：我可以依靠写东西为生，成为一名自由职业者，而不是受雇于某一家公司；写东西可以给我带来不少的收入，可以比较随心地买自己想买的东西，当然不是房车那些东西，而是一台 Mac 电脑            </li>
<li>我平时很少主动找人聊天，其实很多时候也不知道找谁聊天好，不知道找谁聊，那就把想到的东西记在备忘录里，或是发到网上           </li>
<li>好不容易搞定了自己遇到的一个软件问题，想到有些人可能也会遇到同样的问题，心想：把解决问题的过程写出来，没准遇到同样问题的人能搜到我写的文章    </li>
<li>没事干的时候不知道干什么好，刚打完游戏有一点罪恶感或者空虚感，那就写一篇文章来平衡一下？   </li>
<li>写东西或许可以让我在网上认识更多的人，别人愿意和你交往，可能是因为你有趣，或者是你有价值   </li>
<li>最后一点，我希望当我离开这个世界的时候，能在这个世界上留下一点点东西    </li>
<li>……</li>
</ul>
<p>看到这里，如果你也想开始做内容，但纠结于不知道写文章，做视频还是录播客好，不妨可以看看公众号「槽边往事」的和菜头老师写的一篇文章，或许会给你提供一个不同的角度：    </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/_-S9XniDCA4hsVnl0leo1w">当人们冷静下来以后</a>             </p>
<p>那我们下次 5 万关注的时候再见👋    </p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">           </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/09/02/2022-9-2-lusun/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/09/02/2022-9-2-lusun/" itemprop="url">分享视频文件，除了网盘，还能用在线录屏软件芦笋。</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-09-02T08:16:00+08:00">
                2022-09-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/G6c3N1ZrB4uxG5QgUt4yzA">效率工具指南</a>」<br>文&#x2F;彭宏豪    </p>
<p>Hello 各位好，我是小豪。   </p>
<p>说到在朋友或亲人间分享视频，很多人第一时间想到的是微信，然后就是各种网盘工具，例如百度网盘、阿里云盘等。   </p>
<p>虽然用微信来分享视频很方便，但我不太喜欢使用，一方面微信在手机上占用的空间本来就很大了，如果再加上吃内存的视频，那以后会越来越卡，而且通过微信接收的视频，如果不及时保存下来，过几天就会被微信自动清理掉。  </p>
<p>微信的这个「自动清理」功能虽然被很多人吐槽，但从另一方面来看，它好像也是避免微信变得越来越卡的积极因素啊。。。                 </p>
<p>当然，如果是方便公开的视频，其实现在先发布到视频号，再把内容转发给别人，也是一个值得考虑的选择。  </p>
<p>而如果是不方便公开的视频，或是只想小范围分享的话，那么使用网盘进行分享，就是很常见的事情了。  </p>
<p>除了这两个方式，今天再给大家介绍另外一种分享视频文件的方法，会用到我之前介绍过挺多次的在线录屏软件——<strong>芦笋</strong>。    </p>
<p>在电脑浏览器打开芦笋官网 <code>lusun.com</code>，进入个人空间，点击右上角的「上传」，会弹出如下的窗口。</p>
<p>你可以将本地不超过 1G 的 mp4 视频上传到芦笋的云空间中，如果视频的体积超过 1G，要么将一个视频分割为多个视频，要么对视频进行压缩，要么换个工具。  </p>
<p><img src="https://img.penghh.fun/2022/09/02/16620753895206.jpg"></p>
<p>上传之后，开启视频分享，将视频链接或二维码分享给朋友或亲人，对方点开链接或扫码就能直接观看。  </p>
<p>需要说明的是，不要往这上面上传一些不干净或违规的视频，自己的个人空间并不是法外之地。    </p>
<p><img src="https://img.penghh.fun/2022/09/02/16620762955154.jpg"></p>
<p>对个人用户而言，芦笋分为基础版和高级版 2 个版本，基础版最多可上传 10 个视频，而高级版不限制上传的视频数量，只限制总的云存储空间——1 TB。   </p>
<p><img src="https://img.penghh.fun/2022/09/02/16620765062429.jpg"></p>
<p>如果你之前没有使用过「芦笋」这款工具，可以扫描下方的二维码进行注册，新用户将获得 30 天的高级版会员：   </p>
<p><img src="https://img.penghh.fun/2022/09/02/qrcodea--a1-3.jpg" alt="QRcode_A — a1 -3-"></p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">               </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/08/25/2022-8-25-spotify/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/25/2022-8-25-spotify/" itemprop="url">音乐播放器Spotify太丑？给它换个皮肤，马上安排。</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-08-25T00:40:00+08:00">
                2022-08-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/op6RKywZyFeWeGaQusilWA">效率工具指南</a>」<br>文&#x2F;彭宏豪      </p>
<p>Hello 各位好，我是小豪。  </p>
<p>不知道这里用 Spotify 听音乐的朋友多不多，我猜应该很少吧，毕竟第一次用 Spotify 挺费劲，而且要好用（去广告 + 自由播放歌曲），还得充值会员。  </p>
<p>不过 Spotify 会员有个好处，你不需要为了听某张专辑再花钱。。。对比国内的音乐 App，高下立判。 </p>
<p>就像周董前阵子上新的专辑，Spotify 会员可以直接听，不像国内的 QQ 音乐还要买啥 VVVVVip，我可去你的吧。      </p>
<p><img src="https://img.penghh.fun/2022/08/25/16612994880369.jpg"></p>
<p>说回正事，今天这篇文章，想分享一下，如何更换电脑版 Spotify 的主题。  </p>
<p>有用过 Spotify 的朋友应该都知道，Spotify 默认是下图的青黑配色，最初看起来还是挺高端的。     </p>
<p><img src="https://img.penghh.fun/2022/08/25/16612997051318.jpg"></p>
<p>但这个绿色看久了，会觉得有些平淡，想给它换个颜色，譬如换成下面的蓝色：        </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613002393121.jpg"></p>
<p>Spotify 默认没有提供更换主题或配色方案的选项，因此要想自由更换客户端的主题，需要用到一个第三方工具——<strong>Spicetify</strong>。   </p>
<h2 id="安装-Spicetify"><a href="#安装-Spicetify" class="headerlink" title="安装 Spicetify"></a>安装 Spicetify</h2><p>使用 Spicetify 时，可参考 Spicetify 的说明文档，因为这是老外写的项目，所以文档的语言是英文。    </p>
<p>Spicetify 说明文档：<br><a target="_blank" rel="noopener" href="https://spicetify.app/docs/getting-started">https://spicetify.app/docs/getting-started</a>     </p>
<p>看不懂说明文档也没关系，可以看我下面写的操作步骤。       </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613007880913.jpg"></p>
<p>这个工具支持 3 大系统——Windows、macOS 和 Linux，安装时需要打开电脑上的「终端」或「命令行窗口」—— </p>
<ul>
<li>Windows：Powershell   </li>
<li>macOS：终端或者第三方终端「iTerm2」</li>
</ul>
<p>使用 Windows 电脑的朋友，在 Powershell 中依次粘贴下面的 2 行命令，并按下回车：   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iwr -useb https://raw.githubusercontent.com/spicetify/spicetify-cli/master/install.ps1 | iex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">iwr -useb https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/resources/install.ps1 | iex</span><br></pre></td></tr></table></figure>


<p>使用 macOS 或者 Linux 系统的朋友，则依次粘贴下面的 2 行命令：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://raw.githubusercontent.com/spicetify/spicetify-cli/master/install.sh | sh   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">curl -fsSL https://raw.githubusercontent.com/spicetify/spicetify-marketplace/main/resources/install.sh | sh      </span><br></pre></td></tr></table></figure>

<p>在不同系统中粘贴的这 2 行命令，其实是从 GitHub 下载 Spicetify 和相关的文件，但由于某些因素，使用这 2 个命令下载时经常会遇到下载失败的问题。   </p>
<p>解决方法是：使用木弟子🪜，而且在终端中开启全局代理。    </p>
<p>在终端中开启全局代理，可在一开始打开终端的时候，输入<strong>类似下面</strong>的命令：  </p>
<p>之所以说是类似下面的命令，是因为命令中包含的端口「7890」或「789」参数，需要随着你在用的不同代理工具而变化。    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:789</span><br></pre></td></tr></table></figure>

<p>我在用的工具是 ClashX，默认的端口就是 7890。   </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613020483554.jpg"></p>
<p>在终端中开启全局代理后，再粘贴运行前面的 2 条安装命令，当终端提示「Everything is ready, you can start applying now!」，说明我们顺利安装了 Spicetify 以及相关的文件。   </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613024899510.jpg"></p>
<h2 id="下载-Spicetify-主题"><a href="#下载-Spicetify-主题" class="headerlink" title="下载 Spicetify 主题"></a>下载 Spicetify 主题</h2><p>准备更换 Spotify 的工具后，我们还需要下载一些主题，才能自由地更换 Spotify 的外观。   </p>
<p>Spicetify 文档提供了 4 个社区中的开发者创建的主题，这些主题放在了 GitHub 仓库中。</p>
<p>如果你不知道如何从 GitHub 仓库下载这些主题，可以点击下方的公众号卡片「效率工具指南」，在后台回复【<strong>Spotify</strong>】或者【<strong>声田</strong>】，获取所有主题文件。    </p>
<p>Spicetify主题下载链接：<a target="_blank" rel="noopener" href="https://pan.quark.cn/s/ed241181b6bc">https://pan.quark.cn/s/ed241181b6bc</a>   </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">         </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613543015875.jpg"></p>
<p>将主题文件下载到本地后进行解压，将解压得到的多个主题文件放到 <code>.spicetify</code> 下的 Themes 文件夹中，使用 Linux 或 macOS 系统的朋友，可以参考下图的路径。     </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613547804726.jpg"></p>
<p>对于使用 Windows 系统的朋友来说，则要把所有的主题文件放到 Appdata 路径下。   </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613551995230.jpg"></p>
<h2 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h2><p>准备好主题文件，来到更换 Spotify 主题的最后一步：修改 Spicetify 的配置文件 <code>config-xpui.ini</code>。   </p>
<p>对于 macOS 系统，这个配置文件位于 <code>用户/用户名/.config/spicetify</code> 路径下。    </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613559763035.jpg"></p>
<p>编辑配置文件 <code>config-xpui.ini</code> 时，可以使用 VS Code 或任意一款文本编辑器（例如 Windows 上的记事本）打开这个文件。   </p>
<p>修改配置文件，其实主要修改两个地方：  </p>
<ul>
<li>current_theme：主题的名称   </li>
<li>color_scheme：配色方案</li>
</ul>
<p><img src="https://img.penghh.fun/2022/08/25/16613568456100.jpg"></p>
<p>主题的名称，来自前面下载解压得到的主题文件，下图中的每个文件夹就对应一个主题，文件夹的名称就是主题的名称。    </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613547804726.jpg"></p>
<p>打开任意一个主题的文件夹，其中的 <strong>screenshots</strong> 文件夹中提供了主题的效果图，在更换 Spotify 主题之前，可以先进到这个文件中查看主题的效果图，再从中选择自己喜欢的 Spotify 主题。      </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613574066757.jpg"></p>
<p>选定一个主题后，我们还需要配置一下主题的「配色方案」，这个参数来自主题文件夹中的 <code>color.ini</code> 文件。     </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613576317029.jpg"></p>
<p>同样地，使用代码编辑器或文本编辑器打开 <code>color.ini</code> 文件，打开后的文件如下图所示。  </p>
<p>每个中括号 [] 中的文本，就对应一种配色方案，以下图为例，<code>red-light</code> 是一种配色方案，<code>rose-pine-moon</code> 是另外一种配色方案。   </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613577203616.jpg"></p>
<p>选好想使用的主题和主题中提供的配色方案后，依次将这两个参数填入配置文件 <code>config-xpui.ini</code> 对应的两个字段中。   </p>
<p>填好之后，按下快捷键 Ctrl&#x2F;Command + S 保存更改。      </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613579264545.jpg"></p>
<h2 id="在终端中应用更改"><a href="#在终端中应用更改" class="headerlink" title="在终端中应用更改"></a>在终端中应用更改</h2><p>完成以上操作后，我们还要来到终端，输入命令 <code>spicetify apply</code>，按下回车键确认更改 Spotify 主题，当下方返回「Spotify is spiced up!」，则说明已经完成主题的更改。  </p>
<p>此时重启 Spotify 客户端，就能看到更改主题之后的效果啦～     </p>
<p>需要注意的是，每次更改了主题或配色方案之后，都要来到终端再执行一次 <code>spicetify apply</code>。     </p>
<p><img src="https://img.penghh.fun/2022/08/25/16613581921716.jpg"></p>
<h2 id="使用-Spicetify-的体验"><a href="#使用-Spicetify-的体验" class="headerlink" title="使用 Spicetify 的体验"></a>使用 Spicetify 的体验</h2><p>下图是主题为 <code>Ziro</code>，配色方案为 <code>rose-pine-moon</code> 的效果，这个主题不仅可以更改 Spotify 的配色方案，还会给歌词添加滚动效果。    </p>
<p><img src="https://img.penghh.fun/2022/08/25/16612972465257.jpg"></p>
<p>下图是主题为 <code>spicetify-fluent-master</code>，配色方案为 <code>dracula</code> 的效果，这个主题有个问题，菜单或者按钮的图标丢失了…   </p>
<p><img src="https://img.penghh.fun/2022/08/25/16612990502673.jpg"></p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">         </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/08/20/2022-8-20-mac_pin_top/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/20/2022-8-20-mac_pin_top/" itemprop="url">Mac任意应用窗口置顶显示，这个好用软件相见恨晚【效率工具指南】</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-08-20T00:40:00+08:00">
                2022-08-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/u31ajN_EP8LibFSIsNw3mQ">效率工具指南</a>」<br>文&#x2F;彭宏豪      </p>
<p>Hello 各位周末好，我是小豪。  </p>
<p>相信用过截图软件 Snipaste 的朋友，应该对软件内置的「贴图」功能并不陌生：   </p>
<p>它可以将截图固定在屏幕最上层，不会被其他应用窗口所遮挡，这个功能有点像 Windows 上一些软件自带的「置顶」功能一样，例如 Windows 微信或幕布，点击右上角的「图钉📌」，就可以将应用「钉」在桌面最顶层。    </p>
<p><img src="https://img.penghh.fun/2023/02/04/16610004551391.jpg"></p>
<p>当然并不是所有的 Windows 应用都自带「置顶」功能，为了让所有的 Windows 应用窗口都能置顶，我还写过 2 篇实现应用窗口置顶的文章：   </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649912229&idx=1&sn=42ed51bfed7cbf30728fc6e632ddd994&chksm=83a87788b4dffe9e11e48e63f82d997427b7102f11105f9636b752902653db44d86a28cfa58e&token=827967041&lang=zh_CN#rd">截图软件Snipaste超好用的贴图功能，在别的软件也能拥有 | 窗口置顶工具</a>    </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649919355&idx=1&sn=9a52c988fef1e8f69a436a26cf7af0b0&chksm=83a88b56b4df02406f5e844ebe347839491ce32e2e6937bcb4cf0f59ea3ac02ca0d145c8f62c&token=827967041&lang=zh_CN#rd">微软家的多功能工具箱，让我又卸掉了5个软件 | PowerToys</a>    </p>
<p>之所以会有窗口置顶的需求，主要还是觉得自己在用的电脑的屏幕太小，想要一边看视频（IINA 视频播放器），一边记笔记（MWeb），有时还要敲下代码（VS Code），需要在 3 个软件之间来回切换的体验很差。  </p>
<p>这时我就想到，如果可以把其中最重要的视频播放窗口固定在桌面顶部，不受另外两个软件遮挡，同时只需要在这两个软件间切换，就可以大大提高观看视频教程的体验。   </p>
<p>因为我用的是 Mac 电脑，因为 macOS 系统的限制，想要实现 Windows 那样的窗口置顶，并没有那么方便。  </p>
<p>之前就有这个想法了，但一直没找到合适且简单的软件，不过今天在网上搜了一下，终于找到 macOS 系统上将应用窗口置顶的方法啦！    </p>
<h2 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h2><p>在 Mac 上将任意应用窗口置顶显示，需要用到一个软件和插件。   </p>
<ul>
<li>软件：MacForge，一个开源的插件管理工具，可通过安装插件，为 macOS 系统增加本不具备的功能。    </li>
<li>插件：AfloatX，让应用窗口置顶显示的插件。</li>
</ul>
<h2 id="下载-MacForge"><a href="#下载-MacForge" class="headerlink" title="下载 MacForge"></a>下载 MacForge</h2><p>下面是 macEnhance 对 MacForge 这款软件的简要介绍：  </p>
<blockquote>
<p>MacForge，适用于 macOS 的简单插件管理器。可让您发现和管理出色的插件以增强您的 macOS 体验。   </p>
</blockquote>
<p>使用 MacForge 有两个注意事项：  </p>
<ul>
<li>必须禁用 macOS 系统的系统完整性保护，系统完整性保护的英文全称为 System Integrity Protection，简写为 SIP         </li>
<li>MacForge 不能用于 M1 或 M2 芯片的电脑，目前只支持 Intel 芯片的 Mac 电脑，且 macOS 系统版本不得低于 10.14</li>
</ul>
<p><img src="https://img.penghh.fun/2023/02/04/16610030947358.jpg"></p>
<p>MacForge 下载地址：<br><a target="_blank" rel="noopener" href="https://www.macenhance.com/macforge">https://www.macenhance.com/macforge</a>   </p>
<h2 id="关闭-macOS-系统-SIP"><a href="#关闭-macOS-系统-SIP" class="headerlink" title="关闭 macOS 系统 SIP"></a>关闭 macOS 系统 SIP</h2><p>Mac 电脑出厂时，为了提升系统的安全性，默认开启了系统完整性保护。   </p>
<p>更多关于系统完整性保护的介绍，可以查看来自 macEnhance 网站的介绍：  </p>
<p><img src="https://img.penghh.fun/2023/02/04/16610036328958.jpg"></p>
<p>如果你不确定自己之前是否关闭了系统完整性保护，可以先打开 Mac 自带的终端，在终端中输入 <code>csrutil status</code>，根据返回的信息，就能知道当前是否关闭了 SIP。  </p>
<p>如下图，我的电脑当前关闭了 SIP，因此返回的信息为 disabled。      </p>
<p><img src="https://img.penghh.fun/2023/02/04/16610037897147.jpg"></p>
<p>如果返回的是 enabled，那就说明系统当前的 SIP 是开启的。为了让 MacForge 能起作用，需要先关闭 SIP。   </p>
<p>关闭 SIP 的方法：  </p>
<p>先将电脑关机再开机，刚开机时长按 Command + R，直至电脑屏幕出现开机时的苹果图标，此时松手，等待进入 macOS 恢复功能界面。   </p>
<p>接下来的操作，因为我没有截图，这里可参考「少数派」上的一篇文章《<a target="_blank" rel="noopener" href="https://sspai.com/post/55066">macOS 开启或关闭 SIP</a>》：   </p>
<p><img src="https://img.penghh.fun/2023/02/04/qrcodea--a1-2.jpg" alt="QRcode_A — a1 -2-"></p>
<p>简单来说，就是打开 macOS 恢复功能界面顶部菜单栏「实用工具 &gt;&gt; 终端」，在打开的终端中输入 <code>csrutil disable</code>后按下回车，这样就关闭了 SIP，之后重启电脑，正常进入系统。    </p>
<h2 id="Mac-终端"><a href="#Mac-终端" class="headerlink" title="Mac 终端"></a>Mac 终端</h2><p>重启电脑后，再次打开 Mac 电脑的终端，在终端粘贴下面的命令，按下回车，输入电脑开机密码。    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo defaults write /Library/Preferences/com.apple.security.libraryvalidation.plist DisableLibraryValidation -bool true  </span><br></pre></td></tr></table></figure>

<h2 id="运行-MacForge-软件"><a href="#运行-MacForge-软件" class="headerlink" title="运行 MacForge 软件"></a>运行 MacForge 软件</h2><p>打开我们安装的 MacForge，点击左侧栏的 Discover，这里显示的就是 MacForge 提供的各种系统增强插件。   </p>
<p>其中的 AfloatX 就是实现应用窗口置顶所需要用到的插件，点击右侧的「GET」按钮安装插件，当按钮上的文字由 GET 变为 OPEN，就说明插件已经安装完毕。     </p>
<p>安装好插件后，再重启一下电脑，让刚安装的插件生效。      </p>
<p><img src="https://img.penghh.fun/2023/02/04/16610045700357.jpg"></p>
<h2 id="将应用窗口置顶显示"><a href="#将应用窗口置顶显示" class="headerlink" title="将应用窗口置顶显示"></a>将应用窗口置顶显示</h2><p>重启电脑后，打开想置顶显示的应用，右击 Dock 栏的应用图标，可以看到打开的面板中多出了一个 <strong>AfloatX</strong> 的选项，选择 Float Window，即「浮动窗口」，就可以将当前应用的窗口置顶显示啦！  </p>
<p>开心～从自己的需求出发，找到了刚好可以满足需求的工具，这种感觉太开心了。           </p>
<p><img src="https://img.penghh.fun/2023/02/04/16610048056235.jpg"></p>
<h2 id="另外的窗口置顶方案"><a href="#另外的窗口置顶方案" class="headerlink" title="另外的窗口置顶方案"></a>另外的窗口置顶方案</h2><p>如果你觉得前面介绍的方法比较麻烦，想找一个可以简单实现窗口置顶的方法，那么可以考虑使用下面的这款工具——Fentre。  </p>
<p>Fentre 可以置顶显示图片、视频、网页等，只需要安装软件就能直接使用，不像前面需要很多个步骤。  </p>
<p>将你想要置顶显示的东西拖拽到顶部菜单栏的 Fentre 图标，软件就会打开一个悬浮在桌面顶部的窗口。  </p>
<p>但实际使用下来，Fentre 的自由度不如前面介绍的方法，表现在：使用 Fentre 置顶显示的视频只能用 Fentre 内置的播放器播放，无法使用 IINA 来播放，也就意味着无法倍速播放视频。。。     </p>
<p><img src="https://img.penghh.fun/2023/02/04/16610053721374.jpg"></p>
<p>如果你想要使用 Fentre，可从 Mac App Store 下载，应用商店提供了两个软件版本，一个是免费的 Lite 版，一个是付费的 Pro 版，价格为 50 元。 </p>
<p>还需要说明的是，Fentre 目前似乎只有适配 Intel 芯片的版本，如果你想在 M1 或者 M2 芯片的电脑上使用，需要额外安装 Rosetta，对 Intel 版本的软件进行转译。      </p>
<p><img src="https://img.penghh.fun/2023/02/04/16610058770652.jpg"></p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="订阅我在竹白上创建的-Newsletter"><a href="#订阅我在竹白上创建的-Newsletter" class="headerlink" title="订阅我在竹白上创建的 Newsletter"></a>订阅我在竹白上创建的 Newsletter</h2><p>如果对你有帮助的话，别忘了点击下方的链接，订阅我的 Newsletter，之后发布了新的内容，就能第一时间收到通知啦～  </p>
<p><a target="_blank" rel="noopener" href="https://penghh.zhubai.love/">👉在竹白上订阅效率工具指南</a>         </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">      </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/08/14/2022-08-14-human-travel-book-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/14/2022-08-14-human-travel-book-summary/" itemprop="url">一切皆有因果 - 读《人类之旅》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-08-14T10:44:32+08:00">
                2022-08-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <img src="/images/human-travel-cover.jpg" width="300px" />

<h2 id="一、序"><a href="#一、序" class="headerlink" title="一、序"></a>一、序</h2><p>中信出版社的明月老师悄悄给我寄了一本<a target="_blank" rel="noopener" href="https://e.jd.com/30819247.html">《人类之旅-财富与不平等的起源》</a>，作者是以色列的奥戴德•盖勒。</p>
<p>盖勒是美国布朗大学经济学教授，他因为开创了 “统一增长理论”，被认为是诺贝尔奖的潜在候选人。<br>这本书探讨了人类经济繁荣的背后原因，以及全球财富不平等的决定因素。 </p>
<p>我上周花了一点时间刚刚读完。全书主要分两部分：</p>
<p>​​第一部分介绍马尔萨斯陷阱。该理论在过去有效了几千年，直到最近 200 多年才失效。该理论的失效从全球范围内解释了生育率为什么下降。</p>
<p>第二部分从自然选择的角度，介绍文化的差异如何在各国产生，进一步又是如何影响国家的经济发展的。</p>
<h2 id="二、什么是马尔萨斯时代"><a href="#二、什么是马尔萨斯时代" class="headerlink" title="二、什么是马尔萨斯时代"></a>二、什么是马尔萨斯时代</h2><p>马尔萨斯时代代表一段时期，它从人类出现开始，到 19 世纪末的工业革命结束。</p>
<p>在这段时期，人类在两个状态之间循环：</p>
<ul>
<li>状态一：通过育种或者迁徙等手段，获得更多的食物。</li>
<li>状态二：因为食物足够，人们加大生育。生育带来更多人口，人口增长速度到达了自然资源的限制，最终又变回仅能温饱。</li>
</ul>
<p>状态一和二的循环在历史上有过多次出现。</p>
<p>例如：人类刚刚进入农业社会时，通过培育小麦，水稻，玉米等高碳水作物，为人类提供了更多的能量。进而可以支持人类繁衍更多后代。最终人类的人口受耕地的限制而到达一个顶峰。到达顶峰之后，某些家庭出生的更多人口就会由于无法获得足够食物而死亡。</p>
<p>又比如：人类通过迁徙到达一块新的大陆时，刚开始资源丰富，所以人口大幅度增加。但是人口到达顶峰之后，更多的人口也就无法获得足够的资源了。</p>
<h2 id="三、马尔萨斯时代的终结"><a href="#三、马尔萨斯时代的终结" class="headerlink" title="三、马尔萨斯时代的终结"></a>三、马尔萨斯时代的终结</h2><p>马尔萨斯时代在工业革命后被终结。同往常一样，工业革命带来了大量的资源，但是为什么人口的数量这一次没有遵循历史的规律呢？</p>
<p>答案是：工业革命之后，教育的成本变得异常高。</p>
<p>在中世纪，教育其实只是少数人的特权。拿识字率来说，中世纪的中国、法国、德国、荷兰等国家的识字率均低于 10%。</p>
<p>但是到了 20 世纪，全球的识字率超过了 50%，目前到了 86%。</p>
<img src="/images/human-travel-1.jpeg" class="">

<p>工业革命之后，资本家们发现，生产对劳动者的教育和技能的投资变得愈发重要，从而推动各个国家将教育投入列为重点投资。</p>
<p>而有效的教育投入，确实又进一步加速了创新的步伐，进一步改善了人们的生活水平。</p>
<p>但是，人们发现：因为教育需要投入大量的资源，所以全球范围内生育率都大幅下跌。西欧国家在工业革命后，生育率下跌了 30%~50%（如下图）。</p>
<img src="/images/human-travel-2.jpeg" class="">

<p>中国早在 13 世纪就引入了科举考试，书中提到的调查也显示：小规模的家庭的孩子更多地参加科举。</p>
<p>逃出马尔萨斯陷阱对人类社会而言意义重大。因为：</p>
<ul>
<li>人均收入相比过去提高了 10 倍。</li>
<li>人均寿命提高了约 1 倍。</li>
</ul>
<p>当然，虽然每个人都有时间享受生活，有着更加多样性的饮食，娱乐。但是，不能不说整个全世界都陷入了低生育率的时代。</p>
<h2 id="四、自然环境对于文化的影响"><a href="#四、自然环境对于文化的影响" class="headerlink" title="四、自然环境对于文化的影响"></a>四、自然环境对于文化的影响</h2><h3 id="4-1-集体主义的文化"><a href="#4-1-集体主义的文化" class="headerlink" title="4.1 集体主义的文化"></a>4.1 集体主义的文化</h3><p>之前读<a href="/2022/05/07/principles-for-dealing-with-the-changing-world-order/">《原则 2》</a>的时候，书里面提到很多中美在文化上的差异。比如中国人更加看重集体利益，美国人更加看重个人利益。</p>
<p>我开始觉得这种文化差异来自于中国古代的各种儒家文化。例如：孔融让梨，精忠报国这些词都在讲集体利益。但是没见到什么词赞美个人利益。</p>
<p>但是书中提到另外一个观点：中国的土地适合种植稻米，因此需要彼此共享大规模的灌溉系统，这有助于相互协作的集体主义文化。而像小麦所需要的协作程度就较低，会容易出现更具个人主义的文化。</p>
<p>总结来说就是：劳动密集型作物的耕种与集体主义文化相互关联。</p>
<h3 id="4-2-女性进入职场的文化差异"><a href="#4-2-女性进入职场的文化差异" class="headerlink" title="4.2 女性进入职场的文化差异"></a>4.2 女性进入职场的文化差异</h3><p>与此类似的还包括对女性进入职场的态度差异。研究发现，某些地区耕作需要用牛马拉动的犁耙，而控制牲畜和犁耙需要相当大的上肢力量。这些地区的女性就更多从事家务劳动。</p>
<p>所以，历史上较多使用犁耙的南欧、中东和中亚，女性面孔更少出现在职场。</p>
<h3 id="4-3-损失厌恶"><a href="#4-3-损失厌恶" class="headerlink" title="4.3 损失厌恶"></a>4.3 损失厌恶</h3><p>诺贝尔经济学奖得主卡尼曼在他的书中介绍了人类的：损失厌恶心理。即 100 块钱的损失情绪与 200 块钱的获得情绪相当，可见人们多么厌恶损失。</p>
<p>本书也将这种情绪归结为马尔萨斯时代的影响。因为在那个年代，干旱等不利条件经常带了饥荒甚至灭绝；相反，丰收只能暂时改善生活，促进繁衍。所以，古代活下来的人会更加谨慎，即使损失一点潜在收益，也要防范灾难性打击。</p>
<p>所以，损失厌恶是一种面对灭绝威胁的古老适应性。</p>
<h2 id="五、小结"><a href="#五、小结" class="headerlink" title="五、小结"></a>五、小结</h2><ul>
<li>工业革命之后，教育变成提升生产力的必要条件。</li>
<li>因为教育投入大，所以家庭生育率下降，马尔萨斯陷阱终结。人均收入和售卖大幅提升。</li>
<li>集体主义文化与大规模密集型作物的种植相关。</li>
<li>女性的从业观念与犁耙的使用相关。</li>
<li>损失厌恶是一种应对灭绝危险的古老适应性。</li>
</ul>
<p>这是一本从自然选择角度讲历史演变的书，角度挺特别的，推荐大家读读。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/08/12/2022-8-12-openwith_plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/08/12/2022-8-12-openwith_plugin/" itemprop="url">浏览器插件Open With+Mac下载工具Downie，一键下载网页视频</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-08-12T01:13:00+08:00">
                2022-08-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/LGbFGQvs3yYBG8GSMjQyaA">效率工具指南</a>」<br>文&#x2F;彭宏豪     </p>
<p>Hello 各位好，我是小豪。   </p>
<p>相信用过 Windows 电脑的朋友，对下图的电脑询问「你要以何方式打开 XX 文件」的弹窗并不陌生，这个窗口通常出现在：  </p>
<p>我们没有设置打开这种文件的默认应用，或是安装了一个新的应用后，原先打开这种文件的默认应用被篡改，系统需要重新进行确认。    </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602309319698.jpg"></p>
<p>而如果把这里的本地文件换成我们天天在用的<strong>网页</strong>，是否可以实现在浏览器之外，使用其他的软件打开当前的网页呢？   </p>
<p>——答案是可以的。   </p>
<p>但实现了这个操作，你可能会问：这个操作有什么用吗？或是有什么使用场景呢？   </p>
<p>目前我找到了 2 个比较有用的使用场景：  </p>
<ul>
<li>在下载工具 Downie 中打开当前的网页，实现快速下载      </li>
<li>在登录了另外一个知乎账号的浏览器打开当前的知乎页面，查看另一个账号是否回答了这个问题（工作上的需要）</li>
</ul>
<p>这两个使用场景，其实有一个共同的地方，就是将原本的「复制当前网页链接，在另外一个应用粘贴复制的链接」的操作简化了，只需要借助一个<strong>浏览器插件 Open With</strong>，就能自动帮我们完成这一个过程。 </p>
<p>这么说还是有点抽象，来说一下前面说到的第 1 个使用场景——      </p>
<p>假设我要使用下载工具 Downie 下载一个 B 站的视频，按照传统的操作应该是这样子的：先复制浏览器地址栏的视频链接，再打开 Downie，在软件中执行粘贴链接的操作，就能开始下载视频。  </p>
<p>而当我在浏览器安装了 Open With 插件，同样是要下载这个视频，只需要：右击页面的空白处，选择「Open With &gt;&gt; Downie」，也就是使用 Downie 打开当前的网页，就会自动唤醒本地安装的 Downie，自动在软件中开启视频下载。   </p>
<p>说这么多，其实是想表达：<strong>这个插件可以让人变得更懒</strong>，想下载视频，连复制链接的操作都可以省掉，让程序自动帮我们完成。          </p>
<p><img src="https://img.penghh.fun/2022/08/12/20220811-234059.gif" alt="2022-08-11 23.40.59"></p>
<p>用着 Windows 电脑的同学，把这里的 Downie 替换为 IDM，也能实现相同的效果。   </p>
<p>需要说明的是，最早知道这个操作，还是从我喜欢的一个公众号「奔跑中的奶酪」，人称「奶大」的博主那里看到的。  </p>
<p>之前他写了一篇很详细的文章，不过后来他把文章删掉了，没看过的人可能也见不到了，而且这里我还想补充那篇文章中没提及的一个问题的解决方法。   </p>
<p>铺垫了这么多，来看一下如何实现这个快捷操作吧：  </p>
<h2 id="安装浏览器插件-Open-With"><a href="#安装浏览器插件-Open-With" class="headerlink" title="安装浏览器插件 Open With"></a>安装浏览器插件 Open With</h2><p>首先要安装实现这个快捷操作的浏览器插件 Open With，这个插件支持火狐、Firefox 和 Opera 浏览器，最初有上架到 Chrome 应用商店，不过后来下架了。   </p>
<p>因此，用着 Chrome 浏览器的朋友，如果想使用这个插件，可以扫描下方的二维码，在公众号「效率工具指南」后台回复【<strong>ow</strong>】，获取插件安装包。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">       </p>
<p>使用 Firefox 浏览器的朋友，可以从插件的 GitHub 项目页面找到安装链接：  </p>
<p><a target="_blank" rel="noopener" href="https://github.com/darktrojan/openwith">https://github.com/darktrojan/openwith</a>    </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602343911689.jpg"></p>
<h2 id="配置浏览器插件"><a href="#配置浏览器插件" class="headerlink" title="配置浏览器插件"></a>配置浏览器插件</h2><p>对于使用 Mac 电脑的用户，在浏览器安装了 Open With 插件后，还需要额外对插件进行配置。   </p>
<p>右击 Chrome 浏览器右上角的插件图标，选择「选项」，打开插件的设置页面。     </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602350192081.jpg"></p>
<p>点击左侧的蓝色文字「Click here to download」，下载一个 Python 脚本文件。     </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602352833394.jpg"></p>
<p>将下载的 Python 文件放到<strong>资源库</strong>的应用支持路径下，具体路径如下图所示：     </p>
<p><code>/Library/Application\ Support/Google/Chrome/</code>     </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602357245967.jpg"></p>
<p>接着打开 Mac 上的终端，在终端中依次输入如下两行命令：   </p>
<p><code>chmod u+x /Library/Application\ Support/Google/Chrome/open_with_mac.py</code>    </p>
<p>输入上面的命令后，按下回车键，再输入下面的命令：  </p>
<p><code>/Library/Application\ Support/Google/Chrome/open_with_mac.py install</code>     </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602359059758.jpg"></p>
<p>经过前面的操作后，就算是在 Mac 电脑上完整安装了这个插件。   </p>
<p>接着回到插件的设置页面，点击下方的「Look for browsers」，插件就会扫描你在电脑上安装的所有浏览器，并将其添加到右侧的面板。   </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602362278293.jpg"></p>
<p>经过这个操作后，去到 Chrome 浏览器中的任意一个页面，当你在页面空白处右击，选择 Open With，弹出的面板应该就会显示你电脑上安装的所有浏览器。  </p>
<p>这时选择一个 Chrome 之外的浏览器，就会在另外一个浏览器中打开当前的页面。   </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602363955782.jpg"></p>
<p>而如果你想在这个面板中添加额外的应用，例如前面提到的下载工具 Downie 或者 IDM，就需要再次回到插件的设置页面。   </p>
<p>点击下方的「Add browser」，添加新的浏览器。   </p>
<p><img src="https://img.penghh.fun/2022/08/12/16602365874491.jpg"></p>
<p>在弹出的配置面板，有两个需要填入文本的字段：  </p>
<ul>
<li>Name：输入应用的名称，例如我想添加 Downie，就把它命名为 Downie   </li>
<li>Command：这里要输入应用所在的路径，Mac 电脑应用安装的路径是一致的，因此输入 <code>/Application/应用名称.app</code></li>
</ul>
<p><img src="https://img.penghh.fun/2022/08/12/16602366622826.jpg"></p>
<p>这样配置之后，Open With 插件就会多出一个 Downie 的备选项，这样我们就可以在 Downie 中打开当前的网页。  </p>
<p>如果当前的网页恰好是视频页面，Downie 就会自动下载页面中的视频，真正实现许多人梦寐以求的「一键下载」。   </p>
<p>科技，让人变得更懒了！<br>还不错。   </p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">         </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/07/30/2022-7-30-yinxiang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/30/2022-7-30-yinxiang/" itemprop="url">我拿回属于自己的笔记数据，怎么了？｜将印象笔记导入笔记软件Notion</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-30T22:48:00+08:00">
                2022-07-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/c0efVv8C3-kzpsdNsWmqvQ">效率工具指南</a>」<br>文&#x2F;彭宏豪     </p>
<p>Hello 各位好，我是小豪。  </p>
<p>今天的这篇文章，可以看成是前一篇文章《<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/OO6PYsCkz3X7YBBTCc-h9w">印象笔记又开始作了？保住自己的笔记要紧</a>》的后续，先说一下发出前一篇文章后发生的一些事情：  </p>
<ul>
<li>公众号后台提供的旧版印象笔记下载链接🔗没多久就失效了，我猜测是被人举报了    </li>
<li>下载链接失效了还不是最糟糕的，失效了我可以重新分享出来，更恶心的是，有朋友反馈说，安装了旧版的应用后，首次启动会弹出下面的提示，不更新到最新版本，就无法查看存储在软件中的笔记</li>
</ul>
<p>这不是明摆着不让用户用回旧版的应用吗？<strong>为了阻止用户转移本应属于自己的笔记数据，真是什么下三滥的招都用出来</strong>。       </p>
<p><img src="https://img.penghh.fun/2022/07/30/ishot20220730111137.png" alt="iShot_2022-07-30_11.11.37"></p>
<p>不过，即便这样，我还是找到了另外一个从印象笔记导出 enex 格式的方法，这个方法稍微有一点麻烦，需要用到 Python 和命令行。       </p>
<p>这个方法用了国外一位开发者 vzhd1701 写的一个项目「evernote-backup」，有用 GitHub 的朋友也可以去到 GitHub 给这个项目点个 Star，共同感谢这位开发者的付出。   </p>
<p>GitHub 项目「evernote-backup」地址：   </p>
<p><a target="_blank" rel="noopener" href="https://github.com/vzhd1701/evernote-backup">https://github.com/vzhd1701/evernote-backup</a></p>
<p><img src="https://img.penghh.fun/2022/07/30/16591866903796.jpg"></p>
<h2 id="安装-Python"><a href="#安装-Python" class="headerlink" title="安装 Python"></a>安装 Python</h2><p>使用 evernote-backup 导出笔记之前，请先在自己的电脑上安装 Python。   </p>
<p>Python 官网：<br><a target="_blank" rel="noopener" href="https://www.python.org/">https://www.python.org/</a>   </p>
<p>使用 Mac 电脑的朋友，除了从 Python 官网下载安装包，也可以通过终端的 Homebrew 进行安装，具体方法，可以参考我之前发布的一篇文章：  </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649912923&idx=1&sn=26e8b3b8a7a12983c03781551b67b96f&chksm=83a87276b4dffb60265b4cc75eab2fe6e7992e924ad2577e2ae45af9a0f2ba1202c27f2f4670&token=1775818589&lang=zh_CN#rd">学 Python 前的准备工作｜人生苦短，我选 Python</a>   </p>
<p>而使用 Windows 电脑的朋友，安装完 Python 之后可能还需要配置一下「环境变量」，如果不清楚如何配置，可以自行上网搜索。   </p>
<h2 id="安装-evernote-backup"><a href="#安装-evernote-backup" class="headerlink" title="安装 evernote-backup"></a>安装 evernote-backup</h2><p>安装好 Python 后，我们还要安装一下前面提到的项目，这里需要打开电脑上的终端（Mac）、Powershell（Windows）或者 CMD（Windows）。   </p>
<p>下面以 Mac 上的终端为例： </p>
<p>打开终端，在终端粘贴下面的命令，按下回车键，就能完成导出工具的安装。    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install evernote-backup</span><br></pre></td></tr></table></figure>

<p>除了使用 Python 的 pip 命令安装，开发者还提供了另外的安装方式——    </p>
<p>使用 Mac 的 Homebrew 安装： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install evernote-backup</span><br></pre></td></tr></table></figure>


<p>使用 pipx 安装：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipx install evernote-backup</span><br></pre></td></tr></table></figure>

<p>不过由于 pipx 不是 Python 自带的命令，在使用之前，我们需要先安装这个命令：   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pipx    </span><br></pre></td></tr></table></figure>

<h2 id="使用导出工具"><a href="#使用导出工具" class="headerlink" title="使用导出工具"></a>使用导出工具</h2><p>这个导出工具的使用，分为 3 个步骤：   </p>
<ul>
<li>初始化数据库</li>
<li>下载笔记数据</li>
<li>输出 enex 格式的文件</li>
</ul>
<p>我们一一来看：   </p>
<h2 id="初始化数据库"><a href="#初始化数据库" class="headerlink" title="初始化数据库"></a>初始化数据库</h2><p>在终端粘贴下面的命令，并按下回车键。      </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">evernote-backup init-db --backend china</span><br></pre></td></tr></table></figure>

<p>这里需要注意的是，这个项目既可以导出 Evernote 的笔记，也能导出中国版 Evernote 印象笔记的数据，如果是导出印象笔记，这个初始化数据库命令的末尾就要加上 <code>--backend china</code>，如果是导出 Evernote 的数据，就要把上面命令中的 <code>--backend china</code> 去掉。   </p>
<p>终端会提示让你<strong>输入印象笔记的账户</strong>和<strong>密码</strong>，按照提示输入即可，如果程序能顺利运行，终端最终会返回一句 Successfully initialized database for user。    </p>
<p><img src="https://img.penghh.fun/2022/07/30/16591880882942.jpg"></p>
<p>但我在运行这个命令的时候，遇到了一个错误，报错信息如下：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1123)</span><br></pre></td></tr></table></figure>

<p>这个我不确定是不是我开了代理的原因，不过在网友「无声」的帮助下，我找到了解决方法，在终端粘贴下面的命令：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /etc/ssl/* /Library/Frameworks/Python.framework/Versions/3.9/etc/openssl</span><br></pre></td></tr></table></figure>

<p>网友「无声」还给出了找到这个解决方法的出处，来自 stackoverflow：  </p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/52805115/certificate-verify-failed-unable-to-get-local-issuer-certificate">https://stackoverflow.com/questions/52805115/certificate-verify-failed-unable-to-get-local-issuer-certificate</a></p>
<p>如果你也遇到类似的问题，可以试着用上面的方法，如果还是不行，也可以尝试项目作者提供的另外一种方法，在终端粘贴下面的命令：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Applications/Python\ 3.9/Install\ Certificates.command      </span><br></pre></td></tr></table></figure>

<p><img src="https://img.penghh.fun/2022/07/30/16591885073911.jpg"></p>
<p>运行前面的命令解决遇到的这个问题后，再运行最初的初始化数据库的命令，顺利的话，电脑本地就会多出一个名为 <code>en_backup.db</code> 的文件。   </p>
<h2 id="下载笔记数据"><a href="#下载笔记数据" class="headerlink" title="下载笔记数据"></a>下载笔记数据</h2><p>接着在终端粘贴下面的命令，并按下回车，就能同步拿到账号中的数据。   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">evernote-backup sync</span><br></pre></td></tr></table></figure>

<p>如果你的账号里有比较多的数据，这一步运行起来会花费较多的时间，如果刚好遇上你要关机或者出门，那么没关系，你可以随时终止这个命令的运行。  </p>
<p>因为这个工具支持<strong>断点下载</strong>，你可以在中途随时停止，之后重新运行这个命令，它会从上一次停止的地方继续下载，不需要重头再来。   </p>
<p><img src="https://img.penghh.fun/2022/07/30/16591891303912.jpg"></p>
<h2 id="输出-enex-格式的文件"><a href="#输出-enex-格式的文件" class="headerlink" title="输出 enex 格式的文件"></a>输出 enex 格式的文件</h2><p>等到第二步完成之后，就可以将笔记数据下载为本地的 enex 文件了。   </p>
<p>在终端粘贴下面的命令，并按下回车： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">evernote-backup export output_dir/</span><br></pre></td></tr></table></figure>

<p>等待程序走完，就会在本地生成一个名为 <code>output_dir</code> 的文件夹，里面就存放了我们导出的所有 enex 文件，如下图所示。   </p>
<p>需要说明的是，下图中每一个 enex 文件，实际上对应的是印象笔记中的每一个「笔记本」，如果你在笔记本里创建了多条笔记，那每个 enex 文件里就会包含多条笔记的。    </p>
<p><img src="https://img.penghh.fun/2022/07/30/16591894673026.jpg"></p>
<p>得到所有的 enex 文件后，我试着将其中一个名为「得到 App 笔记」的 enex 文件导入 OneNote，导入后的效果如下：  </p>
<p>这个 enex 文件包含了我在使用「得到」App 阅读不同电子书划线、评论或转发的内容，导入的效果还能接受。  </p>
<p>我也终于拿回了本该属于我的数据。           </p>
<p><img src="https://img.penghh.fun/2022/07/30/16591896552414.jpg"></p>
<h2 id="将-enex-文件导入-Notion"><a href="#将-enex-文件导入-Notion" class="headerlink" title="将 enex 文件导入 Notion"></a>将 enex 文件导入 Notion</h2><p>除了导入微软的 OneNote，我们还可以将 enex 文件导入笔记软件 Notion。   </p>
<p>Notion 默认不支持直接导入 enex 文件，但我们可以使用这位开发者写的另外一个工具「enex2notion」，这里的数字 2 是 to，即把 enex 导入 Notion。  </p>
<p>关于这个工具的使用，可以查看一位博主「Jerry Zhu」写的文章《<a target="_blank" rel="noopener" href="https://imho.plus/form-evernote-to-notion/">印象笔记近乎完美的迁移至Notion</a>》，这里就不复读了，他也写得很详细了：   </p>
<p><img src="https://img.penghh.fun/2022/07/30/qrcodea--a1-2.jpg" alt="QRcode_A — a1 -2-"></p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>最后再来说说印象笔记这款产品：</p>
<p>它从最初是一款比较小众的产品，到后来被很多人自发安利（曾经还有一群人叫印象笔记布道师？），或是在微博评论区随处可见的 <code>@我的印象笔记</code>，变成好多人都熟知的笔记产品，可以说开头或者中间的发展阶段都很好。  </p>
<p>但不知道为什么后来就变成这样了呢：   </p>
<ul>
<li>产品内无处不在的广告，付费的会员也会经常看到「提示你续费」的广告     </li>
<li>在国内抢注 Notion 的商标</li>
<li>产品功能越加越多，整成一个四不像     </li>
<li>新出的产品抄袭 flomo、Notion  </li>
<li>到最新的更改导出格式，阻止用户流失或转移数据</li>
</ul>
<p>我也不知道它咋变成了现在这个样子？       </p>
<p>看到这里，如果你知道身边的朋友有在用印象笔记的，不妨把这篇文章转发给 TA 们，有些用了多年印象笔记的用户，却对 TA 在用的产品变成这样浑然不知，想想也是非常可怕的一件事，对吧？    </p>
<p><strong>印象笔记，终于活成了自己最讨厌的样子。</strong>    </p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">         </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/live-sentiment.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/live-sentiment.html" itemprop="url">关于二舅的一些感悟</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-29T00:00:00+08:00">
                2022-07-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>最近二舅的视频炒得沸沸扬扬，看完视频后的我和大部分人的反应一样，觉得非常感动。</p>
<p>但随后我又不禁陷入沉思，如果换成是我，我会怎么做？</p>
<p>思索片刻，无非两条路，第一：结束自己的生命，但如果这么做，除了你的家人，还有谁为你感到伤心呢？</p>
<p>君不见，这段时间在微信群流传不少跳楼的视频，大家看完后有什么反应？惊叹一声，继续埋头做自己的事。</p>
<p>有谁会去深究他们背后的不幸呢，也许这个人就是另一个二舅，只是他选择走上这一条。</p>
<p>但我们没有反应，这是为什么呢？我们会认为，面对苦难，我们更应该像二舅这样积极乐观，而不是选择放弃。</p>
<p>是的，但这么多不幸的人，除了少部分选择结束自己的生命，其他人，哪个不是和二舅一样？</p>
<p>他们选择活下去，也只能是以积极乐观的态度面对生活，否则早就走上那条路了，所以麻烦搞清楚，这是一种无可奈何，试问换成你经受着一切，让你侄子拍个视频，让广大网友来敬佩你、在弹幕里疯狂刷「二舅」，你愿意吗？</p>
<p>二舅的不幸，是个人的不幸，更是时代的不幸，纵观他的人生，就是一部新中国史。</p>
<p>如同《活着》里面的福贵，他活着，也仅仅是活着，我们不会去赞扬他的乐观态度，我们更应该感到悲哀，为里面的福贵悲哀，也为这个时代悲哀，但记住永远不要相信这些苦难都是值得的，苦难就是苦难，苦难不会带来成功，苦难不值得追求，磨练意志只是因为苦难无法躲开。</p>
<p>王小波说：“人是一种会骗自己的动物，我们吃了很多无益的苦，虚掷了不少年华，所以有人就想说，这种经历是崇高的。”</p>
<p>二舅这个视频的意义是什么？难道让大家看看作者的二舅是如何坚强，就能治好我们所谓的精神内耗？</p>
<p>视频中暴露了一些真正应该被解决的问题，大家有重视吗？为什么二舅的残疾证一直办不下来，是我们相关部门为了磨炼二舅经受苦难的能力吗？二舅是否有低保？一个 68 岁的老人拉着另一个 88 岁的老人干活很正常吗？在我们社会中，还有多少个这样的二舅？</p>
<p>一个普通老百姓通过视频诉说自己的苦难，熬一碗鸡汤给自己喝，那也是因为二舅只能认命了呀，有什么办法？</p>
<p>可是官方凑热闹的时候是否应该反省一下，二舅的苦难，有多少是因为您造成的？您是不是想说：你们老百姓没办法，我们也觉得没办法呀，大家忍忍就过去了是吧？</p>
<p>反驳一下作者的话，人生比「把一手烂牌打成好牌」更重要的是，先搞清楚到底是谁在发牌，否则人家一直给你发烂牌，你即便打两辈子都打不完，反观人家周公子天生好牌，想怎么打就怎么打，这公平吗？</p>
<p>话说回来，上一次 B 站的视频炒得沸沸扬扬还是《后浪》，还记得当时豪情万丈、生长在这里实在是太幸福啦，我们有选择的权利！也才两年时间，画风就变成了像二舅这样平平淡淡凄凄惨惨切切才是真，这是同一批人吗？</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/07/28/2022-7-28-yinxiang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/28/2022-7-28-yinxiang/" itemprop="url">印象笔记导出格式更新，enex变为notes，恶心行为+1｜印象笔记旧版安装包下载</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-28T00:54:00+08:00">
                2022-07-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/OO6PYsCkz3X7YBBTCc-h9w">效率工具指南</a>」<br>文&#x2F;彭宏豪</p>
<p>Hello 各位好，我是小豪。  </p>
<p>本来今天不想更新的，但后来在网上看到一条和印象笔记有关的消息，就来简单说一下。  </p>
<p>印象笔记在最近的一次更新，将笔记的导出格式从延续了好多年的 <code>enex</code> 更改为了新的 <code>notes</code> 格式。  </p>
<p>从网上看到的评论，有人说这是印象推出的一种新的加密格式，类似于网易云音乐耍流氓推出的 ncm 音乐格式，<strong>增加了用户从印象笔记迁移到其他笔记软件（例如微软的 OneNote）的成本</strong>，导致你的印象笔记只能被迫继续留在印象笔记中。        </p>
<p><img src="https://img.penghh.fun/2022/07/28/16589382346303.jpg"></p>
<p>这种耍流氓的行为，简直和之前一篇文章《<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649920287&idx=1&sn=d6ebda6f99519204cb9e01411884fe8b&chksm=83a89732b4df1e24e834a73ef328d8cf7f15741f1e413cd3e54a6fb4629974e849ab9c5384c9&token=1775818589&lang=zh_CN#rd">不吐不快，国内互联网产品畸形的设计</a>》里提到的「产品设计乱象」一模一样，感觉国内很多公司好的东西不学，尽学那些下三滥的招数，都烂到一处。    </p>
<p>不过，对付「大象」这种耍流氓的方式，还是有法子的：</p>
<ul>
<li>最简单的就是<strong>不要升级到最新版的印象笔记</strong>   </li>
<li>如果不慎已经升级到了最新版，那就<strong>下回旧版的软件</strong></li>
</ul>
<p>就这么简单。     </p>
<p>我在自己的公众号「效率工具指南」后台准备好了 macOS 和 Windows 两个系统旧版的软件包，有需要的朋友，可以点击下方的卡片，在后台回复「<strong>印象</strong>」两个字，就能获取下载链接啦。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">       </p>
<h2 id="将印象笔记迁移到-OneNote"><a href="#将印象笔记迁移到-OneNote" class="headerlink" title="将印象笔记迁移到 OneNote"></a>将印象笔记迁移到 OneNote</h2><p>从印象笔记导出的 enex 文件，要去往哪个新的笔记软件呢？这是一个新的问题。   </p>
<p>目前了解到的，Notion 和 OneNote 这两个笔记软件都支持导入来自印象笔记的笔记。  </p>
<p>不过 Notion 有点麻烦，它支持导入<strong>印象笔记国际版 Evernote</strong> 的笔记，不支持直接导入印象笔记的 enex 文件，但网上还是有人研究出来了，但我没这个需求，所以就没去折腾，有需要的可以自行上网搜索。  </p>
<p>而如果你想把印象笔记迁移到微软的笔记软件 OneNote，倒是有一个比较方法的方法：使用微软官方提供的迁移工具 <strong>OneNote Importer</strong>。  </p>
<p><img src="https://img.penghh.fun/2022/07/28/16589407039961.jpg"></p>
<p>这个迁移工具同时支持 Windows 和 macOS 系统，从网站下载之后安装，应用程序列表会多出一个软件 OneNote Importer，打开之后按照提示，将 enex 导入 OneNote，稍等一小会，就能在 OneNote 中看到导入的笔记。   </p>
<p><img src="https://img.penghh.fun/2022/07/28/ishot20220728005342.png" alt="iShot_2022-07-28_00.53.42"></p>
<p>下面是 enex 格式的印象笔记文件导入 OneNote 的效果，供参考：   </p>
<p><img src="https://img.penghh.fun/2022/07/28/16589409493081.jpg"></p>
<p>需要说明的是，微软 OneNote 提供的这个导入工具，按照官网上展示的信息，应该是今年 9 月 1 日起就无法下载了。  </p>
<p>所以想要从印象笔记迁移到 OneNote 的朋友，抓紧时间去下载这个迁移工具吧！   </p>
<p>印象笔记导入 OneNote 工具 OneNote Importer 下载地址：<br><a target="_blank" rel="noopener" href="https://www.onenote.com/import-evernote-to-onenote">https://www.onenote.com/import-evernote-to-onenote</a>   </p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">       </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/07/27/2022-07-17-politics-is-the-art-of-the-possible-book-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/27/2022-07-17-politics-is-the-art-of-the-possible-book-summary/" itemprop="url">政治治理的各种可能 - 读《可能性的艺术》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-27T10:43:56+08:00">
                2022-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <img src="/images/politics-art-book.jpg" class="">

<h2 id="一、序言"><a href="#一、序言" class="headerlink" title="一、序言"></a>一、序言</h2><p>最近读完了一本讲政治的大众科普读物：<a target="_blank" rel="noopener" href="https://item.jd.com/13714992.html">《可能性的艺术》</a>。本书作者刘瑜博士，毕业于哥伦比亚大学，是清华大学社科学院副教授。</p>
<p>本书挑选了各种国家的不同治理结构做解读和分析，试图探讨出有益于社会发展的政治结构。</p>
<p>其中作者详细介绍的埃及、南非、印度、美国、委内瑞拉等国家的发展历程，让我收获很多。</p>
<p>以下是一些感悟。</p>
<h2 id="二、国家是什么"><a href="#二、国家是什么" class="headerlink" title="二、国家是什么"></a>二、国家是什么</h2><p>刘瑜说：国家是特定区域内合法对暴力垄断的机构。</p>
<p>“暴力垄断”，这是多么新鲜的一个角度！不过想想也对，只有国家授权的人员（例如警察）才可以合法的使用武器等暴力器械。</p>
<p>一个罪大恶极的罪犯，普通民众再狠他也不能动私刑，只能交由法院来审判。即便要剥夺罪犯的生命，也只能是法院来核准。</p>
<p>垄断了暴力之后，国家就可以衍生出一个必须的能力：征税的能力。</p>
<p>有了税收，国家才有能力为各种行政机构的运作提供经济支持，进一步国家就可以提供：冲突控制，发展经济，提供公共服务。</p>
<p>拿我们国家来说，去年 114 万亿的 GDP，国家收了大概 20 多万亿的税。这些税为教育、国防、基础设施建设，贫困地区的转移支付扶持，国家的重点产业扶持等提供了弹药。</p>
<p>新冠疫情持续了 2 年多，我接种了 3 针疫苗，检测过上百次核酸，都没有花钱，这都是国家从税收中支出了。</p>
<p>另外，你可能觉得国家税收很高。但是书中列出了别的国家的税收占 GDP 的比重：丹麦是 45%，法国 40%，日本 30%，比较下来，中国的税收（20%）其实是处于较低水平的。</p>
<h2 id="三、世界秩序的发展"><a href="#三、世界秩序的发展" class="headerlink" title="三、世界秩序的发展"></a>三、世界秩序的发展</h2><p>书中从另外一个角度解释了西方发达国家对全球的剥削规划：全球化。</p>
<p>西方推行的全球化本来是希望赚取全球利润。以前 IBM、微软和苹果只能挣美国人的钱，但是全球化之后，可以挣全世界的钱。</p>
<p>全球化之后，自由竞争很容易形成强者更强的局面，因为领先者可以获得数倍与竞争对手的利润来改善工艺，最终形成自然的垄断局面。这都是西方发达国家乐于见到的。</p>
<p>全球化也容易造成优秀人才的自由流动。清华北大的优秀毕业生很多最后出国深造后留在了国外。很多优秀的人才也被外企录用。</p>
<p>例如：我所从事的互联网行业，曾经最好的工作就是去 Google、Facebook、微软工作，然后 transfer 到硅谷。</p>
<p>但是，发达国家没有估计到的是：中国因为提供了全球的制造业能力，抢了发达国家和贫困国家蓝领工人的饭碗。现在不光是发达国家制造业空心化，像非洲也没有了制造业。因为中国制造已经形成了产业集群和规模化优势。</p>
<p>中国的制造业在抢到全球领先的基础下，开始朝着智能化和高精尖发展。各种自动化设备无处不在，各种制造业人才也在这种环境下被培养出来。进一步强化了中国的制造业老大的地位。</p>
<p>中国在具备制造业优势的基础上，通过国家产业扶持等手段，对新能源汽车、光伏、电池、芯片、AI 等领域重点支持，又再一次使得中国在这方面赶超发达国家。</p>
<p>说实话，现在除了高端芯片，留给西方卡我们脖子的高科技产业不多了。</p>
<p>一句话总结：西方希望通过全球化赚取全球利润并维持垄断。中国却因为人口红利吃下全球制造业，同时发展为制造业强国。</p>
<h2 id="四、民主决策不代表高质量决策"><a href="#四、民主决策不代表高质量决策" class="headerlink" title="四、民主决策不代表高质量决策"></a>四、民主决策不代表高质量决策</h2><p>很多人以为民主是银弹。殊不知，苏联也是被民主解体的。</p>
<p>刘瑜说：民主只代表一个决策程序，不代表这个决策程序出来的决策结果一定最好。</p>
<p>书中举了一个午餐食堂的例子：学校为了体现民主，让学生自行投票决定午餐吃什么。结果如果学生不够理性，最终选择吃不那么健康的薯片炸鸡可乐，那么就表示民主程序的决策出了一个糟糕的结果。</p>
<p>类似的例子还包括英国脱欧的公投等。很多时候人民的情绪是容易被煽动的，在这种情况下，民主投票不代表能够选出最优解。</p>
<p>民主也需要大家遵守契约精神。书中举了泰国的例子，因为红杉军和黄衫军的对持，所以不管代表哪边的候选人被合法选中，另外一边也会不顾法律规则来暴力抗议。最终使得泰国的民主实质上失败了，军方执政至今。</p>
<p>那是不是说民主不重要呢？也不是，但是民主只是原料，要做好一盘菜，别的比民主重要的因素也得满足。</p>
<h2 id="五、价值观差异"><a href="#五、价值观差异" class="headerlink" title="五、价值观差异"></a>五、价值观差异</h2><p>如果说有什么是这个世界相互不能达成一致的，那就是价值观。</p>
<p>书中列举了当今世界三大价值观：伊斯兰文化，儒家文化，西方文化。</p>
<p>书中也列举了这三种文化下对于不同价值观的评价差异。</p>
<ul>
<li>秩序 vs 自由。儒家文化认为秩序比自由重要。</li>
<li>主权 vs 人权。儒家文化认为主权＞人权。</li>
<li>平等 vs 效率。儒家文化认为效率比平等重要</li>
</ul>
<p>书中让我震撼的一个案例是：荣誉谋杀。穆斯林文化下的一些国家会对一些违反文化禁令的人私下杀掉，而把这个称做荣誉谋杀。相关的内容见：<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzA5MjA5MTEwNg==&mid=2656393175&idx=1&sn=7cb833c075097653475d12c9d588db25&scene=21#wechat_redirect">揭露隐藏在中东社会的毒瘤 —— “荣誉谋杀”</a></p>
<p>另一个让我记忆深刻的案例是一个问题：你是否愿意为国家一战？77% 的中国人选择 “是”，而只有 30% 的美国人选择 “是”。这背后是大家对于国家、名族的不同认同感。</p>
<h2 id="六、小结"><a href="#六、小结" class="headerlink" title="六、小结"></a>六、小结</h2><ul>
<li>国家是特定区域内合法对暴力垄断的机构。</li>
<li>西方希望通过全球化赚取全球利润并维持垄断。中国却因为人口红利吃下全球制造业，同时发展为制造业强国。</li>
<li>民主是好的，但民主只代表一个决策程序，不代表这个决策程序出来的决策结果一定最好。</li>
<li>伊斯兰文化，儒家文化，西方文化之间存在着巨大差异。</li>
</ul>
<p>以上。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/07/27/2022-7-27-mac_screenshot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/27/2022-7-27-mac_screenshot/" itemprop="url">Mac电脑上好用的2款截图工具</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-27T00:54:00+08:00">
                2022-07-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/3MvaOFrIdSz7-K7-6gRrpw">效率工具指南</a>」<br>文&#x2F;彭宏豪     </p>
<p>Hello 各位好，我是小豪。  </p>
<p>今天来简单聊聊 Mac 电脑上好用的两款截图软件——Xnip 和 iShot。   </p>
<h2 id="Xnip"><a href="#Xnip" class="headerlink" title="Xnip"></a>Xnip</h2><p>Xnip，是我目前在用的截图软件，我日常会有的截图需求——截图、长截图、简单的标注（添加红色文字、矩形或者马赛克）、贴图、拾取颜色，Xnip 都能做到。 </p>
<p>Xnip 还有一个我不常用的功能——<strong>高亮</strong>（快捷键为数字 9），效果如下图所示，高亮的区域会保持原本的亮度，非高亮的部分亮度则会变暗，就像是「红花配绿叶」，非高亮的部分作为衬托，来凸显出高亮的区域。  </p>
<p><img src="https://img.penghh.fun/2022/07/27/16588503052776.jpg"></p>
<p>Xnip 可从 Mac 应用商店免费下载，应用包含内购，在不付费的情况下，其实也不影响使用。  </p>
<p>免费版主要有两个限制，一个是长截图的时候会在图片顶部带有软件的水印，水印这一点其实也不影响最终的长截图的外观；另一个是无法在下面的「评估窗口」给截取的图片添加标注。  </p>
<p>其实评估窗口我也极少使用，我一般都是在截完图片的状态下随手给图片添加标注，而不是再单独打开下面的窗口进行标注。   </p>
<p><img src="https://img.penghh.fun/2022/07/27/16588510621149.jpg"></p>
<p>说明：打开 Xnip 评估窗口的快捷键为 W。  </p>
<p>虽然极少使用 Xnip 的评估窗口，但这个窗口还有一个很<strong>隐蔽的用法</strong>——可以用来设置标注工具的默认样式。     </p>
<p>说实话，我最开始并不知道这个用法，以至于我很长一段时间，都因为 Xnip 标注工具中的矩形描边太细，而不得不每次用到矩形的时候，都得手动去提高描边的数值。  </p>
<p>直到有一次在 Xnip 作者的动态下方留言，才找到了这个隐蔽的设置项。      </p>
<p><img src="https://img.penghh.fun/2022/07/27/16588514948516.jpg"></p>
<p>调整标注工具默认样式的方法如下：   </p>
<p>打开 Xnip 的评估窗口，点击顶部对应的标注工具，调整右侧的参数，例如下图的「描边粗细」，调整好之后点击「设为默认样式」，这样就可以将自己觉得舒服的样式设置为软件的默认值，而不需要每次都去手动调整，我真的太蠢了。     </p>
<p><img src="https://img.penghh.fun/2022/07/27/16588514542052.jpg"></p>
<h2 id="iShot"><a href="#iShot" class="headerlink" title="iShot"></a>iShot</h2><p>其实用 Xnip 之前，我用的截图软件是 iShot，但用 iShot 的过程中，遇到了一个可能是 bug 的问题：  </p>
<p>有些想叠加多层马赛克遮掉的区域，iShot 反而会把添加的多层马赛克变成半透明的，导致本来想遮掉的东西反而录出来了。     </p>
<p>今天重新试了一下 iShot 的马赛克功能，这个问题已经解决了。   </p>
<p>相比 Xnip，iShot 的功能更多，感觉已经超出了一款截图软件的能力范围了，功能如下图所示：  </p>
<blockquote>
<p>截图、标注、贴图、取色、录屏、录音、OCR（文字识别）、截图翻译。  </p>
</blockquote>
<p><img src="https://img.penghh.fun/2022/07/27/16588524917641.jpg"></p>
<p>在使用 iShot 拖拽截取局部区域时，截取的图片<strong>默认会带有圆角</strong>，效果如下图所示。   </p>
<p>有公众号运营经验的朋友，想必对「圆角」并不陌生，有些公众号为了给文章中的图片都加上圆角的效果，还得额外安装一个浏览器插件，而现在使用 iShot，也能实现同样的效果了。    </p>
<p><img src="https://img.penghh.fun/2022/07/27/16588528371492.jpg"></p>
<p>此外，iShot 在今年还加入了一个在我看来非常不错的功能——<strong>带壳截图</strong>，效果如下图所示，iShot 会进行全屏截图，并自动给截图最外层加上一个苹果电脑的样机（Mockup）。    </p>
<p>不确定这个灵感，是不是从手机上的截图应用 Picsew 上获得的？真棒👍          </p>
<p><img src="https://img.penghh.fun/2022/07/27/ishot20220727002016.png" alt="iShot_2022-07-27_00.20.16"></p>
<p>当然，iShot 内置的功能并不是可以完全免费使用的，这里说免费版的两个限制：</p>
<p>一个是带壳截图会带有水印，一个是 OCR 文字识别功能需要付费后才能使用。  </p>
<p>iShot 提供了两种付费模式，一种是订阅，一种是买断，买断价格为 78 元。如果选择买断，则需要下载另外一个新的应用 iShot Pro，如果选择订阅，应该是使用老的 iShot 就可以了。     </p>
<p><img src="https://img.penghh.fun/2022/07/27/16588525617540.jpg"></p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">       </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/07/24/2015-08-22-reverse-book-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/24/2015-08-22-reverse-book-summary/" itemprop="url">盛极而衰，过犹不及 - 读《逆转》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-24T20:48:06+08:00">
                2022-07-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <img src="/images/reverse-book.jpg" class="">

<p>文章写于 2015.8.22，更新于 2022.7.24 。</p>
<h3 id="一、序言"><a href="#一、序言" class="headerlink" title="一、序言"></a>一、序言</h3><blockquote>
<p>子贡问：“师与商也孰贤？” 子曰：“师也过，商也不及。” 曰：“然则师愈与？” 子曰：“过犹不及。”<br>—- 《论语·先进》</p>
</blockquote>
<p>最近看完了《逆转》这本书，作者是格拉德威尔（Gladwell）。这本书的作者格拉德威尔的另外两本书相对来说名气更大，分别是《引爆点》和《异类》。</p>
<p>这三本书的写作风格类似，作者是一个非常擅长讲故事的人，所以全书都是各种故事，在故事中再加上一些作者的观点。</p>
<p>在本书中，作者的观点非常简单，拿「过犹不及」四个字就可以概括。作者认为，任何优势，如果强大到一定程度，过了那个临界点，优势就会逆转，从另外一个角度看，优势甚至变成了劣势。</p>
<p>为了证实这个观点，作者讲了很多有趣的故事，我给大家分享几个比较有意思的。</p>
<h3 id="二、改变游戏玩法的故事"><a href="#二、改变游戏玩法的故事" class="headerlink" title="二、改变游戏玩法的故事"></a>二、改变游戏玩法的故事</h3><p>故事一：大卫和歌利亚的故事。大卫身材瘦小，歌利亚身材高大，但是在决斗中大卫利用自己移动快速和可以远距离投石攻击的特点，战胜了歌利亚。</p>
<p>故事二：篮球里面的全场紧逼故事。一个工程师爸爸，为了自己身材瘦小的女儿能够在篮球比赛中获胜，通过强化体能锻炼和全场紧逼策略，最终获胜。</p>
<p>以上两个是通过改变游戏玩法，来达到弱智胜强的故事。罗辑思维里面解释得比较好，即游戏规则其实很简单，但是社会里面的强者通常会在规则外面再包一层规则。比如说决斗，本来就是谁活谁胜，但是很多社会要求决斗的 “公平”，如果大卫真的和歌利亚 “公平” 的较量力量的话，那肯定是输的。</p>
<p>其实在互联网行业的人才招聘上，就出现过很多改变游戏玩法的类似故事。比如说，由于现在创业公司很多，风投的资金投入也很大，很多创业公司就利用 BAT 薪资涨幅无法快速决策的弱点，以高于 50% 的待遇来挖这些 BAT 的人。这样使得 BAT 在人才流动上相当被动，因为他们的薪酬体系造成他们无法通过快速决策来调整薪水。</p>
<h3 id="三、资源越多就越好吗？"><a href="#三、资源越多就越好吗？" class="headerlink" title="三、资源越多就越好吗？"></a>三、资源越多就越好吗？</h3><p>故事三：小班教育的故事。美国一些地区为了提高教育质量，施行 10 人左右的小班教育。结果发现，由于在小班里面大家很难形成社会一样的兴趣相投、性格互补的小团体，而造成这些学生在社交能力上反倒变弱了。而社交上的缺失会造成一些学生更加厌学。</p>
<p>故事四：有钱人教育的故事。有钱人在家教教育上，更难让孩子感受到资源缺乏，从而无法进行有效选择和决策，也很容易产生浪费资源的现象。中国有句古话叫「富不过三代」，其实就是这个意思。</p>
<p>「富二代」因为由「富一代」亲手教育，多少还是有一些价值观念能够传递下去，但是三代之后，第四代人很难拥有第一代人挣钱不易，生活艰辛的感受，那么在教育中让他学会到选择，放弃，节俭，合作等能力都相对来说更加困难。</p>
<p>我老婆是学教育的，她也告诉我过一个故事。很多家长认为，给小孩买的玩具越多越好，但其实不是的。小孩小时候专注力的培养特别重要，如果一下子给他太多玩具，他会感觉到无所适从，无法集中玩一件玩具。</p>
<p>而专注力如果不能在小时候进行有效培养，就会影响孩子的学习。因为在学习中，孩子需要在长达几十分钟的时间内保持专注。英国牛津大学教育心理学教授也指出，那些家境优越、玩具成山的小朋友智力水平往往比玩具较少的同龄孩子的智力水平低些。</p>
<p>这算是我听到过的最贴近身边的，资源过多产生逆转的故事。</p>
<h3 id="四、资源越少就越差吗？"><a href="#四、资源越少就越差吗？" class="headerlink" title="四、资源越少就越差吗？"></a>四、资源越少就越差吗？</h3><p>书中讲到美国律师博伊斯的故事，因为从小有阅读障碍，博伊斯一直成绩平平。但是因为他的阅读障碍，所以使得他在听力上锻炼出来惊人的能力。</p>
<p>在博伊斯的经典案件中，博伊斯可以通过和对方证人的现场提问交流，从对方的语气和语速中体会到对方的紧张程度，从而对他觉得有所隐瞒的细节进行追问。这个能力实在太强大了，就相当于一台精准的人工「测谎仪」，于是博伊斯能找到对方人证的有所隐瞒的地方。</p>
<p>作者的《异类》一本书中，提到过微弱优势通过多年选拔和累积，成为巨大优势的故事。但本书的故事说明，一些巨大的「缺陷」（比如阅读障碍症），也可能使得一个人被迫在另一方面不断强化，从而形成优势。</p>
<p>我自己也想到一个例子：假如有两个演员，一个长得比较帅，一个长得比较丑，那么长得帅的演员可以做偶像派，也可以做演技派，长得丑的人只能做演技派。这样的资源不平衡，会不会使得长得丑的人更加专注于提高自己的演技水平，从而在演技上更容易成功呢？我觉得从概率上来看，应该是的。</p>
<h3 id="五、利用逆转原理的斗争"><a href="#五、利用逆转原理的斗争" class="headerlink" title="五、利用逆转原理的斗争"></a>五、利用逆转原理的斗争</h3><p>书中重点讲了美国黑人领袖马丁路德金的故事，马丁路德金为了争取黑人的权益，有意识地利用各种方式来激化黑人和白人的矛盾，最终使得美国国会通过了《1964 年民权法》。这里面甚至有很多「不太光彩」的手法。在奥尔巴尼州，当地警察局长看破了马丁路德金的伎俩，采用了非常克制的方式，使得他花了 9 个月时间毫无进展。但马丁路德金换了一个州，最终在伯明翰州最科激化了矛盾。</p>
<!--

### 一些随想

在现在这个互联网时代，作为一个技术人员，访问 Google, Github, Stackoverflow 已经成为工作必需的能力，而 Twitter 也是学习国外技术咨讯的最佳场所。但是在中国，我们总无法回避墙的存在。我们总是抱怨，抱怨，再抱怨。

但是，在看了《逆转》这本书后，我觉得在国家强调「互联网+」的时代，墙扮演的破坏力越大，越只会加速它的死亡。因为封锁过于严重，就会极大地影响人们的工作，生活以及商业上的创新和公平竞争。这一切都是对国家利益不利的。所以我反而希望大局域网早日建成，因为它建成的那一天，就是它灭亡的那一天。

-->

<h3 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h3><p>这两年，逆转的故事越来越多。今天你还是网红一哥，因为大家都关注你，明天你就可能因为不小心犯的错误被封禁。今天你还处在火爆的行业，明天可能就因为环境原因变得没人搭理。</p>
<p>反过来，像罗永浩、新东方这样，今天你可能跌入底谷，不放弃的话，明天又​可能再次成功。</p>
<p>如果要说《逆转》这本书教会了我什么，我觉得就是要用辩证的角度看待事情，思考的角度越多，就越容易还原事情的真相。</p>
<p>另外，遇事不大喜大悲，专注做好每一件有价值的事情，做长期的价值主义者​，也是当下的生存之道。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/07/23/2022-7-23-Notion/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/23/2022-7-23-Notion/" itemprop="url">笔记软件 Notion 更新了什么？</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-23T17:50:00+08:00">
                2022-07-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/ogUwVNFb2d5MXm5ELkMtyg">效率工具指南</a>」<br>文&#x2F;彭宏豪     </p>
<p>Hello 各位好，我是小豪。  </p>
<p>好久没写 Notion 相关的文章了，主要也是我有好长一段时间没有用 Notion 了，现在用的最多还是 flomo，在网上随处看见点什么、或是摘抄一下读书笔记，都会把它们扔进 flomo 中。   </p>
<p>说回 Notion，昨晚用 Notion 发现更新了一个新功能，打开数据库中的页面时，增加了一个侧边查看页面内容的视图：   </p>
<p>官网把这个视图称之为 Side peek，这个设计确实不错，在不改变页面层级的情况下，可以在右侧直接查看页面中的内容，减少了切换页面的操作，当然也支持在这个视图下编辑页面的内容。    </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585661518440.jpg"></p>
<p>点击上方的视图切换按钮，可以将当前的侧视图切换到之前的视图模式：居中视图和整页。    </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585665266290.jpg"></p>
<p>点击上&#x2F;下切换按钮，可以在保持当前视图的情况下，切换到数据库中的下一个页面。    </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585667331992.jpg"></p>
<p>如果你不喜欢这种新的视图模式，可以点击 database 右上角的「…」，在展开的菜单选择 Layout，点击其中的「Open pages in」，将其更换为原来的 Center peek 或者 Full page。     </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585668971421.jpg"></p>
<h2 id="行内链接预览"><a href="#行内链接预览" class="headerlink" title="行内链接预览"></a>行内链接预览</h2><p>如下图，当我们把鼠标移动到链接上方时，下方会弹出一个预览窗口，让我们在打开链接之前，可以提前预览一下链接的内容。   </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585648491882.jpg"></p>
<p>不过，行内链接预览并不支持所有的链接或应用，从 Notion 更新说明看到的，目前只支持 Jira、GitHub、Figma 等应用。  </p>
<p>想查看 Notion 支持链接预览的所有应用，可在 Notion 页面中输入 <code>/link</code>，弹出的菜单所展示的应用，插入的链接应该就可以在 Notion 中预览。  </p>
<p>应用列表名称：Figma、Hex、GRID、Jira、GitHub、Trello、Slack、Asana、Pitch、OneDrive、Zoom、Dropbox、Amplitude。  </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585652892061.jpg"></p>
<p>如果你粘贴到 Notion 的链接来自上面的其中一款应用，弹出的菜单与普通链接也存在着区别，这里提供了 3 个选项：   </p>
<ul>
<li>预览（即前面说到的行内链接预览）</li>
<li>提及（在链接末尾附上链接的域名）  </li>
<li>普通的链接</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/23/16585641579604.jpg"></p>
<p>作为对比，我们来看下，在 Notion 中粘贴普通的链接，例如 Vue3 中文文档链接，它弹出的选项：  </p>
<ul>
<li>普通链接    </li>
<li>创建书签</li>
<li>嵌入</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/23/16585641917243.jpg"></p>
<p>此外，当我们点击行内链接预览窗口右上角的「…」，选择「Turn into preview」，可以将当前的浮窗预览更改为固定的预览视图。  </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585681116295.jpg"></p>
<p>相应地，当切换到固定的预览视图时，预览窗口就会在页面内占据较大的面积。    </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585683817374.jpg"></p>
<h2 id="在页面中创建列的新方法"><a href="#在页面中创建列的新方法" class="headerlink" title="在页面中创建列的新方法"></a>在页面中创建列的新方法</h2><p>之前在页面中创建并列的 block 时，我都是用最传统的方法，将想要并排显示的 block 拖拽到前一个 block 的最右侧，当出现并排的提示时松手，就可以创建两个并排的 block，这两个并排的区块也可以称作两列。    </p>
<p><img src="https://img.penghh.fun/2022/07/23/20220723-171119.gif" alt="2022-07-23 17.11.19"></p>
<p>Notion 在这次更新中，增加了另外一些创建多列的方法：</p>
<p>如下图，用鼠标框选多个连续的 block，接着点击区块最前面的菜单，选择将多个 block 转换为 Columns，就可以快速创建出并排的多列。   </p>
<p><img src="https://img.penghh.fun/2022/07/23/xing-nei-lian-jie-yu-lan.gif" alt="行内链接预览"></p>
<p>另外的创建多列的方法：  </p>
<p>在页面中输入 <code>/col</code>，呼出创建多列的命令，可选择创建 2&#x2F;3&#x2F;4&#x2F;5 列。    </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585684615641.jpg"></p>
<p>假设选择了创建 4 列，由于最开始每一列中都没有内容，会看不到我们已创建的列，这时可以用鼠标框选一下空白区域，就能看到已有的 4 个横向排列的 block 占位符。     </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585686166258.jpg"></p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>最后简要总结一下 Notion 本次更新的内容：    </p>
<p><img src="https://img.penghh.fun/2022/07/23/16585679908411.jpg"></p>
<p>关于 Notion，如果你还有想了解的，可以在下方的评论区留言，没准我能帮你解答。   </p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">       </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/yarn-cwd-issue.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/yarn-cwd-issue.html" itemprop="url">从一次 yarn 命令死循环说起</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-23T00:00:00+08:00">
                2022-07-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近有个想法，希望在一个 yarn workspace 项目中实现任意一个子包中安装依赖时，都执行一些类似于初始化、同步配置的动作。</p>
<p>然而在操作过程中遇到了一个关于 <code>yarn --cwd</code> 有趣的问题，特地记录下来，希望能对后来者有所帮助。</p>
<h2 id="遇到什么问题呢"><a href="#遇到什么问题呢" class="headerlink" title="遇到什么问题呢"></a>遇到什么问题呢</h2><p>先交代一下我们项目的基本情况，它是一个通过 yarn workspace 管理的 monorepo 项目，使用的是 yarn v1.22.11 版本，目录结构大致如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">monorepo</span><br><span class="line">├── package.json</span><br><span class="line">├── app-a</span><br><span class="line">│   └── package.json</span><br><span class="line">├── app-b</span><br><span class="line">│   └── package.json</span><br><span class="line">└── config</span><br><span class="line">    └── package.json</span><br></pre></td></tr></table></figure>

<p>其中 <code>app-a</code> 和 <code>app-b</code> 都使用了 <code>config</code> 这个共享包：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@monorepo/config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;../config&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>我们需要在根目录的 <code>package.json</code> 中的 <code>preinstall</code> 钩子做一些初始化操作：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;preinstall&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./bin/init.sh&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>此时我们在根目录执行 <code>yarn</code> 或者 <code>yarn add &lt;pkg-name&gt;</code>，都会触发 <code>preinstall</code> 这个钩子，但在 <code>app-a</code> 中执行 <code>yarn</code>是不会触发根目录的 <code>preinstall</code> 钩子的。</p>
<p>因此，我们需要分别在每个子包上都加上这行，也即在每个子包安装依赖时都执行一下根目录的 <code>preinstall</code> 命令：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;preinstall&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yarn --cwd ../ preinstall&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>于是，奇怪的事情就发生了，当我在 <code>app-a</code> 中执行 <code>yarn</code> 的时候，它停留在安装 <code>@monorepo/config</code> 的阶段，同时我的电脑明显变得卡顿，于是打开 <code>htop</code> 一看，好家伙，满屏都是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4ark   40987  26.3  0.5 409250368  78624   ??  R  8:36下午   0:00.09 /usr/local/bin/node /usr/local/bin/yarn --cwd ../ preinstall</span><br></pre></td></tr></table></figure>

<p>CPU 占用率直接达到 100%，吓得我赶紧 kill 掉这些进程：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep preinstall | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs <span class="built_in">kill</span> -9</span><br></pre></td></tr></table></figure>

<h2 id="分析原因"><a href="#分析原因" class="headerlink" title="分析原因"></a>分析原因</h2><p>惊吓过后，来分析一下原因，很显然这段命令陷入了死循环，导致越来越多进程，于是尝试在每个子包中都手动执行一遍 <code>yarn --cwd ../ preinstall</code> 后，发现一切正常，那问题出在哪呢？</p>
<p>于是我再执行了一遍 <code>yarn</code>，并且用以下命令将进程信息复制出来，以便分析：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | pbcopy</span><br></pre></td></tr></table></figure>

<p>随后验证我刚刚的猜测，的确是这个命令在不断触发自己，导致死循环：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UID   PID  PPID   C STIME   TTY     TIME CMD</span><br><span class="line">501 50399 50379   0  8:50下午 ??   0:00.10 /usr/local/bin/node /usr/local/bin/yarn --cwd ../ preinstall</span><br><span class="line">501 50400 50399   0  8:50下午 ??   0:00.11 /usr/local/bin/node /usr/local/bin/yarn --cwd ../ preinstall</span><br><span class="line">501 50401 50400   0  8:50下午 ??   0:00.11 /usr/local/bin/node /usr/local/bin/yarn --cwd ../ preinstall</span><br><span class="line">501 50402 50401   0  8:50下午 ??   0:00.12 /usr/local/bin/node /usr/local/bin/yarn --cwd ../ preinstall</span><br></pre></td></tr></table></figure>

<p>由于三个分包执行的命令都一样，不清楚是不是由于某个分包引起，于是修改一下命令以便区分：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;preinstall&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo app-a &amp;&amp; yarn --cwd ../ preinstall&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>随后发现问题是出现在 <code>config</code> 这个子包，于是我把这个子包的 <code>preinstall</code> 命令去掉，果然没有这个问题了，非常奇怪。</p>
<p>难道是 <code>--cwd ../</code> 这个路径有问题？验证一下，把命令改成这样：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;preinstall&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pwd &amp;&amp; yarn --cwd ../ preinstall&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>发现 <code>pwd</code> 输出是这样子的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/4ark/projects/monorepo/app-a/node_modules/@monorepo/config</span><br></pre></td></tr></table></figure>

<p>从这里的输出我们发现了两个问题，第一个问题是：</p>
<ul>
<li>yarn workspace 共享包的 <code>preinstall</code> 被执行的时候，其实已经被拷贝到 <code>app-a</code> 的 <code>node_modules</code> 中，而不是在当前目录，因此 <code>--cwd ../</code> 并不指向项目根目录。</li>
</ul>
<p>这一点比较好理解，毕竟 <code>config</code> 作为一个依赖包，确实应该被拷贝到应用的 <code>node_modules</code> 。</p>
<p>而第二个问题就不太理解了，为什么明明设置了 <code>--cwd ../</code>，却依然在当前目录执行呢？按照预期 cwd 的指向应该是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/4ark/projects/monorepo/app-a/node_modules/@monorepo</span><br></pre></td></tr></table></figure>

<p>难道是我对 cwd 参数的理解有偏差？看一下 yarn 的文档中对 cwd 描述：</p>
<blockquote>
<p>Specifies a current working directory, instead of the default <code>./</code>. Use this flag to perform an operation in a working directory that is not the current one.</p>
<p>This can make scripts nicer by avoiding the need to <code>cd</code> into a folder and then <code>cd</code> back out.</p>
</blockquote>
<p>从文档的描述来看，cwd 的作用不就是代替 <code>cd</code> 吗，但现在的结果看来 <code>yarn --cwd ../ preinstall</code> 并不等价于 <code>cd ../ &amp;&amp; yarn preinstall</code> 。</p>
<p>这就不得不让人疑惑 cwd 的定位方式了，在网上搜寻一番没找到相关的讨论，那只能自己动手丰衣足食，直接从 yarn 源码中寻找答案。</p>
<h2 id="分析源码"><a href="#分析源码" class="headerlink" title="分析源码"></a>分析源码</h2><p>前面我们说到，我们使用的是 yarn v1.22.11，在 yarn 的 GitHub 仓库中发现 v1 版本的最新版本停留在 v1.23.0-0，那我们就从这个版本的源码来进行分析，首先克隆代码到本地：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --depth=1 https://github.com/yarnpkg/yarn</span><br></pre></td></tr></table></figure>

<p>然后安装依赖并运行起来：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn &amp;&amp; yarn watch</span><br></pre></td></tr></table></figure>

<p>这时候它就会自动监听代码修改然后重新编译，我们查看 <code>package.json</code> 发现 yarn 的 bin 主要是调用 <code> ./bin/yarn.js</code>:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;bin&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;yarn&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./bin/yarn.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;yarnpkg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./bin/yarn.js&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>也就是我们直接执行 <code>bin/yarn.js</code> 的效果就如同执行 <code>yarn</code>，试一下查看版本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; /Users/4ark/projects/yarn/bin/yarn -v</span><br><span class="line">1.23.0-0</span><br></pre></td></tr></table></figure>

<p>PS：当然你也可以在项目目录下使用 <code>npm link</code> 把它挂载到本地中。</p>
<p>接下就是一番调试，终于定位到可以回答我们疑问的代码，<a target="_blank" rel="noopener" href="https://github.dev/yarnpkg/yarn/blob/6db39cf0ff684ce4e7de29669046afb8103fce3d/src/cli/index.js#L37-L51">在这里</a>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findProjectRoot</span>(<span class="params">base: string</span>): string &#123;</span><br><span class="line">  <span class="keyword">let</span> prev = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">let</span> dir = base;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (fs.<span class="title function_">existsSync</span>(path.<span class="title function_">join</span>(dir, constants.<span class="property">NODE_PACKAGE_JSON</span>))) &#123;</span><br><span class="line">      <span class="keyword">return</span> dir;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    prev = dir;</span><br><span class="line">    dir = path.<span class="title function_">dirname</span>(dir);</span><br><span class="line">  &#125; <span class="keyword">while</span> (dir !== prev);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> base;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cwd = command.<span class="property">shouldRunInCurrentCwd</span> ? commander.<span class="property">cwd</span> : <span class="title function_">findProjectRoot</span>(commander.<span class="property">cwd</span>);</span><br></pre></td></tr></table></figure>

<p>可以看到 cwd 的定位方式是从当前目录寻找是否存在 <code>package.json</code>，若存在，则返回此目录，否则将目录经过 <code>path.dirname</code> 处理一遍，继续寻找，直到寻找到最外层。</p>
<p>那么这里最关键的是 <code>path.dirname</code> 的返回值，我们先看一下文档对于它的描述：</p>
<blockquote>
<p>The <code>path.dirname()</code> method returns the directory name of a <code>path</code>, similar to the Unix <code>dirname</code> command. Trailing directory separators are ignored,</p>
</blockquote>
<p>就是返回一个路径中的目录部分，作用与 unix 下的 dirname 命令一致，通常是这么使用的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">dirname</span> /4ark/app/index.js</span><br><span class="line">/4ark/app</span><br><span class="line"></span><br><span class="line">&gt; <span class="built_in">dirname</span> /4ark/app/packages/index.js</span><br><span class="line">/4ark/app/packages</span><br></pre></td></tr></table></figure>

<p>是不是会肤浅地认为它的作用就是返回一个路径的上一级目录？如果传入的是一个绝对路径，确实可以这么肤浅地认为，然而当传入的是一个相对路径时，情况就不一样了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">dirname</span> ../app/index.js</span><br><span class="line">../app</span><br><span class="line"></span><br><span class="line">&gt; <span class="built_in">dirname</span> ../../</span><br><span class="line">../</span><br><span class="line"></span><br><span class="line">&gt; <span class="built_in">dirname</span> ../</span><br><span class="line">问: 会返回什么呢？</span><br></pre></td></tr></table></figure>

<p>答案是：<code>.</code>，也就是当前目录。</p>
<p>那这里就能回答我们之前的问题，为什么在 <code>node_module/@monorepo/config</code> 中使用 <code>yarn --cwd ../ preinstall</code> 却在当前目录执行，因为它的上一级 <code>node_modules/@monorepo</code> 不存在 <code>package.json</code>，所以经过 <code>dirname ../</code> 处理后 cwd 的指向就是当前目录。</p>
<p>如果对 node.js 中 <code>path.dirname</code> 的实现方式感兴趣，可以看这里 <a target="_blank" rel="noopener" href="https://github.com/jinder/path/blob/master/path.js#L538-L554">path.js#L538-L554</a>。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>摸清楚原因后，那解决这个问题也不是难事，只要我们把相对路径改成绝对路径，是不是就能解决这个问题了？</p>
<p>思考一下，其实 <code>yarn --cwd ../ preinstall</code>，把 <code>../</code> 改成绝对路径行不行呢？比如在本文的场景，<code>../</code> 其实就是项目的根目录，那我们完全可以通过别的方式获取到项目的根目录，比如 在 git 中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rev-parse --show-toplevel</span><br></pre></td></tr></table></figure>

<p>所以，我们把命令改成这样，问题就迎刃而解了：</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- yarn --cwd ../ preinstall</span></span><br><span class="line"><span class="addition">+ yarn --cwd $(git rev-parse --show-toplevel) preinstall</span></span><br></pre></td></tr></table></figure>

<p>那就不得不提一下，其实在 yarn v2 中新增了一个 <code>--top-level</code>  属性，它的作用刚好就是为了解决这个问题。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>其实我们再回过头来想，在本文的例子中，根本不需要在 <code>config</code> 目录中添加 <code>preinstall</code> 这个钩子，因为它作为共享包，每次修改都必然要在其它使用这个包的地方，重新安装一次，所以只要确保这些地方会执行 <code>preinstall</code> 就可以了，那也就意味着不会出现本文遇到的问题。</p>
<p>不过，多踩坑也不是坏事，只要搞清楚背后的原因，问题也就不是问题。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/07/16/2022-7-16-canonandobs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/16/2022-7-16-canonandobs/" itemprop="url">佳能相机M50如何用作直播摄像头？</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-16T20:25:00+08:00">
                2022-07-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/-G0BOfVRHXKXuyIqRFPimw">效率工具指南</a>」<br>文&#x2F;彭宏豪，笔名&#x2F;安哥拉    </p>
<p>Hello 各位周末好，我是小豪。    </p>
<p>今天翻出吃灰已久的相机，想起前不久在 Mac 派公众号上看到的一篇文章《<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzI2MTAzMzcyNQ==&mid=2648558158&idx=1&sn=b079c1661b51fdd33ba1253bccbb28e4&chksm=f249f1dcc53e78ca9d16747416c0bd7d5fbe382356dfdc1b43ae6d2aca989298a9ba71e471dc&mpshare=1&scene=1&srcid=07094gvVTUl6R8cKVwX6CiGU&sharer_sharetime=1657335757218&sharer_shareid=00d5750dc68bf55f6cd8b19d034950bf#rd">怎么把你的相机变成 Mac 网络摄像头</a>》，想自己尝试一下，怎么把手中的佳能 M50 用作直播的镜头呢？   </p>
<p>整体弄下来其实很快，比较花时间的环节是：找相机和电脑相连的数据线（HDMI 或者安卓手机旧款充电线都可以）、以及佳能软件与电脑系统的适配。  </p>
<p>先看一下最终的效果：  </p>
<p>下图是直播软件 OBS 从相机镜头捕获的画面，我把相机放在了笔记本电脑的后面，图片右侧的黑色物体就是笔记本电脑。          </p>
<p>只要 OBS 能拿到相机拍摄的东西，我们就能把相机用于直播了，不管是视频号直播，还是其他的平台。       </p>
<p><img src="https://img.penghh.fun/2022/07/16/snipaste20220716172458.png" alt="Snipaste_2022-07-16_17-24-58"></p>
<p>整个流程需要用到两款软件：  </p>
<ul>
<li>佳能推出的 EOS Webcam Utility 直播软件    </li>
<li>开源免费的直播软件 OBS</li>
</ul>
<h2 id="常规的相机直播流程"><a href="#常规的相机直播流程" class="headerlink" title="常规的相机直播流程"></a>常规的相机直播流程</h2><p>在说具体操作之前，我们先来简单了解一下，使用相机进行直播的流程：   </p>
<p>你需要先有一台支持 HDMI 输出的相机，还需要有一个硬件「<strong>视频采集卡</strong>」，有了视频采集卡，才能将相机拍摄到的画面，传输给我们的电脑。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16579650382634.jpg"></p>
<p>但是在我们这个直播流程中，视频采集卡并不是必须的，我们可以使用佳能或其他相机厂商推出的「直播软件」，起到取代视频采集卡的作用，这样就省去了买硬件的钱💰了。       </p>
<p><img src="https://img.penghh.fun/2022/07/16/16579649735843.jpg"></p>
<p>说明：上面👆这两张截图，来自我喜欢的一位 Up 主「极地手记」的视频《<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1ya4y1v7hY">【保姆教学】不用采集卡，佳能相机直播指南（支持G7X3，M50，M6II） by 极地手记</a>》。          </p>
<h2 id="EOS-Webcam-Utility"><a href="#EOS-Webcam-Utility" class="headerlink" title="EOS Webcam Utility"></a>EOS Webcam Utility</h2><p>EOS Webcam Utility，是佳能在 2020 年上线的一款直播软件，这个年份有些特殊，可能就像 Up 主极地手记在视频中说到的那样（大意）：   </p>
<blockquote>
<p>疫情催生了在线教学或直播的需求，相机厂商看到了这个需求，顺势推出可把相机用于直播的软件。         </p>
</blockquote>
<p><img src="https://img.penghh.fun/2022/07/16/16579648740959.jpg"></p>
<p>EOS Webcam Utility 既有 Windows 也有 macOS 版本，不过 <strong>macOS 版本的限制比较多</strong>，你只能在 macOS 10.13-10.15 的系统上使用，如果你的 Mac 系统已经更新到了 macOS 11 以上，那就和这个软件无缘了。    </p>
<p>Windows 系统的限制少一些，只要是 Win10 的系统都是可以使用的。  </p>
<p>也是因为系统的问题，我又搬出了好久没用的 Windows 笔记本。     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16579655857407.jpg"></p>
<p>另外还需要说明的是，<strong>并不是所有的佳能相机都可以使用这个软件来直播</strong>，在下载软件时需要根据相机的型号来查找，才能知道佳能是否推出了对应的软件。  </p>
<p>如果你手里有佳能的相机，可以看看自己购买的相机型号，是否在下图的列表中：    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16579659655294.jpg"></p>
<p>EOS Webcam Utility 下载地址：<br><a target="_blank" rel="noopener" href="https://www.canon.com.cn/special/webcam/index.html">https://www.canon.com.cn/special/webcam/index.html</a>      </p>
<p>下面以 Win10 系统使用直播软件 EOS Webcam Utility 为例进行介绍：    </p>
<p>将佳能的直播软件下载到本地，解压下载的文件，双击打开文件夹中的 setup 文件，就能开始安装。     </p>
<p><img src="https://img.penghh.fun/2022/07/16/shuang-jisetup.png" alt="双击setup"></p>
<p>安装好软件后，用数据线将相机与电脑进行连接，连接后电脑和相机分别会有反应：  </p>
<p>Win10 电脑右下角会有一个弹窗；相机屏幕会出现一个电脑的图标，就表示相机已经连接到电脑上了。    </p>
<h2 id="OBS"><a href="#OBS" class="headerlink" title="OBS"></a>OBS</h2><p>相机连接到电脑后，想要进行直播，还需要用到另外一个软件，那就是 OBS。  </p>
<p>打开 OBS，点击「来源」左下角的加号，在弹出的面板，选择添加「视频捕获设备」，会弹出如下图的窗口。  </p>
<p>点击设备，在下拉列表中选择刚安装的软件名称「EOS Webcam Utility」，顺利地说，你就能在 OBS 中看到相机捕获的画面了。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/tian-jia-she-bei-lai-yuan.png" alt="添加设备来源"></p>
<p>到这里，我们就完成了将相机画面导入直播软件 OBS 的步骤。  </p>
<p>接下来如果你想把相机捕获的画面推送到直播平台，例如视频号等，就需要再了解一点点「视频推流」的东西。   </p>
<p>关于 OBS 的使用，之前既有写过文章，也有录过视频，这里就不过多介绍。   </p>
<p>感兴趣的可以看我发布在 B 站的一个「视频号竖屏直播」的视频：   </p>
<p><img src="https://img.penghh.fun/2022/07/16/img2856.PNG" alt="IMG_2856"></p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://img.penghh.fun/2023/03/25/48844555552858t2.JPG" alt="48844555552858T2">   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://img.penghh.fun/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/07/16/2022-7-16-vue3learnnote2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/07/16/2022-7-16-vue3learnnote2/" itemprop="url">前端框架 Vue3 学习笔记（二）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-07-16T10:08:00+08:00">
                2022-07-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>注：学习笔记来自 coderwhy 老师的 Vue3 课程。  </p>
<h2 id="Vue3-组件化开发"><a href="#Vue3-组件化开发" class="headerlink" title="Vue3 组件化开发"></a>Vue3 组件化开发</h2><p><img src="https://img.penghh.fun/2022/07/16/16490467364421.jpg"></p>
<p>在 VS Code 中可以安装的两个提升 Vue 开发效率的插件：   </p>
<ul>
<li>Vue VSCode Snippets</li>
<li>Vetur</li>
</ul>
<p>安装 Vue VSCode Snippets 插件后，在 <code>App.vue</code> 文件中输入 <code>vbase-css</code>，就可以快速插入下面的代码片段：     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16490463789945.jpg"></p>
<p>想在 <code>App.vue</code> 中使用其他的组件(拆分出去的组件)，例如 <code>Header.vue</code>、<code>Main.vue</code>、<code>Footer.vue</code>，有两种方法：   </p>
<ul>
<li>把 <code>Header.vue</code>、<code>Main.vue</code>、<code>Footer.vue</code> 注册成全局组件（不推荐）     </li>
<li>局部注册</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/16/16490525310249.jpg"></p>
<h2 id="组件的通信"><a href="#组件的通信" class="headerlink" title="组件的通信"></a>组件的通信</h2><p><img src="https://img.penghh.fun/2022/07/16/16490537753776.jpg"></p>
<p>父子组件间的通信：  </p>
<ul>
<li>父组件传递给子组件：通过 props 属性；    </li>
<li>子组件传递给父组件：通过 $emit 触发事件。</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/16/16490624835915.jpg"></p>
<h3 id="父组件传递给子组件"><a href="#父组件传递给子组件" class="headerlink" title="父组件传递给子组件"></a>父组件传递给子组件</h3><p><img src="https://img.penghh.fun/2022/07/16/16490626628599.jpg"></p>
<p>父组件传递给子组件 - <strong>字符串数组</strong>     </p>
<p>这里的字符串数组，指的是：<strong>子组件的 props 字段传入的是一个数组</strong>。      </p>
<p><img src="https://img.penghh.fun/2022/07/16/16490642820092.jpg"></p>
<p>父组件传递给子组件 - <strong>对象类型</strong>     </p>
<p>子组件的 props 的值为对象类型时，可以对传入属性的值做更多的限制：  </p>
<ul>
<li>比如指定传入的 attribute 的类型    </li>
<li>指定传入的 attribute 是否必传     </li>
<li>指定的 attribute 没有传入值时，它的默认值 default</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/16/16490701610690.jpg"></p>
<p><img src="https://img.penghh.fun/2022/07/16/16490781070827.jpg"></p>
<p>传入 attribute 的值可以是哪些类型？   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16490767000197.jpg"></p>
<p>在 vue 文件，template 元素中的属性采用驼峰命名法是没问题的，因为 template 的代码是由 vue-loader 解析的，而不是由浏览器解析。</p>
<p>但建议还是采用 短横线分隔命名 的命名方式。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16490825001812.jpg"></p>
<h3 id="非Prop的Attribute"><a href="#非Prop的Attribute" class="headerlink" title="非Prop的Attribute"></a>非Prop的Attribute</h3><p>当我们传递给一个组件某个属性，但是该属性并没有定义对应的 props 或者 emits，就称之为 非Prop的Attribute。  </p>
<p>常见的包括 class、style、id 属性等。   </p>
<p>这里需要注意：<br>div 元素都有 class 属性；而自定义的组件，例如 <code>&lt;show-message&gt;</code> 是没有 class 属性的。  </p>
<p>非Prop的Attribute 有 3 种情况：   </p>
<ul>
<li>当(子)组件有单个根节点时，非Prop的Attribute将自动添加到根节点的 Attribute 中。这个称为 Attribute 继承。   </li>
<li>如果不希望(子)组件的根元素继承 attribute，可以在(子)组件中设置 <code>inheritAttrs: false</code>。</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/16/16491198403110.jpg"></p>
<ul>
<li>多个根节点的 attribute：</li>
</ul>
<p>这里的多个根节点，是指子组件的 template 包含的多个标签，没有包裹到一个 div 标签里面。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16491206777172.jpg"></p>
<h3 id="子组件传递给父组件"><a href="#子组件传递给父组件" class="headerlink" title="子组件传递给父组件"></a>子组件传递给父组件</h3><p><img src="https://img.penghh.fun/2022/07/16/16491443014769.jpg"></p>
<p>案例：子组件中创建两个按钮，当按钮发生点击后，父组件中的 counter 计数器的数字相应发生变化。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16491389406671.jpg"></p>
<p><code>this.$emit()</code> 除了可以给父组件传递事件，还可以传递其他的参数，例如下图的 this.num。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16491436847595.jpg"></p>
<h2 id="非父子组件的通信"><a href="#非父子组件的通信" class="headerlink" title="非父子组件的通信"></a>非父子组件的通信</h2><p>非父子组件的通信，主要有两种方式：  </p>
<ul>
<li>Provide&#x2F;Inject   </li>
<li>Mitt 全局事件总线</li>
</ul>
<h3 id="Provide-和-Inject"><a href="#Provide-和-Inject" class="headerlink" title="Provide 和 Inject"></a>Provide 和 Inject</h3><p>Provide&#x2F;Inject 用于非父子组件之间共享数据：   </p>
<ul>
<li>比如有一些深度嵌套的组件（层级比较深），子组件想要获取父组件的部分内容；   </li>
<li>在这种情况下，如果我们仍然将 props 沿着组件链逐级传递下去，就会非常的麻烦；</li>
</ul>
<p>对于这种情况，我们可以使用 Provide 和 Inject：    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16491743528708.jpg"></p>
<p>从父组件向孙组件传递数据，最简单的用法，父组件的 provide 字段传入一个对象，孙组件的 inject 字段传入对象的 key。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16492032723206.jpg"></p>
<p>如果父组件的 provide 需要<strong>用到来自 data 字段的数据</strong>，那么原先传入 provide 的对象就需要改写成一个函数。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16492595713475.jpg"></p>
<p>如果我们希望父组件 provide 提供的数据变成<strong>响应式</strong>，一般会用到 computed 函数，当传入的参数发生变化时(依赖发生变化)，computed 就会重新计算一个新的值。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16492642016632.jpg"></p>
<p>computed 函数返回的是一个 ref 对象。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16492602515142.jpg"></p>
<h3 id="全局事件总线-mitt-库"><a href="#全局事件总线-mitt-库" class="headerlink" title="全局事件总线 mitt 库"></a>全局事件总线 mitt 库</h3><p>eventBus：事件总线   </p>
<p>总线这个概念来源于操作系统。  </p>
<p>需要安装第三方库 mitt：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mitt   </span><br></pre></td></tr></table></figure>

<p>安装 mitt 库之后，在根目录创建一个文件 <code>eventbus.js</code>，导入 mitt 函数。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16493478849077.jpg"></p>
<p>案例需求：当我们点击 About 组件中的按钮时，HomeConnect 组件可以监听到点击事件。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16493481477101.jpg"></p>
<p>About 和 HomeConnect 两个组件都要引入前面安装的 mitt 库。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16493770715963.jpg"></p>
<p>发射多个事件，可以使用通配符接收所有事件。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16493792161633.jpg"></p>
<h3 id="mitt-的事件取消"><a href="#mitt-的事件取消" class="headerlink" title="mitt 的事件取消"></a>mitt 的事件取消</h3><p>取消掉之前注册的函数监听    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16493793602777.jpg"></p>
<h2 id="插槽-Slot"><a href="#插槽-Slot" class="headerlink" title="插槽 Slot"></a>插槽 Slot</h2><p><img src="https://img.penghh.fun/2022/07/16/16494385809566.jpg"></p>
<p>插槽的使用过程其实是<strong>抽取共性、预留不同</strong>；<br>会将<strong>共同的元素、内容</strong>封装在组件内；<br>同时会将不同的元素使用 Slot 作为占位，让外部决定到底显示什么样的元素。   </p>
<p>如何使用插槽呢？  </p>
<ul>
<li>Vue 中将 <code>&lt;slot&gt;</code> 元素作为<strong>承载分发内容</strong>的出口；   </li>
<li>在封装组件中，使用特殊的元素 <code>&lt;slot&gt;</code> 就可以为封装组件开启一个插槽；   </li>
<li>该插槽插入什么内容取决于<strong>父组件</strong>如何使用。</li>
</ul>
<h2 id="插槽的基本使用"><a href="#插槽的基本使用" class="headerlink" title="插槽的基本使用"></a>插槽的基本使用</h2><p><img src="https://img.penghh.fun/2022/07/16/16494403283741.jpg"></p>
<h3 id="插槽的默认内容"><a href="#插槽的默认内容" class="headerlink" title="插槽的默认内容"></a>插槽的默认内容</h3><p>使用多个插槽，每个插槽分别显示不同的内容。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16494728351719.jpg"></p>
<p><img src="https://img.penghh.fun/2022/07/16/16494730576793.jpg"></p>
<p>动态插槽名：有时候在一些高级组件中，我们给 <code>&lt;slot&gt;</code> 的插槽名 name 属性赋的值不是写死的，会通过一个配置文件来传入一个值。   </p>
<p>使用动态插槽名的时候，template 元素的 v-slot 绑定的插槽名需要加一个 []，因为这绑定的是一个<strong>变量</strong>。     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16494742327221.jpg"></p>
<p>具名插槽的缩写</p>
<p><code>v-slot:</code>可以简写为一个井号 #。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16494744045184.jpg"></p>
<h2 id="渲染作用域"><a href="#渲染作用域" class="headerlink" title="渲染作用域"></a>渲染作用域</h2><p>Vue 有一个渲染作用域的概念。  </p>
<p>看下面的一个小例子：  </p>
<p>button 虽然最终会替换掉插槽中的 slot 元素（button 的内容虽然最终会显示在 slot 的位置），但它是在 <code>App.vue</code> 中完成编译的，不能调用子组件 data 中的 title。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16494772045221.jpg"></p>
<p>如果父组件想使用来自子组件的数据，需要用到作用域插槽。   </p>
<h3 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h3><p>在用到一些第三方 UI 库，或者封装高级组件的时候会用到作用域插槽。   </p>
<p>父组件可以自由控制子组件插槽最终的显示效果。   </p>
<p>这里的 slotProps 可以更换为其他的名字，但通常情况下就是使用 slotProps。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16494880092964.jpg"></p>
<p><img src="https://img.penghh.fun/2022/07/16/16494901817611.jpg"></p>
<p>独占默认插槽的缩写   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16494902855215.jpg"></p>
<p>默认插槽 default 和具名插槽混合     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16494903178859.jpg"></p>
<h2 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h2><p>需求：当我们点击父组件中的 3 个按钮时，下方的子组件（页面）会跟着切换。   </p>
<p>实现需求的 3 个方法：  </p>
<ul>
<li>使用条件判断   </li>
<li>使用动态组件    </li>
<li>使用 Vue 路由（对简单需求来说，路由的方法比较复杂，没必要）</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/16/16495962266742.jpg"></p>
<p>动态组件：  </p>
<p><strong>component 是 Vue 内置的组件</strong>，通过绑定 is 属性可以实现子组件间的切换。  </p>
<p>这种方法，相比条件判断更为简洁。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16495964525735.jpg"></p>
<p><img src="https://img.penghh.fun/2022/07/16/16495966747791.jpg"></p>
<h2 id="认识-keep-alive"><a href="#认识-keep-alive" class="headerlink" title="认识 keep-alive"></a>认识 keep-alive</h2><p>keep-alive 是 Vue 内置的组件，不需要自行定义。</p>
<p>前面点击按钮切换子组件的案例中，每次切换不同的子组件时，原先创建的子组件都会被销毁。  </p>
<p>如果我们想在切换的时候，保留当前子组件的状态，例如保留我们在子组件中输入的内容、或是点击按钮累计得到的数字，这时就需要用到 keep-alive。  </p>
<p>它可以将子组件销毁之前的状态<strong>缓存</strong>起来，这样当我们再次切换回子组件的时候，就可以看到切换前的状态啦。      </p>
<p><img src="https://img.penghh.fun/2022/07/16/16495972046498.jpg"></p>
<p>keep-alive 的属性   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16495976097574.jpg"></p>
<p>keep-alive 配置 include 或 exclude 属性时，需要在组件中添加一个 name 字段，指明组件的名称。     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16495979933786.jpg"></p>
<p>keep-alive 不设置 include 属性时，默认都是会缓存的。    </p>
<h2 id="Webpack-的代码分包"><a href="#Webpack-的代码分包" class="headerlink" title="Webpack 的代码分包"></a>Webpack 的代码分包</h2><p>运行 <code>npm run build</code> 对项目进行打包时，会得到两个 js 文件，一个是 <code>app.js</code>，一个是 <code>chunk.js</code>。   </p>
<p>随着我们自己编写的代码逻辑变多，打包得到的 <code>app.js</code> 文件会越来越大，在生产环境中会影响用户体验。   </p>
<p>对于一些不需要立即使用的组件，可以单独对它们进行拆分，拆分成一些小的代码块 <code>chunk.js</code>，会在需要用到的时候从服务器加载下来。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16497216154479.jpg"></p>
<p>打包生成的 <code>chunck-vendors.js</code> 文件，里面是项目用到的第三方的包，例如 vuejs、vue-router、axios。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16497205861230.jpg"></p>
<p>为了缩小 <code>app.js</code> 的体积，我们可以使用 Webpack 的<strong>分包</strong>操作，将我们自己编写的代码单独打包为一个文件，而不是都打包到 <code>app.js</code> 文件中。      </p>
<p>通过 <strong>import 函数</strong>导入的模块，后续 Webpack 对其进行打包时就会进行分包的操作。   </p>
<p>在打包后得到的 dist 文件夹中会多出一个 chunk-哈希值 的 js 文件。     </p>
<blockquote>
<p>import 函数的返回值是一个 Promise，就可以用 then 方法。   </p>
</blockquote>
<p><img src="https://img.penghh.fun/2022/07/16/16497210627347.jpg"></p>
<p>讲这个知识点有什么用呢？  </p>
<p><strong>Vue 的异步组件，就是基于 import 函数来实现</strong>。    </p>
<h2 id="Vue-异步组件"><a href="#Vue-异步组件" class="headerlink" title="Vue 异步组件"></a>Vue 异步组件</h2><p>对 Vue 组件（<code>.vue</code> 文件）利用 Webpack 进行分包，需要用到<strong>异步组件</strong>。   </p>
<p>从 Vue 框架中导入一个函数 defineAsyncComponent。   </p>
<p>调用函数 defineAsyncComponent 时，可以传入两种类型的参数：   </p>
<ul>
<li>工厂函数（更常用）    </li>
<li>传入一个对象类型</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/16/16501155712423.jpg"></p>
<p>defineAsyncComponent 函数传入工厂函数的写法：  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16501158350467.jpg"></p>
<p>defineAsyncComponent 函数传入对象的写法：  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16501165436309.jpg"></p>
<p>直接编写异步组件的情况比较少，一般是在配置路由的时候，把路由中的组件配置成异步组件。  </p>
<h2 id="异步组件和-Suspense-结合使用"><a href="#异步组件和-Suspense-结合使用" class="headerlink" title="异步组件和 Suspense 结合使用"></a>异步组件和 Suspense 结合使用</h2><p>Suspense 是悬念、悬而未决的意思。   </p>
<p>Suspense 是 Vue 内置的全局组件，有两个插槽：  </p>
<p>如果 default 插槽内的异步组件可以正常显示，那么就显示 default 插槽的内容；<br>如果 default 异步组件暂时无法显示，那么就会显示 fallback 的内容。   </p>
<p>下图的 <code>&lt;loading /&gt;</code> 是自定义的组件加载过程中会在页面显示的占位组件。     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16501171202222.jpg"></p>
<h2 id="refs-的使用"><a href="#refs-的使用" class="headerlink" title="refs 的使用"></a>refs 的使用</h2><p><img src="https://img.penghh.fun/2022/07/16/16501322219202.jpg"></p>
<p>获取组件内的元素 h2 或者子组件实例 nav-bar  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16501328215886.jpg"></p>
<p>子组件获取父组件或根组件，需要使用 $parent 和 $root。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16501613425848.jpg"></p>
<p>子组件 <code>NavBar.vue</code> 获取父组件 <code>App.vue</code> 的代码写法。   </p>
<p>这个比较少用，稍微了解一下就好。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16501616500921.jpg"></p>
<h2 id="认识生命周期"><a href="#认识生命周期" class="headerlink" title="认识生命周期"></a>认识生命周期</h2><p>什么是生命周期？   </p>
<p>每个组件都可能会经历从<strong>创建、挂载、更新、卸载</strong>等一系列的过程。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16501645437477.jpg"></p>
<h3 id="生命周期的流程"><a href="#生命周期的流程" class="headerlink" title="生命周期的流程"></a>生命周期的流程</h3><p><img src="https://img.penghh.fun/2022/07/16/16501778891709.jpg"></p>
<h3 id="缓存组件的生命周期"><a href="#缓存组件的生命周期" class="headerlink" title="缓存组件的生命周期"></a>缓存组件的生命周期</h3><p>缓存组件指的是 keep-alive。  </p>
<p>前面说到，keep-alive 可以保存 A 组件在切换之前的状态，之后重新用到 A 组件的时候，可以直接看到组件切换前保存的数据。  </p>
<p>这个过程意味着，从 A 组件切换到 B 组件的时候，A 组件不会被销毁，因而**不会调用 unmounted()<strong>；从 B 组件切换回 A 组件的时候，A 组件不需要重新创建，因此</strong>也不会调用生命周期中的 created()**。  </p>
<p>对于这两种情况，我们会使用另外两个生命周期函数：  </p>
<ul>
<li>activated()   </li>
<li>deactivated()</li>
</ul>
<p>还是上面的例子，当我们从 A 组件切换到 B 组件时，会调用 deactivated()；从 B 组件切换回 A 组件时，会调用 activated()。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16502085029627.jpg"></p>
<h2 id="组件的-v-model"><a href="#组件的-v-model" class="headerlink" title="组件的 v-model"></a>组件的 v-model</h2><p>这部分内容有点难。    </p>
<p>自定义组件的 v-model：  </p>
<p>等价于两个步骤，v-bind 绑定 modelValue，同时绑定一个事件 update。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16503280438972.jpg"></p>
<p>自定义组件 PhInput 中，使用 props 接收来自父组件传入的 modelValue。   </p>
<p>自定义组件中的 input 元素使用双向绑定 v-model，需要用到<strong>计算属性 computed</strong>。     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16503285313164.jpg"></p>
<h2 id="Vue3-过渡-动画实现"><a href="#Vue3-过渡-动画实现" class="headerlink" title="Vue3 过渡&amp;动画实现"></a>Vue3 过渡&amp;动画实现</h2><p><img src="https://img.penghh.fun/2022/07/16/16505582043721.jpg"></p>
<p>如果我们希望给<strong>单元素或者组件</strong>实现过渡动画，可以使用 <strong>transition 内置组件</strong>来完成动画。   </p>
<p>一个简单的例子：点击按钮，实现文字淡入淡出的效果   </p>
<p>将添加动画的元素包裹在内置组件 transition 中   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16505606064971.jpg"></p>
<h3 id="Vue-的-transition-动画"><a href="#Vue-的-transition-动画" class="headerlink" title="Vue 的 transition 动画"></a>Vue 的 transition 动画</h3><p><img src="https://img.penghh.fun/2022/07/16/16505608501704.jpg"></p>
<h3 id="transition-组件的原理"><a href="#transition-组件的原理" class="headerlink" title="transition 组件的原理"></a>transition 组件的原理</h3><p>transition 组件的原理，需要了解，面试有可能会问到。  </p>
<p>下图的 DOM 插件、删除操作，就对应我们前面的显示和隐藏。如果 Vue 没有找到 JS 钩子或者 CSS 过渡&#x2F;动画，显示和隐藏就会立即执行，不会有淡入或淡出的效果。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16505862207763.jpg"></p>
<h3 id="过渡动画-class"><a href="#过渡动画-class" class="headerlink" title="过渡动画 class"></a>过渡动画 class</h3><p>实现过渡动画，常用的 6 个 class：   </p>
<p>没有给 transition 组件添加 name 属性的时候，那么所有的 class 是以 v- 作为默认前缀。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16505869370996.jpg"></p>
<p>Vue 官方提供的示意图，帮助我们理解内置动画的原理：   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16505872101269.jpg"></p>
<h3 id="过渡-CSS-动画"><a href="#过渡-CSS-动画" class="headerlink" title="过渡 CSS 动画"></a>过渡 CSS 动画</h3><p>前面是通过 transition(过渡) 来实现动画效果，另外我们也可以通过 animation 来实现。  </p>
<p>过渡动画 transition 本质上是定义了两帧，第一帧是透明度为 0，第二帧是透明度为 1，即从透明度为 0 到透明度为 1。     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16568600121665.jpg"></p>
<p>使用 animation 动画，不需要像前面使用 transition 过渡动画那样定义 v-enter-from 和 v-leave-to，<strong>只需要定义 v-enter-active 和 v-leave-active</strong>。        </p>
<p>使用 <code>@keyframes</code> 定义帧动画，后面的 bounce 是帧动画的名称，可以自定义。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16507014426769.jpg"></p>
<p>过渡动画 transition 和 CSS 动画是可以同时存在的，即一个元素可以同时设置过渡动画和 CSS 动画。</p>
<p>同时设置了过渡动画和 CSS 动画，如果两个动画的时长是不一致的，就会出现某一个动画执行结束时，另外一个动画还没有结束，导致最终呈现的动画出现一些问题。  </p>
<p>这时我们可以在 transition 组件中添加一个额外的属性 type，指定时长更长的动画，保证添加的两个动画可以正常结束。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16568919118991.jpg"></p>
<p>transition 组件使用 duration 属性来指定过渡的时间，duration 可以传入两种类型的值，一个是 number 数字类型，一个是对象类型。  </p>
<p>使用数字类型时，duration 属性前面需要加多一个英文的冒号: ，表示值为 number 类型而非 string 类型。   </p>
<p>设置了 duration 属性后，在 <code>&lt;style&gt;</code> 标签中设置的过渡时间就会失效。    </p>
<p>duration 设置的时长单位为毫秒。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16507054945056.jpg"></p>
<h3 id="transition-过渡的-mode-属性"><a href="#transition-过渡的-mode-属性" class="headerlink" title="transition 过渡的 mode 属性"></a>transition 过渡的 mode 属性</h3><p>点击按钮实现两个元素来回切换，需要设置一个 mode 属性，否则一个元素消失的同时，另外一个元素会进来，两个动画的执行没有先后顺序，整体的动画会看起来很丑。        </p>
<p>mode 有两个值，一个是 out-in，一个是 in-out，前者是上一个元素消失后，下一个元素才出来；后者是下一个元素进来之后，上一个元素才消失。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16507064244859.jpg"></p>
<p>上面两个 h2 元素切换的例子，也可以把两个 h2 元素替换为两个组件：  </p>
<p><strong>组件间的切换需要用到动态组件</strong>，使用 Vue 内置的 component 组件，is 绑定一个三元表达式。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16507081389316.jpg"></p>
<h3 id="apear-初次渲染"><a href="#apear-初次渲染" class="headerlink" title="apear 初次渲染"></a>apear 初次渲染</h3><p>默认情况下，初次渲染（刷新页面的时候）是不会有动画的，如果希望初次渲染也有动画，可以在 transition 组件中添加一个 appear 属性。   </p>
<p>这里的 appear 是 <code>:appear=&quot;true&quot;</code> 的缩写。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16507191568653.jpg"></p>
<h3 id="第三方动画库-animate-css"><a href="#第三方动画库-animate-css" class="headerlink" title="第三方动画库 animate.css"></a>第三方动画库 <code>animate.css</code></h3><p>跨平台：做了很多 CSS 的兼容。   </p>
<p>如何使用 Animate 库呢？   </p>
<ul>
<li>安装 <code>animate.css</code> 库    </li>
<li>导入 <code>animate.css</code> 库的样式    </li>
<li>使用 animation 动画或者 animate 提供的类</li>
</ul>
<p><img src="https://img.penghh.fun/2022/07/16/16507197233393.jpg"></p>
<p>安装动画库：  </p>
<p>打开终端，在项目根目录下输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install animate.css</span><br></pre></td></tr></table></figure>

<p>安装好之后，在入口文件 <code>main.js</code> 中导入 <code>animate.css</code>。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16570402403705.jpg"></p>
<p><code>animate.css</code> 库有两种用法：   </p>
<ul>
<li>在 v-enter-active 和 v-leave-active 中配置 animation 名称、时长和动画模式（帧动画）     </li>
<li>直接使用库定义好的 class</li>
</ul>
<p>如果是第一种用法，在 <code>App.vue</code> 中给 transition 组件添加 name 属性，在样式部分配置 v-enter-active 和 v-leave-active，设置 animation 帧动画。 </p>
<p><img src="https://img.penghh.fun/2022/07/16/16570424603009.jpg"></p>
<p>帧动画的名称或效果，可从网站 <code>https://animate.style/</code> 查看，点击对应的动画名称，可以预览动画的效果。  </p>
<p>确认想要使用的效果，可以<strong>复制动画的名称</strong>，并在 <code>App.vue</code> 的样式，给帧动画设置动画时长和动画模式。      </p>
<p><img src="https://img.penghh.fun/2022/07/16/16570423814544.jpg"></p>
<p>第二种使用 <code>animate.css</code> 库的方法：直接使用动画库帮我们定义好的 class。     </p>
<p>通过这种方式使用 <code>animate.css</code> 库，我们不需要给 transition 组件添加 name 属性。   </p>
<p>点击动画名称右侧的「复制」按钮，可以复制动画对应的 class 类名。       </p>
<p><img src="https://img.penghh.fun/2022/07/16/16509009718186.jpg"></p>
<p>将 class 分别粘贴到 <code>enter-active-class</code> 和 <code>leave-active-class</code>，就可以应用动画了。  </p>
<p>不过每一个动画的前面都要加多一个 <code>animate__animated</code>，才能真正让动画生效。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16509010733571.jpg"></p>
<p>之所以每个类名前面要加上 <code>animate__animated</code>，是因为在 <code>animate.css</code> 库中，这个类名<strong>定义了动画的持续时间</strong>，有了时间，动画才能真正生效。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16570436479959.jpg"></p>
<p>如果想对 <code>animate.css</code> 库中的动画进行反转，可以在 <code>App.vue</code> 的样式部分，给动画的类名添加 animation-direction 属性，设置反转。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16570438163522.jpg"></p>
<p>如果同时存在自定义的 class，以及 name 定义的 class，那么<strong>自定义 class 的优先级是更高的</strong>。  </p>
<p><img src="https://img.penghh.fun/2022/07/16/16509013060383.jpg"></p>
<h3 id="认识-gsap-库"><a href="#认识-gsap-库" class="headerlink" title="认识 gsap 库"></a>认识 gsap 库</h3><p>gsap 是一个使用 JS 编写的动画库。   </p>
<p>之所以要使用 JS 动画库，是因为前面介绍的 CSS 动画库<strong>不够灵活</strong>，在涉及样式的值需要发生变化，或是比较复杂的动画时，CSS 动画库用起来就不够方便。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16509016069178.jpg"></p>
<p>安装 gsap 库的命令：   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gsap   </span><br></pre></td></tr></table></figure>

<p>在 <code>App.vue</code> 的 script 标签中导入 gsap 库：   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import gsap from &#x27;gsap&#x27;;   </span><br></pre></td></tr></table></figure>

<p><img src="https://img.penghh.fun/2022/07/16/16516524871642.jpg"></p>
<p>transition 组件在帮助我们执行动画的时候，它其实会回调很多动画生命周期的钩子。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16509899632408.jpg"></p>
<p><img src="https://img.penghh.fun/2022/07/16/16509912640720.jpg"></p>
<p>before-enter 相当于动画进入之前：v-enter-from<br>enter 相当于动画进入之时：v-enter-active<br>after-enter 相当于动画进入之后：v-enter-to   </p>
<p>before-leave 相当于离开之前：v-leave-from<br>leave：v-leave-active<br>after-leave：v-leave-to     </p>
<p><img src="https://img.penghh.fun/2022/07/16/16570680847413.jpg"></p>
<p>在这些钩子中使用 gsap 库，gsap 库常用的两个方法——from 和 to。    </p>
<p>使用 gsap 库对应的 api：  </p>
<p>传入钩子 <code>enter()&#123;&#125;</code> 的 el，是 element 的缩写。   </p>
<p><code>gsap.from()</code> 需要传入两个参数，一个是 target，指定我们要把动画设置在哪个元素上；一个是对象。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16516527417648.jpg"></p>
<p>gsap 官网提供的 JS 和 CSS 对照表：  </p>
<p>左侧是 gsap 库中 JS 的写法，右侧是对应的 CSS 样式含义。       </p>
<p><img src="https://img.penghh.fun/2022/07/16/16571299889315.jpg"></p>
<p>在使用 js 动画的时候，一般会给组件添加 <code>:css=&quot;false&quot;</code>，让 Vue 跳过 CSS 的检测，让我们原先给组件添加的 CSS 动画失效。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16571303073283.jpg"></p>
<h3 id="小案例：gsap-实现数字滚动递增动画"><a href="#小案例：gsap-实现数字滚动递增动画" class="headerlink" title="小案例：gsap 实现数字滚动递增动画"></a>小案例：gsap 实现数字滚动递增动画</h3><p>这个动画，在很多后台管理系统中会用到。   </p>
<p>监听器 watch，用来监听 counter 的变化，当 counter 发生变化，showNumber 也会随之发生变化，不过因为我们给 showNumber 设置了过渡时间 duration，它会随着时间流逝一点点地变成和 counter 一样的值，这样就实现了数字滚动递增动画的效果。   </p>
<p>这里还有一个小细节，数字滚动变化的时候，它不是整数而是小数，为了得到整数，可以在后面加多 toFixed(0)，保证取整。    </p>
<p>注意：这里用到的计算属性并不是必须的。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16516539070525.jpg"></p>
<h3 id="列表的过渡"><a href="#列表的过渡" class="headerlink" title="列表的过渡"></a>列表的过渡</h3><p>使用 Vue 内置的 <code>&lt;transition-group&gt;</code> 组件。      </p>
<p><img src="https://img.penghh.fun/2022/07/16/16572149100850.jpg"></p>
<p>动画案例中讲到了一个类似算法的东西：如何实现在数组中随机插入一个数字？   </p>
<p>需要生成一个随机数，同时用到数据的 splice() 方法。     </p>
<p><code>Math.random()</code> 可以随机生成 [0,1) 区间的小数。    </p>
<p><code>Math.random()</code> 乘以数组的长度 length&#x3D;10，可以得到 [0,10) 之间的随机数。  </p>
<p>再在最后<strong>向下取整</strong> <code>Math.floor(Math.radom() * this.number.length)</code>，可以得到 0 到 10 之间的整数，不包括 10，这些数字其实就对应数组的<strong>索引值</strong>，后面结合数组的 splice() 方法，在数组中随机的位置插入数字。        </p>
<p><img src="https://img.penghh.fun/2022/07/16/16573392061241.jpg"></p>
<p>插入的数字会从下而上，删除的数字会从上而下，与此同时，如果我们想让数字在（左右）移动时，也能有动画，该怎么做呢？   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16573397728519.jpg"></p>
<p>可以在样式中多增加一个 v-mode，过渡 transition 设置的是位移动画。    </p>
<p><img src="https://img.penghh.fun/2022/07/16/16573405656930.jpg"></p>
<p>当然，即便在样式中加上 v-move，在移除数字的时候，向左移动的数字还是没有动画的，这是因为被移除的数字，它是块级元素，在移除的过程中依旧会<strong>占据位置</strong>，导致右侧的数字想移动的时候被「挡」住了，只能等到数字移除后，一瞬间跳过去，就看不到我们想要的<strong>慢慢向左的移动动画</strong>。    </p>
<p>为了解决这个问题，我们可以额外给 v-leave-active 增加一个绝对定位，由于绝对定位的元素会脱离标准流，不会占据位置，这样就让能右侧的数字可以正常向左👈移动了。   </p>
<p><img src="https://img.penghh.fun/2022/07/16/16573403560090.jpg"></p>
<h3 id="打乱数字"><a href="#打乱数字" class="headerlink" title="打乱数字"></a>打乱数字</h3><p>给现有的动画案例，再添加一个额外的效果：<strong>打乱数组中所有元素的位置</strong>，也叫洗牌，英文是 shuffle。  </p>
<p>这需要用到一个第三方库 <strong>lodash</strong>，使用 npm 安装 lodash 库。   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install lodash    </span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">安装之后，在 js 部分导入 lodash 库：   </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>import _ from ‘lodash’;   </p>
<pre><code>
使用 _ 中的 shuffle() 方法，传入数组，将得到的值重新赋值给数组，就能打乱数组中元素的位置。   

![](https://img.penghh.fun/2022/07/16/16573414229513.jpg)

### 列表的交错过渡动画案例


![](https://img.penghh.fun/2022/07/16/16573464340722.jpg)


当我们在 input 输入框中输入英文字母（关键词 keyword）时，下面的无序列表只显示包含英文字母的文本。 

为实现过滤的效果，我们要用到 filter 高阶函数。 

![](https://img.penghh.fun/2022/07/16/16574475189848.jpg)

其中的 indexOf() 可以返回我们输入的英文字母在字符串中首次出现的位置。  

![](https://img.penghh.fun/2022/07/16/16574473537414.jpg)

这个案例中，制作动画用到了生命周期钩子，`beforeEnter() &#123;&#125;` 只需要传入 el 参数，不像 enter 和 leave 钩子需要传入 done 参数。     

![](https://img.penghh.fun/2022/07/16/16574481638520.jpg)



 

</code></pre>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/">&lt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/73/">73</a><a class="extend next" rel="next" href="/page/8/">&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">1451</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">914</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Laird Lau</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  

  

  
  

  

  

  

</body>
</html>
