<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Liunx Python Rust Goalng DevOPS" />










<meta name="description" content="个人随想，瞎子的世界">
<meta property="og:type" content="website">
<meta property="og:title" content="逐流小站">
<meta property="og:url" content="https://blog.feedscoin.com/page/10/index.html">
<meta property="og:site_name" content="逐流小站">
<meta property="og:description" content="个人随想，瞎子的世界">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Laird Lau">
<meta property="article:tag" content="Liunx Python Rust Goalng DevOPS">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blog.feedscoin.com/page/10/"/>





  <title>逐流小站</title>
  





<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MW47YH6RH0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MW47YH6RH0');
</script>





<meta name="generator" content="Hexo 7.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">逐流小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">想回到那个能随便跳槽的年代</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-03-06-fast-count-ability">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-03-06-fast-count-ability" itemprop="url">学会快速地估算</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-03-06T11:20:01+08:00">
                2022-03-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="一、从决策说起"><a href="#一、从决策说起" class="headerlink" title="一、从决策说起"></a>一、从决策说起</h2><p>这个世界上，任何决策都会有支持它的理由和反对它的理由。而如果你把这些理由都写到纸上的话，你会发现一开始很难做决策。</p>
<p>为了做出好的决策，你首先就会给这些理由赋予权重。通过权重，你就能做减法，把相对不重要的因素给忽略掉，关注核心的矛盾。</p>
<p>一个好的决策，就是关注到核心问题后的权衡。而估算，可以帮助我们快速收集决策因素。</p>
<h2 id="二、如何快速估算"><a href="#二、如何快速估算" class="headerlink" title="二、如何快速估算"></a>二、如何快速估算</h2><p>要拥有快速估算能力，需要：</p>
<ul>
<li>有拆分的能力，能够抽象出核心的计算路径。</li>
<li>有创新的能力，能够用更合适的角度来描述问题。</li>
<li>有公式化的能力，用一个公式简化所有计算。</li>
</ul>
<p>下面我用管理供应链遇到的一些场景给大家展开举例。</p>
<h3 id="2-1-印刷成本的估算"><a href="#2-1-印刷成本的估算" class="headerlink" title="2.1 印刷成本的估算"></a>2.1 印刷成本的估算</h3><p>假设我们需要分析供应链印刷品的价格。</p>
<p>首先，我们可以进行成本的拆分。通过研究，我们可以把价格拆分为原料价格、印刷工价、运输费用等。而印刷的工价又可以拆分为各种工序的工价。如果某些成本占比很小，那么你就可以忽略它。比如印刷品送货前的仓储费用很小，就可以忽略掉。</p>
<p>接着我们可以分析不同印量，不同工艺下面，主要的各项成本的占比。我们发现原料成本和工价成本加起来占到成本项的 90% 以上，那么我们就可以直接将印刷品的成本简化成:<br><code>成本 = 原料成本 + 工价</code>。</p>
<p>如果进一步我们发现二者的成本基本上大概一样，那我们就可以把成本简化为:<br><code>成本 = 原料成本 x 2</code>。</p>
<p>然后我们要有办法快速计算原料成本。</p>
<p>印刷品的原料成本传统的计算方式是：</p>
<ul>
<li>先计算需要用多少纸，然后折算成令，然后再计算每令的价格。</li>
<li>每令的价格是通过每吨的价格除以纸张每平米克重，再乘以每令纸的面积。</li>
</ul>
<p>这样的计算过程，使得你不用计算器很难快速算出来。通过观察，我们发现不同克重的纸张在采购的时候基本价格都集中在 6000 元每吨左右，所以我们可以简单地简化：<br><code>每克纸的价格 = 6000 / 1000 kg = 6000 / 1000000 g = 0.006 元</code></p>
<p>之后，我们如果要计算一个印刷品的成本，我们可以将公式简化为：<br><code>成本 = 克重 * 0.006 * 2</code> 即可。</p>
<p>那克重如何快速获得呢？很简单，放到称上称一下，或者拿手简单掂量一下，就会有一个快速的估计出来。</p>
<p>接下来我们要把这个公式“通用化”，可以看到，成本公式里面有两个系数是会变化的：</p>
<p>系数一：纸张每克成本。在上面这个公式中，该值是 0.006。这个对不同的印刷品其实不太一样，而且纸张价格会波动，造成计算偏差。比如白卡纸去年最高的时候超过了 1万一吨。所以我们可以根据实际的品类，来调整纸张每克的成本。如果在白卡纸1万一吨的时候，如果是一个白卡纸为主要原料的产品，它的成本速算公式中的每克成本就应该从 0.006 改为 0.01 。</p>
<p>系数二：纸张与工价的成本比例。不同品类的产品，纸张与工价的比例其实不太一样。比如手工类比较多的印刷品，其纸张与工价的成本比例可能不是 1:1，可能是 1:2。这样，在速算的时候，系数 2 就应该调整为 3，这样估算的时候才相对准确。</p>
<p>所以，对于某一个印刷品类，一个相对通用的成本速算的公式应该是：<br><code>成本 = 产品克重 * 纸张每克单价 * (1 + 工价成本占比/纸张成本占比)</code></p>
<h3 id="2-2-运输成本的估算"><a href="#2-2-运输成本的估算" class="headerlink" title="2.2 运输成本的估算"></a>2.2 运输成本的估算</h3><p>再拿运输的成本估算举例。运输涉及不同的计算方式，有按托算的，有按立方米计算的，不同的车能够装的托数也不太一样，造成估算困难。</p>
<p>但是如果我们把各种托数、公里数的信息放到一张表里面做人肉拟合，就会发现 <code>一托一公里一块钱</code> 可以很快估算出成本信息。</p>
<p>然后在这个基准上，把比较近的（例如 100 公里以内的），成本乘个 1.5 左右的系数；把比较远的（例如 1500 公里以上的），成本乘个 0.5 左右的系数，就可以很快估算出大概的成本。</p>
<h3 id="2-3-组装工序的成本估算"><a href="#2-3-组装工序的成本估算" class="headerlink" title="2.3 组装工序的成本估算"></a>2.3 组装工序的成本估算</h3><p>供应链的组装工序很复杂，每次报价都很乱，我们也搞不明白各个环节是不是真的要那么多钱。</p>
<p>直到有一个供应商介绍了一种方法，特别简单：供应商说，你自己把这个东西拆下来组装一遍，看看要花多少时间组装，我们就按那个时间来估算组装费用。</p>
<p>大家一听都觉得好，因为组装产线肯定比单个人做效率高，如果我们简单用单个人做的时间，再算上工人的每小时平均工资，就可以很快估算出这个费用，比拆分工序简单快捷多了。</p>
<h3 id="2-4-注塑成本的估算"><a href="#2-4-注塑成本的估算" class="headerlink" title="2.4 注塑成本的估算"></a>2.4 注塑成本的估算</h3><p>注塑成本最初我们也搞不太明白，也是一个供应商教我们，直接拿秤称重量。</p>
<p>就像纸张那样，我们可以通过重量来估算原料的成本，然后通过简单地统计各种注塑件原料成本与工费的比例，就可以列出几套速算公式出来。</p>
<h3 id="2-5-公司估值的毛估估"><a href="#2-5-公司估值的毛估估" class="headerlink" title="2.5 公司估值的毛估估"></a>2.5 公司估值的毛估估</h3><p>公司的估值计算也是一门学问，大家通过财报很难获得很精确的价值计算模型，所以只能估算。</p>
<p>有人用市盈率算，有人用市销率算，有人用现金流折现算，有人用对标公司算，总之都是为了决策而快速获得核心数据的办法。</p>
<p>算得不精确没关系，大差不差就行。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>快速估算可以让我们的决策变快。面对问题，我们需要抽象出问题的关键因素，构建出一个简单的公式模型，这样才能让计算变得简单，方便我们决策。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-weekly" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/weekly-03.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/weekly-03.html" itemprop="url">周刊第3期：持续折腾</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-03-06T00:00:00+08:00">
                2022-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="新文章"><a href="#新文章" class="headerlink" title="新文章"></a>新文章</h2><p>之前一直都有在写小抄的习惯，于是抽空整理了一下发到 Blog 上，希望能够帮助通过搜索引擎进来的同学们。</p>
<ul>
<li>《<a target="_blank" rel="noopener" href="https://4ark.me/post/git-tips.html">Git tips</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://4ark.me/post/hg-tips.html">Hg tips</a>》</li>
</ul>
<h2 id="折腾-iTerm2-tmux"><a href="#折腾-iTerm2-tmux" class="headerlink" title="折腾 iTerm2 + tmux"></a>折腾 iTerm2 + tmux</h2><p>很早之前就安装了 tmux，但是苦于一直记不住命令，也就没有坚持用。</p>
<p>不过其实 iTerm2 已经整合了 tmux，可以将 tmux 的各种命令操作映射到 iTerm2 本身的快捷键操作中，这可以大大降低 tmux 的学习成本，于是花了点时间折腾、以及 iTerm2 的外观调整，整体效果是这样的：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images202203050038886.png?imageMogr2/format/webp"></p>
<p>主要参考以下这两篇文章：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://toutiao.io/posts/q86tnu/preview">iTerm2 整合 Tmux 利器</a></li>
<li><a target="_blank" rel="noopener" href="https://haidong.dev/iTerm2%20%E8%AE%BE%E7%BD%AE%E8%AF%A6%E8%A7%A3/">iTerm2 设置详解</a></li>
</ul>
<h2 id="分享文章"><a href="#分享文章" class="headerlink" title="分享文章"></a>分享文章</h2><blockquote>
<p>一些本周阅读过的好文章、以及我的一些总结和个人思考；非常建议你直接阅读原文，毕竟一千个读者就有一千个哈姆雷特，而且我的理解可能是错的。</p>
</blockquote>
<h3 id="解剖-Netflix"><a href="#解剖-Netflix" class="headerlink" title="解剖 Netflix"></a><a target="_blank" rel="noopener" href="https://lanzhiheng.com/posts/no-rule-in-netflix">解剖 Netflix</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://lanzhiheng.com/posts/no-rule-in-netflix">《解剖 Netflix - 全美员工满意度最高的企业》 | Step By Step</a></em></p>
<p>这是本文作者从一本叫做《零规则》的书的笔记，主要讲述一家名为 Netflix 的科技公司的经营传奇。</p>
<p>这家公司是全美员工满意度最高的公司，而「零规则」这几个字，也正是 Netflix 的核心文化之一。</p>
<p>下面就来讲讲 Netflix 的不同之处：</p>
<ul>
<li><p>「零规则」并不是完全没有规则：「零规则」不代表 Netflix 是一家毫无规则的公司，它也有解雇员工的准则，而且可能比其他公司都要狠，甚至连 CEO 都能被解雇；它的零规则指的是它不会花时间制定考勤、打卡、费用报销、上班时长等细则，因为 Netflix 相信自己招聘的肯定是最出色的员工，否则，他们也无法在如此严苛的岗位筛选中存活下来。</p>
</li>
<li><p>行业的最高薪资：只招揽最优秀的人才，并且没有固定的涨薪幅度，而是鼓励员工出去面试，根据拿到的 offer 给予对应的涨幅。</p>
</li>
<li><p>同事不是家人：许多企业会宣称我们是一个大家庭、同事们都是家人。而 Netflix 认为同事是合作伙伴，而不是家人，因为如果在公司里大家都以家人相称反而会导致不能作出正确的决策。</p>
</li>
<li><p>以 Netflix 最大利益为考量：Netflix 采用树形的决策模式，底层员工不需要凡事去请示上司，因为自己才是决定这件事的最佳人选，Netflix 认为员工不会因为这个决定让自己蒙羞。</p>
</li>
<li><p>无休假规定也没有固定的工作时长：如果一个人用工作时长的一半就完成了他的工作，剩下的时间他选择阳光海滩。而另一个人每天加班加点，超时工作才能把事情做完，果断给第一个人加工资。</p>
</li>
<li><p>信息透明：没有「报喜不报忧」的潜规则，Netflix 认为自家员工都是成年人，有能力辨别什么能说什么不能说。</p>
</li>
</ul>
<h3 id="在生产环境中使你的-npm-i-速度提升-50"><a href="#在生产环境中使你的-npm-i-速度提升-50" class="headerlink" title="在生产环境中使你的 npm i 速度提升 50%"></a><a target="_blank" rel="noopener" href="https://shanyue.tech/frontend-engineering/npm-install.html">在生产环境中使你的 npm i 速度提升 50%</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://shanyue.tech/frontend-engineering/npm-install.html">《在生产环境中使你的 npm i 速度提升 50%》 | 山月行</a></em></p>
<ul>
<li>选择时延低的 <code>registry</code>，需要企业技术基础建设支持</li>
<li><code>NODE_ENV=production</code>，只安装生产环境必要的包(如果 dep 与 devDep 没有仔细分割开来，工作量很大，可以放弃)</li>
<li><code>CI=true</code>，npm 会在此环境变量下自动优化</li>
<li>结合 CI 的缓存功能，充分利用 <code>npm cache</code></li>
<li>使用 <code>npm ci</code> 代替 <code>npm i</code>，既提升速度又保障应用安全性</li>
</ul>
<h3 id="浅析-Web-录屏技术方案与实现"><a href="#浅析-Web-录屏技术方案与实现" class="headerlink" title="浅析 Web 录屏技术方案与实现"></a><a target="_blank" rel="noopener" href="https://www.zoo.team/article/webrtc-screen">浅析 Web 录屏技术方案与实现</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://www.zoo.team/article/webrtc-screen">《浅析 Web 录屏技术方案与实现》 | zoo</a></em></p>
<ul>
<li><p>有感录屏：</p>
<ul>
<li><p>有感录屏一般指通过获得用户的授权或者通知用户接下来的操作将会被录制成视频，并且在录制过程中，用户有权关闭中断录屏。即无论在录屏前还是录屏的过程中，用户都始终能够决定录屏能否进行。</p>
</li>
<li><p>实现方式：WebRTC。</p>
</li>
</ul>
</li>
<li><p>无感录屏</p>
<ul>
<li><p>无感录屏指在用户无感知的情况，对用户在页面上的操作进行录制。实现上与有感录制区别在于，无感录制通常是利用记录页面的 DOM 来进行录制。常见的有 canvas 截图绘制视频和 rrweb 录制等方案。</p>
</li>
<li><p>实现方式：</p>
<ol>
<li>canvas</li>
<li>rrweb</li>
</ol>
</li>
</ul>
</li>
</ul>
<h4 id="个人思考"><a href="#个人思考" class="headerlink" title="个人思考"></a>个人思考</h4><p>rrweb 的话只是对 SPA 场景比较好，但对于 微前端&#x2F;Iframe 场景，它基于 DOM 的回溯就会失效从而失去其录制功能，加上整个 rrweb 链路代码实现复杂度较高，个人认为能用 WebRTC 还是走 RTC 实现比较好。</p>
<h3 id="如何为你的问题获得有用的答案"><a href="#如何为你的问题获得有用的答案" class="headerlink" title="如何为你的问题获得有用的答案"></a><a target="_blank" rel="noopener" href="https://jvns.ca/blog/2021/10/21/how-to-get-useful-answers-to-your-questions/">如何为你的问题获得有用的答案</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://jvns.ca/blog/2021/10/21/how-to-get-useful-answers-to-your-questions/">《How to get useful answers to your questions》 | Julia Evans</a></em></p>
<ol>
<li>问一个模糊或未明确指定的问题时，可能出现的问题：<ol>
<li>这个人首先解释一堆我已经知道的东西</li>
<li>这个人解释了一些我不知道的事情，但我认为这些事情与我的问题无关</li>
<li>这个人开始给出相关的解释，但使用我不理解的术语，所以我仍然最终感到困惑</li>
</ol>
</li>
<li>通过问「是否」的问题，可以更快地得到有用的信息。</li>
<li>如果别人做了一个漫长而无关紧要的解释，可以直接打断</li>
<li>不接受没有回答你的问题的答案</li>
</ol>
<h3 id="谈谈在SQL语句中的优化技巧"><a href="#谈谈在SQL语句中的优化技巧" class="headerlink" title="谈谈在SQL语句中的优化技巧"></a><a target="_blank" rel="noopener" href="https://qq52o.me/696.html">谈谈在SQL语句中的优化技巧</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://qq52o.me/696.html">《谈谈在SQL语句中的优化技巧》 | qq52o</a></em></p>
<p>此文一共列了 30 个优化技巧，内容已经比较精炼了，这里我就不一一列出，有兴趣直接进原文阅读。</p>
<h3 id="求职时的常见错误"><a href="#求职时的常见错误" class="headerlink" title="求职时的常见错误"></a><a target="_blank" rel="noopener" href="https://1byte.io/resume-mistakes/">求职时的常见错误</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://1byte.io/resume-mistakes/">《求职时的常见错误》 | 1 Byte</a></em></p>
<ul>
<li>细节：对待简历要认真，一个连简历都不重视细节的人，可想而知在工作中有多马虎。</li>
<li>精通：慎重「精通」二字，除非你有自信比面试官更熟悉它。</li>
<li>面试：遇到不会的难题，不要轻易放弃，面试官想要看到的是你如何解决问题。</li>
</ul>
<h3 id="如何在-Emacs-里做所有事"><a href="#如何在-Emacs-里做所有事" class="headerlink" title="如何在 Emacs 里做所有事"></a><a target="_blank" rel="noopener" href="https://1byte.io/how-to-do-everything-in-emacs/">如何在 Emacs 里做所有事</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://1byte.io/how-to-do-everything-in-emacs/">《如何在 Emacs 里做所有事》| 1 Byte</a></em></p>
<p>Emacs 简直堪称是一个操作系统，之前有研究过使用 Emacs 下面的 Org-mode 插件来做我的内容管理系统，但是折腾了一下觉得太难上手了，于是转向使用 Notion。</p>
<p>而本文中的视频就展示了 Emacs 的 Org-mode 强大，有兴趣可以看看。</p>
<h3 id="小程序单元测试最佳实践"><a href="#小程序单元测试最佳实践" class="headerlink" title="小程序单元测试最佳实践"></a><a target="_blank" rel="noopener" href="https://wxsm.space/2021/unit-test-best-practice-of-mini-program/">小程序单元测试最佳实践</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://wxsm.space/2021/unit-test-best-practice-of-mini-program/">《小程序单元测试最佳实践》 | wxsm’s pace</a></em></p>
<ul>
<li><p>启动很慢！至少需要 30 秒；因为每个不同的测试文件都需要单独启动并连接一遍实例。</p>
<ul>
<li>共享同一个全局实例（×），不起作用。</li>
<li>将所有测试用例放在单文件中共享实例（×），运行一次需要等到所有测试跑完才能看到结果。</li>
<li>不通过 launch，直接 connect 到现有窗口（√），只在第一次会比较慢。</li>
</ul>
</li>
<li><p>通过 navigateTo 这类方法跳转很慢：通过点击页面元素的方式触发会比较快。</p>
</li>
</ul>
<h4 id="个人思考-1"><a href="#个人思考-1" class="headerlink" title="个人思考"></a>个人思考</h4><p>去年年初的时候也曾尝试过在项目中推动微信小程序的 E2E 自动化测试，当时把此文所提到的坑都踩过一遍、连最后选择的解决方案都是一样的。</p>
<p>之前也有在  Web 项目实践过的 E2E 测试（用的是 Cypress），体验比微信小程序的自动化测试好一万倍不止。不过回头想想，像微信小程序这样不伦不类的产物，本来就是恶心开发者的，还扯什么开发体验呢？</p>
<h2 id="有趣的链接"><a href="#有趣的链接" class="headerlink" title="有趣的链接"></a>有趣的链接</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://polypane.app/css-specificity-calculator">CSS Specificity Calculator</a>：CSS 选择器优先级计算，帮助你快速计算你的 CSS 选择器优先级。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/2nthony/blogkit">Blogkit</a>：一个朋友的开源项目，利用 Notion API 驱动，将 Notion 作为博客的后台数据库，目前已经支持分发到内置的静态网站以及语雀。</p>
<ul>
<li>btw，自从 Notion 开放 API 依赖，将 Notion 作为博客后台数据库的 idea 就层出不穷，并且已经有不少人付诸实践，比如这里还有一个：<a target="_blank" rel="noopener" href="https://www.coryetzkorn.com/blog/how-the-notion-api-powers-my-blog">How the Notion API Powers My Blog</a>。 虽然我个人也很喜欢使用 Notion 作为我的资料库，但目前仍没有打算基于它来做博客。</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://coderwall.com/">Coderwall</a>：一个开发人员社区的开发和设计技巧、工具和项目，可以从上面学到很多技巧，包括但不限于：Shell、Git、JavaScript、CSS 等。</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-3-5-wechat">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-3-5-wechat" itemprop="url">加微信时，如何快速亮出你的二维码｜快捷指令</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-03-05T17:36:00+08:00">
                2022-03-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于我的公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/q_TzSSkkJDg8Q8QS6rP2KQ">效率工具指南</a>」，欢迎关注<br>文&#x2F;彭宏豪    </p>
<p>Hello 各位好，这里是效率工具指南。<br>我是小豪。   </p>
<p>在线下和别人面基时，往往会有一个加微信的环节。   </p>
<p>正所谓，动作要快，（亮码）姿势要帅。   </p>
<p>所以今天的问题是，如何快速亮出自己的二维码，加上心仪女生的微信呢？       </p>
<p>下面分享两个快速亮码的小技巧：   </p>
<h2 id="轻点两下手机背面"><a href="#轻点两下手机背面" class="headerlink" title="轻点两下手机背面"></a>轻点两下手机背面</h2><p>轻点两下手机背面，就能快速呼出二维码，实际效果见下面👇的 Gif 动图：    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/imb8aah0c.GIF" alt="IMB_8AAh0C"></p>
<p>这个快速亮码的小技巧，需要用到 iPhone 的两个功能：快捷指令 + 轻点背面。   </p>
<p>先在微信上打开个人二维码的页面，截取一张图片；   </p>
<p>截取后手机左下角会出现一个截图的<strong>缩略图</strong>，点击缩略图，会显示下图的页面：   </p>
<p>点击左上角的「完成」按钮，在弹出的菜单选择「存储到“文件”」，将截图保存到「我的 iPhone」中。    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1954.PNG" alt="IMG_1954"></p>
<p>打开快捷指令 App，点击「所有快捷指令」页面右上角的加号 + ，创建一个新的快捷指令。   </p>
<p>新的快捷指令顶部需要填入一个<strong>名称</strong>，你可以命名为「微信二维码」。    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1958.PNG" alt="IMG_1958"></p>
<p>点击「添加操作」，在弹出的面板搜索「文件」，点击下方的「文件」选项。       </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1965.PNG" alt="IMG_1965"></p>
<p>添加「文件」变量后，点击文件两个字，在「我的 iPhone」中找到刚截取的微信二维码并打开。      </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1970.PNG" alt="IMG_1970"></p>
<p>接着点击底部的「搜索 App 和操作」，搜索「<strong>显示结果</strong>」，点击下方返回的「显示结果」。    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1967.PNG" alt="IMG_1967"></p>
<p>完成以上两步操作后，这个新的快捷指令就算创建好了，如下图：   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1963.PNG" alt="IMG_1963"></p>
<p>打开 iPhone 上的系统设置，搜索「轻点」，点击下方返回的「<strong>触控</strong>」，将页面滑动到底部，选择「<strong>轻点背面</strong>」。    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1976.PNG" alt="IMG_1976"></p>
<p>⚠️ 注意：轻点背面是 <strong>iOS 14</strong> 新增的功能，如果你没有看到这个选项，请先查看一下手机系统是否 iOS 14。   </p>
<p>此外，这个功能对<strong>手机型号</strong>也有限制，从网上反馈的情况来看，iPhone 8 Plus 之后的手机，都可以用上这个功能。   </p>
<p>点击「轻点两下」，可以看到轻点两下 iPhone 背面可以触发的多个操作，在里面找到我们刚刚创建的快捷指令「微信二维码」。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1978.PNG" alt="IMG_1978"></p>
<p>到这里，就完成了轻点两下手机背面、快速打开微信二维码的全部设置，可以轻点一下测试实际的效果（点开下方的视频号查看）：  </p>
<h2 id="3D-Touch-快速打开"><a href="#3D-Touch-快速打开" class="headerlink" title="3D Touch 快速打开"></a>3D Touch 快速打开</h2><p>如果你觉得前面的方法，前期设置起来还是有些麻烦，可以使用下面这种更为便捷的操作——<strong>3D Touch</strong>。      </p>
<p>长按微信图标，稍等一小小会，微信会弹出一个快捷菜单，点击其中的「我的二维码」，也可以快速打开个人微信二维码。       </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/26/img1942.JPEG" alt="IMG_1942"></p>
<p>之前一直有传闻说，苹果可能会取消 3D Touch 功能，不过到目前为止还能使用，就暂且用着吧。   </p>
<h2 id="扫码加入我在知识星球上创建的社群「效率工具指南」"><a href="#扫码加入我在知识星球上创建的社群「效率工具指南」" class="headerlink" title="扫码加入我在知识星球上创建的社群「效率工具指南」"></a>扫码加入我在知识星球上创建的社群「效率工具指南」</h2><p>如果你觉得本文帮到了你，想支持我做得更好，欢迎戳下方图片，加入我的知识星球。     </p>
<p>关于社群「效率工具指南」的介绍，可以查看我在语雀文档上发布的文档：<a target="_blank" rel="noopener" href="https://www.yuque.com/penghonghao/af0aai/glwrg2dl0dqlegi6?singleDoc#">知识星球「效率工具指南」简介</a>    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2023/11/25/48844555552858t1-2.JPG"></p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">   </p>
<h2 id="订阅我在竹白上创建的-Newsletter"><a href="#订阅我在竹白上创建的-Newsletter" class="headerlink" title="订阅我在竹白上创建的 Newsletter"></a>订阅我在竹白上创建的 Newsletter</h2><p>如果对你有帮助的话，别忘了点击下方的链接，订阅我的 Newsletter，之后发布了新的内容，就能第一时间收到通知啦～  </p>
<p><a target="_blank" rel="noopener" href="https://penghh.zhubai.love/">👉在竹白上订阅效率工具指南</a>         </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/git-tips.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/git-tips.html" itemprop="url">Git tips</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-03-02T00:00:00+08:00">
                2022-03-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="批量删除-git-分支"><a href="#批量删除-git-分支" class="headerlink" title="批量删除 git 分支"></a>批量删除 git 分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a | grep -e <span class="string">&quot;fix/&quot;</span> | xargs git branch -D</span><br></pre></td></tr></table></figure>

<h2 id="批量添加匹配文件到暂存区"><a href="#批量添加匹配文件到暂存区" class="headerlink" title="批量添加匹配文件到暂存区"></a>批量添加匹配文件到暂存区</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status -s -uall | grep .vue | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | xargs git add</span><br></pre></td></tr></table></figure>

<h2 id="按最后提交日期排序所有远程分支"><a href="#按最后提交日期排序所有远程分支" class="headerlink" title="按最后提交日期排序所有远程分支"></a>按最后提交日期排序所有远程分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -rv --<span class="built_in">sort</span>=-committerdate</span><br></pre></td></tr></table></figure>

<p>更多：<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/5188320/how-can-i-get-a-list-of-git-branches-ordered-by-most-recent-commit">How can I get a list of Git branches, ordered by most recent commit?</a></p>
<h2 id="更好的-git-log"><a href="#更好的-git-log" class="headerlink" title="更好的 git log"></a>更好的 git log</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.lg <span class="string">&quot;log --color --graph --pretty=format:&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27; --abbrev-commit&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="列出另外一个分支没有的提交"><a href="#列出另外一个分支没有的提交" class="headerlink" title="列出另外一个分支没有的提交"></a>列出另外一个分支没有的提交</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry -v branch-A branch-B</span><br></pre></td></tr></table></figure>

<h2 id="clone-特定分支"><a href="#clone-特定分支" class="headerlink" title="clone 特定分支"></a>clone 特定分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b develop git@github.com:user/myproject.git</span><br></pre></td></tr></table></figure>

<h2 id="递归移动文件夹"><a href="#递归移动文件夹" class="headerlink" title="递归移动文件夹"></a>递归移动文件夹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> bar/&#123;,.&#125;* .</span><br></pre></td></tr></table></figure>

<h2 id="列出特定分支的记录"><a href="#列出特定分支的记录" class="headerlink" title="列出特定分支的记录"></a>列出特定分支的记录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -p branch-name</span><br></pre></td></tr></table></figure>

<h2 id="查看特定文件的-git-记录"><a href="#查看特定文件的-git-记录" class="headerlink" title="查看特定文件的 git 记录"></a>查看特定文件的 git 记录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -p -- filename</span><br></pre></td></tr></table></figure>

<h2 id="修改-git-提交为任何人"><a href="#修改-git-提交为任何人" class="headerlink" title="修改 git 提交为任何人"></a>修改 git 提交为任何人</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git -c user.name=<span class="string">&quot;NEW NAME&quot;</span> -c user.email=<span class="string">&quot;new_email@gmail.com&quot;</span> commit --amend --<span class="built_in">date</span>=<span class="string">&quot;Tue Nov 20 03:00 2018 +0100&quot;</span> --author=<span class="string">&quot;NEW NAME &lt;new_email@gmail.com&gt;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="查看当前所有子目录的-git-状态"><a href="#查看当前所有子目录的-git-状态" class="headerlink" title="查看当前所有子目录的 git 状态"></a>查看当前所有子目录的 git 状态</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -maxdepth 1 -mindepth 1 -<span class="built_in">type</span> d -<span class="built_in">exec</span> sh -c <span class="string">&#x27;(echo &#123;&#125; &amp;&amp; cd &#123;&#125; &amp;&amp; git status -s &amp;&amp; echo)&#x27;</span> \\;</span><br></pre></td></tr></table></figure>

<h2 id="创建-git-归档时忽略某些目录"><a href="#创建-git-归档时忽略某些目录" class="headerlink" title="创建 git 归档时忽略某些目录"></a>创建 git 归档时忽略某些目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar cvfz app.tar.gz --exclude <span class="string">&quot;.git/*&quot;</span> --exclude <span class="string">&quot;.git&quot;</span> app/</span><br></pre></td></tr></table></figure>

<h2 id="列出未发布的-commit"><a href="#列出未发布的-commit" class="headerlink" title="列出未发布的 commit"></a>列出未发布的 commit</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> @&#123;u&#125;..</span><br></pre></td></tr></table></figure>

<h2 id="在所有-commit-中寻找代码"><a href="#在所有-commit-中寻找代码" class="headerlink" title="在所有 commit 中寻找代码"></a>在所有 commit 中寻找代码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rev-list --all | xargs git grep</span><br></pre></td></tr></table></figure>

<h2 id="找到一个文件是何时被删掉的"><a href="#找到一个文件是何时被删掉的" class="headerlink" title="找到一个文件是何时被删掉的"></a>找到一个文件是何时被删掉的</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --diff-filter=D -- path/to/file</span><br></pre></td></tr></table></figure>

<h2 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin :branch</span><br></pre></td></tr></table></figure>

<h2 id="让-git-可以递归调用"><a href="#让-git-可以递归调用" class="headerlink" title="让 git 可以递归调用"></a>让 git 可以递归调用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.git <span class="string">&#x27;!git&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="revert-cherry-pick"><a href="#revert-cherry-pick" class="headerlink" title="revert cherry-pick"></a>revert cherry-pick</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -p --onto SHA^ SHA</span><br></pre></td></tr></table></figure>

<h2 id="永久删除文件"><a href="#永久删除文件" class="headerlink" title="永久删除文件"></a>永久删除文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git filter-branch --tree-filter <span class="string">&#x27;rm -rf my_folder/my_file&#x27;</span> HEAD</span><br></pre></td></tr></table></figure>

<h2 id="永久链接"><a href="#永久链接" class="headerlink" title="永久链接"></a>永久链接</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">permalink = <span class="string">&quot;!f() &#123; echo &quot;</span>https://$(git config --get remote.origin.url | grep --color=never -o -E <span class="string">&#x27;github.com[:/][^\\.]+&#x27;</span> | sed s/\\:/\\\\//)/commit/$(git rev-parse @&#123;u&#125;)<span class="string">&quot;; &#125;; open <span class="subst">$(f)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="仅忽略本地副本的文件更改"><a href="#仅忽略本地副本的文件更改" class="headerlink" title="仅忽略本地副本的文件更改"></a>仅忽略本地副本的文件更改</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git update-index --assume-unchanged &lt;file&gt;</span><br><span class="line"></span><br><span class="line">git update-index --no-assume-unchanged &lt;file&gt;</span><br></pre></td></tr></table></figure>

<h2 id="忽略已跟踪的文件"><a href="#忽略已跟踪的文件" class="headerlink" title="忽略已跟踪的文件"></a>忽略已跟踪的文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> --cached &lt;file&gt;</span><br></pre></td></tr></table></figure>

<h2 id="获取当前分支名称"><a href="#获取当前分支名称" class="headerlink" title="获取当前分支名称"></a>获取当前分支名称</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --no-color 2&gt; /dev/null | sed -e <span class="string">&#x27;/^[^*]/d&#x27;</span> -e <span class="string">&#x27;s/* \(.*\)/\1/&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="查看某个版本的目录树"><a href="#查看某个版本的目录树" class="headerlink" title="查看某个版本的目录树"></a>查看某个版本的目录树</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git show HEAD~5:hello.txt</span><br><span class="line"></span><br><span class="line">git show awesome-feature:app/models</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/hg-tips.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/hg-tips.html" itemprop="url">Hg tips</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-03-02T00:00:00+08:00">
                2022-03-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="提高效率"><a href="#提高效率" class="headerlink" title="提高效率"></a>提高效率</h2><h3 id="设置别名"><a href="#设置别名" class="headerlink" title="设置别名"></a>设置别名</h3><p>Hg 本身支持简写，如：</p>
<ul>
<li>hg status &#x3D;&gt; hg st</li>
<li>hg shelve &#x3D;&gt; hg she</li>
<li>hg unshelve &#x3D;&gt; hg unshe</li>
<li>hg update &#x3D;&gt; hg up</li>
<li>hg commit &#x3D;&gt; hg ci</li>
<li>hg diff &#x3D;&gt; hg d</li>
</ul>
<p>也可以通过下面几种方式来自定义想要的别名。</p>
<h4 id="方式一：hg-alias"><a href="#方式一：hg-alias" class="headerlink" title="方式一：hg alias"></a>方式一：hg alias</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim ~/.hgrc</span><br><span class="line"></span><br><span class="line">[<span class="built_in">alias</span>]</span><br><span class="line">amend = commit --amend</span><br><span class="line">br = branch</span><br><span class="line">brs = branches</span><br><span class="line">wip = !<span class="variable">$HG</span> addremove &gt;/dev/null 2&gt;&amp;1 &amp;&amp; <span class="variable">$HG</span> ci -m <span class="string">&quot;--wip-- [skip ci]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Using</span></span><br><span class="line">&gt; hg amend</span><br><span class="line">&gt; hg br</span><br><span class="line">&gt; hg brs</span><br><span class="line">&gt; hg wip</span><br></pre></td></tr></table></figure>

<h4 id="方式二：bash-alias"><a href="#方式二：bash-alias" class="headerlink" title="方式二：bash alias"></a>方式二：bash alias</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> hgst=<span class="string">&quot;hg status&quot;</span></span><br><span class="line"><span class="built_in">alias</span> hgd=<span class="string">&quot;hg diff&quot;</span></span><br><span class="line"><span class="built_in">alias</span> hga=<span class="string">&quot;hg add&quot;</span></span><br><span class="line"></span><br><span class="line">&gt; <span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using</span></span><br><span class="line">&gt; hgst</span><br></pre></td></tr></table></figure>

<h4 id="方式三：bash-function"><a href="#方式三：bash-function" class="headerlink" title="方式三：bash function"></a>方式三：bash function</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">hgpl</span></span>() &#123;</span><br><span class="line">  hg pull --rebase</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt; <span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using</span></span><br><span class="line">&gt; hgpl</span><br></pre></td></tr></table></figure>

<h4 id="方式四：bash-function-hg-alias"><a href="#方式四：bash-function-hg-alias" class="headerlink" title="方式四：bash function + hg alias"></a>方式四：bash function + hg alias</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">hgpl</span></span>() &#123;</span><br><span class="line">  hg pull --rebase</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt; vim ~/.hgrc</span><br><span class="line"></span><br><span class="line">[<span class="built_in">alias</span>]</span><br><span class="line">pl = !<span class="built_in">source</span> ~/.bash_profile &amp;&amp; hgpl</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using</span></span><br><span class="line">&gt; hg pl</span><br></pre></td></tr></table></figure>

<h3 id="复制其它分支的-commit"><a href="#复制其它分支的-commit" class="headerlink" title="复制其它分支的 commit"></a>复制其它分支的 commit</h3><p>假设我们有多个分支在并行开发，在 A 分支做了某些改动，希望把这些改动也应用到 B 分支。</p>
<p>这时候可以用 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/repo/hg/help/graft">graft</a> 命令将这个 commit 从别的分支复制到当前分支，类似于 Git  <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-cherry-pick">cherry-pick</a> 功能。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&gt; hg brs</span><br><span class="line">feature/v1                     6:f8528de0eb4c</span><br><span class="line">feature/v1.1                   5:288d0414598d</span><br><span class="line"></span><br><span class="line">&gt; hg <span class="built_in">log</span> -G --style compact</span><br><span class="line">@  6[tip]:1   f8528de0eb4c   2021-12-14 13:04 +0800   4Ark</span><br><span class="line">|    feat: feature-v1-04</span><br><span class="line">|</span><br><span class="line">| o  5   288d0414598d   2021-12-14 12:57 +0800   4Ark</span><br><span class="line">| |    feat: feature-v1.1-03</span><br><span class="line">| |</span><br><span class="line">| o  4   d72548bcd32b   2021-12-14 12:56 +0800   4Ark</span><br><span class="line">| |    feat: feature-v1.1-02</span><br><span class="line">| |</span><br><span class="line">| o  3   8719f541d5d8   2021-12-14 12:55 +0800   4Ark</span><br><span class="line">| |    feat: feature-v1.1-00</span><br><span class="line">| |</span><br><span class="line">| o  2   e7eb9420534e   2021-12-14 12:55 +0800   4Ark</span><br><span class="line">|/     feat: feature-v1.1-00</span><br><span class="line">|</span><br><span class="line">o  1   431a3844a58c   2021-12-14 12:54 +0800   4Ark</span><br><span class="line">|    feat: feature-v1-01</span><br><span class="line">|</span><br><span class="line">o  0   5d35d7d5baf8   2021-12-14 12:53 +0800   4Ark</span><br><span class="line">     feat: feature-v1</span><br></pre></td></tr></table></figure>

<p>feature&#x2F;v1.1 分支是基于 feature&#x2F;v1 创建的，目前两个分支都分别提交了一些东西，我们希望将 feature&#x2F;1.1 的最后一个提交（5:288d0414598d）复制到 feature&#x2F;1 中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; hg update feature/v1</span><br><span class="line">&gt; hg graft -r 5</span><br><span class="line"></span><br><span class="line">&gt; hg <span class="built_in">log</span> -r tip --style compact</span><br><span class="line">7[tip]   42cf5e6dfe1e   2021-12-14 12:57 +0800   4Ark</span><br><span class="line">  feat: feature-v1.1-03</span><br></pre></td></tr></table></figure>

<h4 id="更多例子"><a href="#更多例子" class="headerlink" title="更多例子"></a>更多例子</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 复制单个并且编辑提交信息</span></span><br><span class="line">&gt; hg graft --edit 5</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制多个并且编辑提交信息</span></span><br><span class="line">&gt; hg graft --edit 2 3 4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连续复制多个</span></span><br><span class="line">&gt; hg graft -D <span class="string">&quot;2:5&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 连续复制多个，但有一个例外</span></span><br><span class="line">&gt; hg graft -D <span class="string">&quot;2::5 and not 3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 连续复制多个并且编辑提交信息</span></span><br><span class="line">&gt; hg graft --edit <span class="string">&quot;2:5&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将整个分支作为一个提交复制过来，如果要编辑提交信息将 -r 改成 --edi</span></span><br><span class="line">&gt; hg graft -r feature/v1.1 --base <span class="string">&quot;ancestor(&#x27;feature/v1.1&#x27;,&#x27;feature/v1&#x27;)&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果在 graft 过程中有冲突，可以解决后使用 <code>hg graft --continue</code> 继续进行，或者使用 <code>hg graft --abort</code> 终止本次操作。</p>
<h3 id="同一个仓库链接到多个目录（worktree）"><a href="#同一个仓库链接到多个目录（worktree）" class="headerlink" title="同一个仓库链接到多个目录（worktree）"></a>同一个仓库链接到多个目录（worktree）</h3><p>如果熟悉 git 的同学应该知道 git 有一个 <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-worktree">worktree</a> 命令，它可以将多个目录链接同一个仓库，并且可以在各自的目录下切换到不同的分支，特别适合以下场景：</p>
<ol>
<li>并行开发：在两个不同的分支上开发，不需要频繁回来地切换。</li>
<li>快速试验、修复：在开发中需要验证、或修复某个 BUG，但不想影响现有的工作目录，就可以在新的工作目录中进行开发。</li>
<li>代码迁移合并：假如 A 分支和 B 分支版本区别过大，无法直接使用 <code>graft</code>，这时候就可以从新的工作目录中直接拷贝文件。</li>
</ol>
<p>其实 hg 也有类似的命令，那就是 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/wiki/ShareExtension">share</a>，需要先开启扩展：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim ~/.hgrc </span><br><span class="line"></span><br><span class="line">[extensions]</span><br><span class="line">share =</span><br></pre></td></tr></table></figure>

<p>然后这样操作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; hg share xxx-project project-v2</span><br><span class="line">&gt; <span class="built_in">cd</span> project-v2</span><br><span class="line">&gt; hg up feature/xxx</span><br></pre></td></tr></table></figure>

<h2 id="操作历史"><a href="#操作历史" class="headerlink" title="操作历史"></a>操作历史</h2><p style="color: red; font-weight: bold;">注意：以下操作请谨慎执行，除非有特别声明，否则均只能操作未发布的提交。</p>

<h3 id="撤销前一次提交"><a href="#撤销前一次提交" class="headerlink" title="撤销前一次提交"></a>撤销前一次提交</h3><p>如果提交后发现某个文件忘记添加了，可以使用 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/repo/hg/help/rollback">rollback</a> 进行回滚：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; hg commit -m <span class="string">&quot;feat: do something&quot;</span></span><br><span class="line">&gt; hg rollback </span><br></pre></td></tr></table></figure>

<p>该操作会把最后一次 commit 移除，但这个 commit 的改动仍在。</p>
<h3 id="回滚某个-commit"><a href="#回滚某个-commit" class="headerlink" title="回滚某个 commit"></a>回滚某个 commit</h3><p>如果想要回滚某个 commit，可以使用 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/repo/hg/help/backout">backout</a>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 回滚最后一个提交</span></span><br><span class="line">&gt; hg backout -r .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 回滚某个提交</span></span><br><span class="line">&gt; hg backout -r 9487</span><br><span class="line"></span><br><span class="line"><span class="comment"># 回滚某个提交，但先不提交（推荐使用这种方式）</span></span><br><span class="line">&gt; hg backout -r 9487 --no-commit</span><br></pre></td></tr></table></figure>

<p>效果就和 <code>git revert</code> 一样。</p>
<h3 id="撤销某个-commit-及其后代"><a href="#撤销某个-commit-及其后代" class="headerlink" title="撤销某个 commit 及其后代"></a>撤销某个 commit 及其后代</h3><p>如果想要撤销某个 commit 及以后的所有改动，可以使用 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/repo/hg/help/strip">strip</a>，需要先开启扩展：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim ~/.hgrc</span><br><span class="line"></span><br><span class="line">[extensions]</span><br><span class="line">strip =</span><br></pre></td></tr></table></figure>

<p>然后这样使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 移除单个</span></span><br><span class="line">&gt; hg strip -r 9487</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除多个</span></span><br><span class="line">&gt; hg strip -r 9487 9488</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除 commit，但保留改动</span></span><br><span class="line">&gt; hg strip -r 9487--keep</span><br></pre></td></tr></table></figure>

<p>注意：该操作不属于修改历史，可用于已发布的 commit。</p>
<h3 id="修改前一次提交"><a href="#修改前一次提交" class="headerlink" title="修改前一次提交"></a>修改前一次提交</h3><p>如果我们在提交一次 commit 后，想要修改 commit 信息，或者想要再做一些改动，可以使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; hg add .</span><br><span class="line">&gt; hg commit -m <span class="string">&quot;feat: first commit&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改一下</span></span><br><span class="line">&gt; hg commit --amend</span><br></pre></td></tr></table></figure>

<h3 id="修改前-N-次提交"><a href="#修改前-N-次提交" class="headerlink" title="修改前 N 次提交"></a>修改前 N 次提交</h3><p>如果要支持更复杂的修改历史操作，我们可以使用 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/wiki/HisteditExtension">histedit</a> 扩展，类似于 <code>git rebase -i</code>，使用它能够实现：</p>
<ul>
<li>修改某个 commit 的 commit 信息</li>
<li>移除某个提交</li>
<li>合并多次提交</li>
<li>等等..</li>
</ul>
<p>需要在 <code>.hgrc</code> 开启：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim ~/.hgrc</span><br><span class="line"></span><br><span class="line">[extensions]</span><br><span class="line">histedit =</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>每次修改后 changeset 都会改变。</li>
</ul>
<p>假设，我们现在有下面几个提交：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt; hg <span class="built_in">log</span> -b . --style compact</span><br><span class="line"></span><br><span class="line">5   288d0414598d   2021-12-14 12:57 +0800   4Ark</span><br><span class="line">  feat: feature-v1.1-03</span><br><span class="line"></span><br><span class="line">4   d72548bcd32b   2021-12-14 12:56 +0800   4Ark</span><br><span class="line">  feat: feature-v1.1-02</span><br><span class="line"></span><br><span class="line">3   8719f541d5d8   2021-12-14 12:55 +0800   4Ark</span><br><span class="line">  feat: feature-v1.1-00</span><br><span class="line"></span><br><span class="line">2   e7eb9420534e   2021-12-14 12:55 +0800   4Ark</span><br><span class="line">  feat: feature-v1.1-00</span><br></pre></td></tr></table></figure>

<p>如果只是修改最后一个 commit 信息，我们可以使用 <code>hg commit --amend</code>，如果要修改前几个的 commit 信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 想要修改倒数第三个的 commit 信息</span></span><br><span class="line">&gt; hg histedit 8719f541d5d8</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编辑内容：</span></span><br><span class="line">pick 8719f541d5d8 3 feat: feature-v1.1-00</span><br><span class="line">pick d72548bcd32b 4 feat: feature-v1.1-02</span><br><span class="line">pick 288d0414598d 5 feat: feature-v1.1-03</span><br><span class="line"><span class="comment"># Edit history between 8719f541d5d8 and 288d0414598d</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Commits are listed from least to most recent</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You can reorder changesets by reordering the lines</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Commands:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  e, edit = use commit, but allow edits before making new commit</span></span><br><span class="line"><span class="comment">#  m, mess = edit commit message without changing commit content</span></span><br><span class="line"><span class="comment">#  p, pick = use commit</span></span><br><span class="line"><span class="comment">#  b, base = checkout changeset and apply further changesets from there</span></span><br><span class="line"><span class="comment">#  d, drop = remove commit from history</span></span><br><span class="line"><span class="comment">#  f, fold = use commit, but combine it with the one above</span></span><br><span class="line"><span class="comment">#  r, roll = like fold, but discard this commit&#x27;s description and date</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>根据描述，如果我们只是想要修改 commit 信息，我们可以直接在这里改：</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- pick 8719f541d5d8 3 feat: feature-v1.1-00</span></span><br><span class="line"><span class="addition">+ mess 8719f541d5d8 3 feat: feature-v1.1-00</span></span><br><span class="line">	pick d72548bcd32b 4 feat: feature-v1.1-02</span><br><span class="line">	pick 288d0414598d 5 feat: feature-v1.1-03</span><br></pre></td></tr></table></figure>

<p>但是如果想要修改这个 commit 的改动内容，比如新增一个文件，我们改成这样：</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- pick 8719f541d5d8 3 feat: feature-v1.1-00</span></span><br><span class="line"><span class="addition">+ edit 8719f541d5d8 3 feat: feature-v1.1-00</span></span><br><span class="line">	pick d72548bcd32b 4 feat: feature-v1.1-02</span><br><span class="line">	pick 288d0414598d 5 feat: feature-v1.1-03</span><br></pre></td></tr></table></figure>

<p>这时候就可以改动文件内容，最后再进行提交：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">echo</span> <span class="string">&#x27;new&#x27;</span> &gt; new-file.txt</span><br><span class="line">&gt; hg add .</span><br><span class="line">&gt; hg commit -m <span class="string">&quot;feat: feat: feature-v1.1-00(changed)&quot;</span></span><br><span class="line">created new <span class="built_in">head</span></span><br><span class="line"></span><br><span class="line">&gt; hg histedit --<span class="built_in">continue</span> <span class="comment"># 你也可以使用 hg histedit --abort 来终止本次操作</span></span><br></pre></td></tr></table></figure>

<p>如果要移除某个 commit：</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- edit 8719f541d5d8 3 feat: feature-v1.1-00</span></span><br><span class="line"><span class="addition">+ drop 8719f541d5d8 3 feat: feature-v1.1-00</span></span><br><span class="line">	pick d72548bcd32b 4 feat: feature-v1.1-02</span><br><span class="line">	pick 288d0414598d 5 feat: feature-v1.1-03</span><br></pre></td></tr></table></figure>

<p>如果要合并多个 commit，并且保留所有提交信息：</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	pick 8719f541d5d8 3 feat: feature-v1.1-00  # 只能合并到第一个 commit</span><br><span class="line"><span class="deletion">- pick d72548bcd32b 4 feat: feature-v1.1-02</span></span><br><span class="line"><span class="deletion">- pick 288d0414598d 5 feat: feature-v1.1-03</span></span><br><span class="line"><span class="addition">+ fold d72548bcd32b 4 feat: feature-v1.1-02</span></span><br><span class="line"><span class="addition">+ fold 288d0414598d 5 feat: feature-v1.1-03</span></span><br></pre></td></tr></table></figure>

<p>如果要合并多个 commit，并且不保留提交信息（直接采用第一个 commit 信息），只需要将 <code>fold</code> 改成 <code>roll</code>。</p>
<h2 id="查找历史"><a href="#查找历史" class="headerlink" title="查找历史"></a>查找历史</h2><h3 id="查看-commit-的信息"><a href="#查看-commit-的信息" class="headerlink" title="查看 commit 的信息"></a>查看 commit 的信息</h3><p>使用 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/repo/hg/help/log">log</a> 命令某个提交的信息，通常我们使用 source tree 能够满足大部分日常需求。</p>
<p>但 log 还支持很多高阶操作，这里举几个最常使用的，推荐配合别名使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前分支的的 log</span></span><br><span class="line">&gt; hg <span class="built_in">log</span> -b .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更清晰地查看 log 历史</span></span><br><span class="line">&gt; hg <span class="built_in">log</span> --template <span class="string">&quot;&#123;label(&#x27;custom.rev&#x27;, rev)&#125;\t&#123;label(&#x27;custom.node&#x27;,node|short)&#125; &#123;label(&#x27;custom.phase&#x27;,phase)&#125; \t&#123;label(&#x27;custom.age&#x27;,date|age)&#125;\t&#123;desc|firstline&#125; &#123;label(&#x27;custom.user&#x27;, author|user)&#125; &#123;label(&#x27;custom.branch&#x27;,branch)&#125; &#123;label(&#x27;custom.tag&#x27;,tags)&#125; &#123;label(&#x27;custom.book&#x27;,bookmarks)&#125;\n&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个提交的信息以及文件改动</span></span><br><span class="line">&gt; hg <span class="built_in">log</span> -p -r 9487</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个文件的改动信息</span></span><br><span class="line">&lt; hg <span class="built_in">log</span> package.json</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个文件的改动信息（包括删除）</span></span><br><span class="line">&gt; hg <span class="built_in">log</span> --remove package</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个目录的改动信息</span></span><br><span class="line">&gt; hg <span class="built_in">log</span> -M src</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个文件某几行的所有改动信息</span></span><br><span class="line">&gt; hg <span class="built_in">log</span> -L package.json,1:23 --follow</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看多个文件某几行的所有改动信息</span></span><br><span class="line">&gt; hg <span class="built_in">log</span> -L package.json,1:23 -L package2.json,1:23 --follow</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看未发布的提交</span></span><br><span class="line">&gt; hg <span class="built_in">log</span> -r <span class="string">&quot;draft()&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="查看某个文件每一行的最后改动者"><a href="#查看某个文件每一行的最后改动者" class="headerlink" title="查看某个文件每一行的最后改动者"></a>查看某个文件每一行的最后改动者</h3><p>可以使用 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/repo/hg/help/annotate">annotate</a> 命令查看文件中每一行的最后改动者：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; hg annotate -ulc package.json</span><br></pre></td></tr></table></figure>

<p>ps：该命令还有另一个别名 blame。</p>
<h3 id="二分法定位出问题的-commit"><a href="#二分法定位出问题的-commit" class="headerlink" title="二分法定位出问题的 commit"></a>二分法定位出问题的 commit</h3><p>如果想知道哪一次代码提交引入了错误，可以使用 <a target="_blank" rel="noopener" href="https://www.mercurial-scm.org/repo/hg/help/bisect">bisect</a> 命令。</p>
<p>具体操作看阮一峰老师的这篇文章： <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2018/12/git-bisect.html">《git bisect 命令教程》</a> 。</p>
<h2 id="工具推荐"><a href="#工具推荐" class="headerlink" title="工具推荐"></a>工具推荐</h2><h3 id="diff-tool-差异对比工具"><a href="#diff-tool-差异对比工具" class="headerlink" title="diff tool 差异对比工具"></a>diff tool 差异对比工具</h3><p>使用一个称手的 diff 工具可帮助你提高很多效率，比如：</p>
<ul>
<li>快速对比两个版本的差异</li>
<li>快速对比两个文件、文件夹的差异</li>
</ul>
<p>我个人使用 <a target="_blank" rel="noopener" href="https://www.scootersoftware.com/index.php">Beyond Compare</a>，不过这个软件略贵，也可以使用其它同类工具，例如：<a target="_blank" rel="noopener" href="https://apps.kde.org/en/kdiff3">KDiff3</a>、<a target="_blank" rel="noopener" href="https://winmerge.org/">WinMergeU</a>、<a target="_blank" rel="noopener" href="https://www.perforce.com/zh-hans/chanpin/helix-core-apps/merge-diff-tool-p4merge">P4Merge 等。</a></p>
<p>下面以 Beyond Compare 为例进行配置，其实基本大同小异：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim ~/.hgrc</span><br><span class="line"></span><br><span class="line">[extensions]</span><br><span class="line"><span class="comment"># uncomment the lines below to enable some popular extensions</span></span><br><span class="line"><span class="comment"># (see &#x27;hg help extensions&#x27; for more info)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">extdiff =</span><br><span class="line">hgext.extdiff =</span><br><span class="line"></span><br><span class="line">[extdiff]</span><br><span class="line">cmd.bcomp = bcomp</span><br><span class="line">opts.bcomp = -leftreadonly -solo</span><br><span class="line"></span><br><span class="line">[merge-tools]</span><br><span class="line">bcomp.executable = Applications/Beyond Compare.app/Contents/MacOS/bcomp</span><br><span class="line">bcomp.priority=-1</span><br><span class="line">bcomp.args=<span class="variable">$local</span> <span class="variable">$other</span> <span class="variable">$base</span> /mergeoutput=<span class="variable">$output</span> /ro /lefttitle=<span class="built_in">local</span> /centertitle=base /righttitle=other /outputtitle=merged /automerge /reviewconflicts /solo</span><br><span class="line">bcomp.premerge=False</span><br><span class="line">bcomp.regname=ExePath</span><br><span class="line">bcomp.gui=True</span><br><span class="line">bcomp.diffargs=/lro /lefttitle=<span class="string">&#x27;$plabel1&#x27;</span> /righttitle=<span class="string">&#x27;$clabel&#x27;</span> /solo /expandall <span class="variable">$parent</span> <span class="variable">$child</span></span><br><span class="line">bcomp.diff3args=<span class="variable">$parent1</span> <span class="variable">$parent2</span> <span class="variable">$child</span> /lefttitle=<span class="string">&#x27;$plabel1&#x27;</span> /centertitle=<span class="string">&#x27;$clabel&#x27;</span> /righttitle=<span class="string">&#x27;$plabel2&#x27;</span> /solo /ro</span><br><span class="line">bcomp.dirdiff=True</span><br><span class="line">bcomp.binary=True</span><br></pre></td></tr></table></figure>

<p>使用方式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对比某个版本与当前工作区</span></span><br><span class="line">&gt; hg bcomp -r 9816 -r .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较两个版本、分支</span></span><br><span class="line">&gt; hg bcomp -r 9646 -r 9677</span><br><span class="line">&gt; hg bcomp -r default -r 9677</span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较两个版本的某个文件、文件夹</span></span><br><span class="line">&gt; hg bcomp -r 9552 -r 9553 filepath</span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较两个文件夹</span></span><br><span class="line">&gt; bcomp dir-a dir-b</span><br></pre></td></tr></table></figure>



<p>Beyond Compare 还支持三路比较、合并，就是比较 A 版本、B 版本、C 版本（两者共同祖先），不过要支持这个功能价格就更贵了。</p>
<h3 id="vscode-hg"><a href="#vscode-hg" class="headerlink" title="vscode-hg"></a>vscode-hg</h3><p>在使用 VSCode 的同学，推荐使用 <a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=mrcrowl.hg">vscode-hg</a> 这个扩展，可支持大部分 hg 操作。</p>
<p>如果遇到 Mercurial installation not found. 报错 ，在 settings.json 添加配置并重启：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;hg.path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/opt/homebrew/bin/hg&quot;</span> <span class="comment">// 可通过 which hg 查看 hg 的可执行脚本路径</span></span><br></pre></td></tr></table></figure>

<p>另外推荐开启  <code>hg.lineAnnotationEnabled</code> ，即可轻松查看当前文件每一行最后改动，类似于 GitLens 扩展。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-2-28-chrome">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-2-28-chrome" itemprop="url">安利两个浏览器插件</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-28T21:45:00+08:00">
                2022-02-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <div align="middle"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=386844&auto=1&height=66"></iframe></div>       

<p>Hello 各位好，我是小豪。  </p>
<p>以前我是一个插件控，时不时就会给浏览器装各种插件。  </p>
<p>当然，插件在提升浏览器或上网体验的同时，也会加重电脑的运行负担。如果你的电脑运行内存比较大，那请随意。  </p>
<p>今天想介绍 2 个最近刚安装的浏览器插件，一个是标签页搜索 &amp; 管理，一个是标签页美化。</p>
<h2 id="Omni"><a href="#Omni" class="headerlink" title="Omni"></a>Omni</h2><p>Omni，是前阵子在 Product Hunt 上非常火的浏览器插件，可用来搜索浏览器书签、历史记录以及管理标签页。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/28/16460528834249.jpg"></p>
<p>在使用浏览器的过程中，许多人可能有过这么一种经历：</p>
<p>当浏览器打开了太多的标签页，如下图，所有标签页顶部原先显示的<strong>页面名称</strong>，都会被「挤压」得只剩下一个图标，以至于我们都分不清哪个是哪个。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/28/16460533257042.jpg"></p>
<p>而有了 Omni 插件，你可以像使用苹果上的聚焦搜索或是 Windows 上的 PowerToys 那样，在浏览器中呼出一个<strong>搜索框</strong>，如下图，以搜索的方式查找你打开的标签页。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/28/16460521472184.jpg"></p>
<p>默认呼出 Omni 搜索框的方式，点击浏览器右上角的 Omni 插件图标。</p>
<p>当然这种默认的呼出方式，既不够快，也不够优雅。    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/28/16460539914953.jpg"></p>
<p>我们可以自定义呼出 Omni 搜索框的快捷键，方法如下： </p>
<p>在 Chrome 浏览器地址栏输入 <code>chrome://extensions/shortcuts</code> 并按下回车，打开扩展程序的快捷键设置页面，找到 Omni 插件。   </p>
<p>点击输入框右侧的编辑按钮，按照提示，设置呼出 Omni 搜索框的快捷键，例如我在 Mac 上设置的快捷键为 Ctrl + O。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/28/16460537842769.jpg"></p>
<p>接着去到非浏览器设置页面的标签页，按下刚设置的快捷键，就能快速呼出 Omni 搜索框了。   </p>
<p>除了搜索标签页，Omni 还有另外一些附加功能，如下图，可以通过内置的命令实现一些<strong>快捷操作</strong>：  </p>
<ul>
<li>发送一份邮件</li>
<li>创建一个新的 Notion 页面   </li>
<li>创建一个谷歌表格   </li>
<li>创建一个谷歌文档   </li>
<li>创建一个表单     </li>
<li>发布一条推特</li>
<li>……</li>
</ul>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/28/16460545287349.jpg"></p>
<p>Omni 目前似乎只上架到了 Chrome Web Store，暂未上架 Edge 插件商店，想用的朋友，自行前往谷歌商店搜索安装吧。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/28/16460551202601.jpg"></p>
<h2 id="iTab"><a href="#iTab" class="headerlink" title="iTab"></a>iTab</h2><p>iTab，一个标签页美化插件，安装之后，可以取代浏览器默认的标签页，效果如下。  </p>
<p>iTab 最大的特色在于，<strong>加入了 iOS 上的小组件的设计</strong>，让它在众多标签页美化插件中显得与众不同，而且拖动小组件可以重新调整小组件的位置。    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/28/16460552728542.jpg"></p>
<p>剩下的功能就和其他浏览器美化插件相似，就不过多介绍了。   </p>
<p>iTab 官网：<br><a target="_blank" rel="noopener" href="https://itab.link/">https://itab.link/</a>   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-weekly" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/weekly-02.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/weekly-02.html" itemprop="url">周刊第2期：珍惜和平</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-27T00:00:00+08:00">
                2022-02-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="俄乌战争"><a href="#俄乌战争" class="headerlink" title="俄乌战争"></a>俄乌战争</h2><p>这是一个技术、踩坑记录、日常吐槽的博客，我本不想给它蒙上太多政治色彩，但原谅我实在是憋不住了。</p>
<p>2022年2月24号，俄罗斯入侵乌拉克，与此同时，国内的媒体出现了铺天盖地的假信息、在微博、抖音上网友们更是发表了各种极度令人恶心的言论，让我备受震撼。</p>
<p>你们到底有没有意识到，这可是战争，是要死很多人的！或许你们认为这不关你的事、或许你们认为这只是开开玩笑、又或许你们认为这本就是一场正义的战争。</p>
<p>每个人都可以有自己的政治立场，但我希望你们积点口德，不要拿这种事情来口嗨。</p>
<p>我想在此引用几句在网上看到的几句话，也正是我想说的：</p>
<blockquote>
<p>我们，强烈反对俄罗斯对乌克兰发动的战争。无论俄罗斯有千种理由，万般借口，以武力入侵一个主权国家都是对以联合国宪章为基础的国际关系准则的践踏，是对现有国际安全体系的破坏。<br /><br>我们，坚决支持乌克兰人民保家卫国的行动。我们担忧俄罗斯的武力行为将导致欧洲乃至整个世界局势的动荡，引发更大范围的人道主义灾难。<br /><br>我们，强烈呼吁俄罗斯政府和普京总统停止战争，用谈判解决纠纷。强权不仅会使文明进步的成果和国际正义的原则毁于一旦，还会给俄罗斯民族带来巨大的耻辱和灾难。<br /><br>和平始于人心的渴望。我们，反对不义战争。</p>
</blockquote>
<blockquote>
<p>没有任何一个战争的挑衅者，值得歌颂。<br /><br>也没有任何一个战争的发起者，值得赞扬。<br /><br>民族主义在现实世界值得提倡，但沦为民粹时就会反噬自己。<br /><br>宏大叙事是审美的一种需要，但如果全民歌颂将让集体万劫不复。<br /></p>
</blockquote>
<p>根据 The Kyiv Independent 报道，下面是目前双方的战损情况：</p>
<div style="display: flex;">
    <img width="50%" src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images202202282142093.jpeg">
    <img width="50%" src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images202202282142529.jpeg">
</div>

<p>这一串数字的背后，是无数家庭的血和泪！</p>
<p>请珍惜来之不易的和平，任何为战争欢呼的人都是傻逼！</p>
<h2 id="分享文章"><a href="#分享文章" class="headerlink" title="分享文章"></a>分享文章</h2><blockquote>
<p>一些本周阅读过的好文章、以及我的一些总结和个人思考；非常建议你直接阅读原文，毕竟一千个读者就有一千个哈姆雷特，而且我的理解可能是错的。</p>
</blockquote>
<h3 id="Yes-I-can-connect-to-a-DB-in-CSS"><a href="#Yes-I-can-connect-to-a-DB-in-CSS" class="headerlink" title="Yes, I can connect to a DB in CSS"></a><a target="_blank" rel="noopener" href="https://www.leemeichin.com/posts/yes-i-can-connect-to-a-db-in-css.html">Yes, I can connect to a DB in CSS</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://www.leemeichin.com/posts/yes-i-can-connect-to-a-db-in-css.html">《Yes, I can connect to a DB in CSS》 | kamelåså</a></em></p>
<p><img src="https://www.leemeichin.com/img/yes-i-can-connect-to-a-db-in-css/tweet.jpg"></p>
<blockquote>
<p>招聘人员会说：</p>
<p>我们正在寻找可以使用 CSS 连接到数据库的人。</p>
</blockquote>
<p>这能做到吗？是的，这篇文章的作者就做到了。</p>
<p>首先需要了解两个东西：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/Houdini">CSS Houdini</a>：可以通过 JavaScript 访问并控制 CSS 模型，其最大的特点就是 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/PaintWorklet">PaintWorklet</a>，它可以以编程方式生成一个图像，也与我们所熟悉的 Canvas 类似。</li>
<li><a target="_blank" rel="noopener" href="https://sql.js.org/">sql.js</a>：它是一个 JS 库，允许你在浏览器中创建并查询一个关系型数据库，使用一个存储在浏览器内的虚拟数据库文件，所以数据的存储和修改都不是持久化的；不过它还支持将 SQLite 编译成 Wasm，也就意味着可以在浏览器访问现有的 SQLite 数据库文件。</li>
</ul>
<p>做法就是：在 JS 中通过 Houdini 获取 CSS 变量，然后传递给 SQLite 的 DB 实例。</p>
<p>最终效果看这里：<a target="_blank" rel="noopener" href="https://sqlcss.xyz/">https://sqlcss.xyz</a></p>
<h3 id="我为什么说-Vim-比-VSCode-更好用"><a href="#我为什么说-Vim-比-VSCode-更好用" class="headerlink" title="我为什么说 Vim 比 VSCode 更好用"></a><a target="_blank" rel="noopener" href="https://sean-warman.medium.com/why-vim-is-better-than-vscode-d09e2355eb37">我为什么说 Vim 比 VSCode 更好用</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://sean-warman.medium.com/why-vim-is-better-than-vscode-d09e2355eb37">《Why Vim is better than VSCode》 | Sean</a></em></p>
<p>随着微软开始全面拥抱开源世界，推出了一个又一个大型开源项目，例如 VSCode，就已经在代码编辑器中占据了一个重要的位置，并且随着 <a target="_blank" rel="noopener" href="https://github.com/features/codespaces">Codespaces</a> 和 <a target="_blank" rel="noopener" href="https://github.com/gitpod-io/openvscode-server">Open VSCode Server</a> 的推出，可以轻松在浏览器上进行远程开发。</p>
<p>除此之外，微软还开源了一个项目叫做 <a target="_blank" rel="noopener" href="https://github.com/xtermjs/xterm.js/">xterm.js</a>，用于 VSCode 的终端，这也让浏览器实现终端功能变得更加简单。</p>
<p>作者认为相比于 VSCode，还是 Vim更胜一筹，因为它轻巧快熟，可以在服务器上通过 SSH 写代码，所有事情都可以在终端中完成，可移植性和可配置性都非常高，并且基于 xterm.js 也可以轻松实现在浏览器上使用 Vim 进行远程开发。</p>
<p>它并不像很多人想象得那么难以上手，它甚至让代码写起来就像打游戏一样，因为它的控制方式与游戏相似，都是通过各种命令的组合操作。</p>
<p>大多数命令有两个、三个或四个部分。三部分结构的一个版本是这样的：操作符（operator）-文本对象（text object）-动作（motion）。</p>
<p>操作符包括删除（delete）、更改（change）、视觉选择（visual select）和替换（replace），每次选一个使用。</p>
<p>所以可以这样组合：</p>
<ul>
<li>di’ —— 删除（delete）“单引号”内（inside）的内容。</li>
<li>da” —— 删除“双引号”周围（around）的内容。</li>
<li>dit —— 删除 html 标签（tag）内的内容。</li>
<li>ci[ —— 改变（change）[方括号] 内的内容。</li>
</ul>
<h5 id="个人思考"><a href="#个人思考" class="headerlink" title="个人思考"></a>个人思考</h5><p>对于 Vim，我一直在想要学习、放弃之间反复横跳，以至于到现在也只会一些简单的编辑，没有感受过 Vim 命令组合的强大。</p>
<p>但此文只是举了几个例子，就让我更加了解 Vim 的命令组合，重新燃起我想要学习 Vim 的热情。</p>
<h2 id="CSS-not-伪类选择器已支持复杂参数"><a href="#CSS-not-伪类选择器已支持复杂参数" class="headerlink" title="CSS :not()伪类选择器已支持复杂参数"></a><a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2022/02/css-not-pseudo-class-list-argument/?utm_source=tuicool&utm_medium=referral">CSS :not()伪类选择器已支持复杂参数</a></h2><p><em>原文地址：<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2022/02/css-not-pseudo-class-list-argument/?utm_source=tuicool&utm_medium=referral">《CSS :not()伪类选择器已支持复杂参数》 | 张鑫旭</a></em></p>
<p>新特性：</p>
<ul>
<li>支持多个选择器：<code>:not(.a, .b)</code></li>
<li>权重的区别：无论 :not() 内部有多少个选择器，最终只计算 :not() 本身这一个标签选择器</li>
</ul>
<h2 id="Facebook-工程师文化独特之处"><a href="#Facebook-工程师文化独特之处" class="headerlink" title="Facebook 工程师文化独特之处"></a><a target="_blank" rel="noopener" href="https://chinese.catchen.me/2022/02/unique-engineering-culture-of-facebook.html">Facebook 工程师文化独特之处</a></h2><p><em>原文地址：<a target="_blank" rel="noopener" href="https://chinese.catchen.me/2022/02/unique-engineering-culture-of-facebook.html">《Facebook 工程师文化独特之处》 | Cat Chen</a></em></p>
<p>作者在 Facebook 工作了 7 年，结合 Facebook 之前和之后的其它公司的经验， 本文就分享了一些作者觉得属于 Facebook 的独特文化的地方。</p>
<ul>
<li>工程师对产品结果负责任<ul>
<li>工程师考评不只看技术，从高级工程师开始，考评主要看对产品结果的产出</li>
<li>假如产品的留存率没有得到提高，则工程师、产品经理的考评都会得到惩罚</li>
<li>鼓励下属自行定义「什么叫做成功」，而不是告诉下属「做什么才能成功」</li>
</ul>
</li>
<li>基础架构被视为内部产品<ul>
<li>基础架构在公司内部推广</li>
</ul>
</li>
<li>救火比防火更容易获得回报<ul>
<li>如果你做的事无法量化，即便它是非常有用的，公司也会认为这是无意义的</li>
<li>举个例子：如果在小镇未发生火灾前，即便消防队长在背后默默做了很多事情防范，大家也不会认为这是你的功劳；相反，只有在发生过一次非常严重的火灾后，你做的事才能体现价值。</li>
<li>这就是为什么 Facebook 内部那么多问题处于起火状态，因为不起火就没有救火英雄。</li>
</ul>
</li>
</ul>
<h2 id="有趣的链接"><a href="#有趣的链接" class="headerlink" title="有趣的链接"></a>有趣的链接</h2><ul>
<li><a target="_blank" rel="noopener" href="https://npm.runkit.com/">NPM RunKit</a>：直接在浏览器中尝试任何 npm 软件包，如果你也曾有过与我一样的经历，想尝试一下某个库的运行结果，由于无法直接在浏览器 console 中运行，最终只能选择在项目内随便找个地方运行的话，那就可以试试这个工具，非常简单快捷，只需在 url 后面补上你想要的 npm 包名，如 <a target="_blank" rel="noopener" href="https://npm.runkit.com/dayjs">dayjs</a>。</li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-2-26-apptips">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-2-26-apptips" itemprop="url">近期值得关注的 App</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-26T21:37:00+08:00">
                2022-02-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于公众号「效率工具指南」<br>文&#x2F;彭宏豪   </p>
<p>Hello 大家好，我是小豪。   </p>
<p>好久不见，来一期这个公众号的传统艺能「近期值得关注的 App」，本期想介绍 3 个工具，一个是介绍过很多次的 Notion，两个是最近才用上的新工具，希望对你有帮助。  </p>
<h2 id="Notion-网页版导出-Markdown"><a href="#Notion-网页版导出-Markdown" class="headerlink" title="Notion 网页版导出 Markdown"></a>Notion 网页版导出 Markdown</h2><p>用 Notion 来记学习笔记，当一个页面记录的内容过多，通过点击目录来实现内容的跳转，会遇到<strong>卡顿</strong>的情况——点击后停留一小会、才能跳到对应的部分。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458805639428.jpg"></p>
<p>除了卡顿，Notion 客户端没有像飞书文档一样的<strong>侧边目录</strong>，这对在 Notion 中阅读长文档的人来说，非常痛苦。  </p>
<p>基于这两个原因，我萌生了<strong>把原先存放在 Notion 中的长文档导出到别的软件</strong>的想法。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458810403409.jpg"></p>
<p>从 Notion 中导出文档，我首选了 Markdown 格式，不为别的，就是希望文档从一个地方迁移到另外一个地方，格式不会错乱。  </p>
<p>很久之前用 Notion 自带的导出 Markdown  的功能，会遇到图片丢失的问题，那时候为了解决这个问题，还需要借助外部的工具，例如之前介绍过的浏览器插件「简悦」。  </p>
<p>不过今天我又试用了 <strong>Notion 网页版导出 Markdown</strong> 的功能，这次给我很大的惊喜：图片竟然没有丢失，而且渲染出来的富文本样式也很完美。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458817566839.jpg"></p>
<p>网页版 Notion 导出 Markdown，会得到一个压缩包，解压后可以得到一个 md 文件和文件夹，文件夹中存放了文档中插入的图片。  </p>
<p>我试过用两个不同的编辑器（VS Code 和 MWeb）打开这个 md 文件，文档里的图片都能正常显示。  </p>
<p>喜大普奔，<strong>从 Notion 中导出 Markdown，再也不需要借助任何第三方工具了</strong>，Notion 又行了。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458818022195.jpg"></p>
<h2 id="Here"><a href="#Here" class="headerlink" title="Here"></a>Here</h2><p>Here，是 Mac 上一个有点像是 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649882151&idx=1&sn=970d4b52a1974edad439e7766c89091a&chksm=83abfa0ab4dc731c16f214e3cdf4f85c5850e98f657f2181ded8cfce63efb46b6a2e582609b7&token=1423371312&lang=zh_CN#rd">uTools</a> 的应用，按下 Option + 空格键，可以呼出下图的搜索框。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458714832443.jpg"></p>
<p>点击右侧的圆形按钮，会显示 Here 内置的一些小工具（插件），可用来查看现在的天气、电脑网速、电池状态、汇率。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458716559396.jpg"></p>
<p>如果觉得插件数量太少，可以打开 Here 的偏好设置，切换到「插件」页面，启用未开启的插件，或是从 Here 官网下载更多插件。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458722856715.jpg"></p>
<p>切换到「捷径」页面，还可以看到它内置的一些小游戏，例如下图来自 Chrome 的彩蛋——<strong>小恐龙</strong>，按下空格键就能直接开始游戏；另外一个游戏：2048。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458718058641.jpg"></p>
<p>Here 右上角还提供了一个查看「<strong>剪贴板历史</strong>」的功能，可以查看你之前复制到剪贴板的所有内容，包含文本和图片，这个功能可以取代之前介绍过的付费剪贴板工具 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649918947&idx=1&sn=6137a4554ce7d2aa003545cb22128035&chksm=83a889ceb4df00d8619fc8882141a4d465ea328b1012652641256423f5a6fa2c2386c6bf1cbb&token=1423371312&lang=zh_CN#rd">PasteNow</a>。    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458720112046.jpg"></p>
<p>剪贴板历史记录顶部有一个搜索框，输入关键字可以找到相关的剪贴板记录。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458762739771.jpg"></p>
<p>最后，Here 还有一个小功能，在程序坞显示插件图标，如下图，我选择在程序坞上显示 Here 的天气插件。</p>
<p>这样一来，每次我想查看气温的时候，直接看程序坞的天气图标就好，而不需要按前面说的——呼出搜索框，点击右侧的圆形按钮，打开插件面板（查看天气）——进行一系列操作。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458770951007.jpg"></p>
<p>Here 官网：<br><a target="_blank" rel="noopener" href="https://here.app/">https://here.app/</a>  </p>
<p>首次使用 Here，可能需要用到「邀请码」，可以前往下方的页面获取邀请码：</p>
<p><a target="_blank" rel="noopener" href="https://here.app/release-notes">https://here.app/release-notes</a>   </p>
<h2 id="更高效地移动文件"><a href="#更高效地移动文件" class="headerlink" title="更高效地移动文件"></a>更高效地移动文件</h2><p>用 Mac 的过程中，可能会有这样的需求：将多个文件从一个文件夹📁移动到另外一个文件夹。</p>
<p>我之前的做法是，在打开 Finder 访达的情况下，按下 <strong>Command + T</strong> 新建一个标签页，在新标签页中打开目标文件夹，接着在起始文件夹选中多个待转移的文件，将它们拖拽到目标文件夹。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458796530476.jpg"></p>
<p>这个做法没啥毛病，但少数时候操作不慎，本来已经拖拽到目标文件夹的文件，还是会回到起始文件夹（用文字描述不太直观，但有过类似经验的朋友应该能体会）。   </p>
<p>这里推荐一个帮我们更高效地转移文件的工具：<strong>Dropover - 更加容易拖放文件</strong></p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458800036506.jpg"></p>
<p>安装软件后，选中一个想要转移的文件并<strong>长按鼠标左右晃动</strong>，文件旁边会出现一个小抽屉，这是一个文件暂存区，将想要移动的多个文件拖拽到小抽屉中，再一次性移动，使用体验更好。</p>
<p>软件可免费下载，免费试用 14 天，到期后需要购买才能继续使用，买断制，25 元。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/26/16458795114809.jpg"></p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-weekly" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/weekly-01.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/weekly-01.html" itemprop="url">周刊第1期：搬新家了</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-20T00:00:00+08:00">
                2022-02-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="我为什么要写周刊"><a href="#我为什么要写周刊" class="headerlink" title="我为什么要写周刊"></a>我为什么要写周刊</h2><p>前几天特地写了篇文章来分享一下我为什么要办这个周刊：《<a href="/post/weekly-idea.html">我为什么要写周刊</a>》。</p>
<h2 id="我搬新家了"><a href="#我搬新家了" class="headerlink" title="我搬新家了"></a>我搬新家了</h2><p>在去年《<a href="/post/2021-summary.html">2021 年度总结</a>》有提到，我曾有过一段开小电动车上班的时光，通勤时间极短，幸福感倍高，但由于公司地址搬迁，就再也没有享受过这样的日子了，即便后来跳槽到新公司，通勤时间缩短了一半，但也要 40 分钟左右的通勤时间，所以，在租房合同到期后，我决定搬到公司附近。</p>
<p>但搬家真的好累，而且广州这几天连续不断地下雨，心情也变得烦躁起来，搬家过程不太顺利，期间还遗漏了物品在楼下没带上车，幸好楼下的邻居平时关系比较好，愿意帮我保管，第二天又跑回去拿。</p>
<p>但从明天开始就可以享受极短通勤距离的好处，想想还是蛮开心的。</p>
<h2 id="分享文章"><a href="#分享文章" class="headerlink" title="分享文章"></a>分享文章</h2><blockquote>
<p>一些我本周阅读过的好文章、以及我的总结和启发；非常建议你阅读原文，而不是只看这些摘要，毕竟一千个读者就有一千个哈姆雷特，而且我的理解可能是错误的。</p>
</blockquote>
<h3 id="我对-Svelte-的看法"><a href="#我对-Svelte-的看法" class="headerlink" title="我对 Svelte 的看法"></a><a target="_blank" rel="noopener" href="https://lutaonan.com/blog/svelte/">我对 Svelte 的看法</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://lutaonan.com/blog/svelte/">《我对 Svelte 的看法》 | Randy’s Blog</a></em></p>
<p>简单来说 Svelte 是一个在编译时实现了 Reactivity (反应式) 的框架。</p>
<p>如何不用 <code>defineProperty</code> 实现 Reactivity：</p>
<ol>
<li>只要在每次赋值的时候，手动执行 <code>update</code> 方法</li>
<li>Svelte 在编译阶段自动帮我们做了这件事</li>
<li>Svelte 使用了一个 <code>label</code> 语法（$:），实现类似于 Vue 的 <code>computed</code> 功能。</li>
</ol>
<p>Svelte 的跨组件通讯：</p>
<ul>
<li>通过在变量名前面加一个 $ 实现自动订阅<ul>
<li>不是黑魔法，只是针对 $ 开头的变量自动转换成 <code>subscribe</code></li>
</ul>
</li>
</ul>
<p>Svelte 所有功能都在编译阶段完成，并且可以写更少的代码，它相对于 React 和 Vue 更简单，不需要学太多额外的 API 和新语法。</p>
<p>目前的适用场景：</p>
<ul>
<li>适用做来做活动页。</li>
</ul>
<h5 id="我的启发"><a href="#我的启发" class="headerlink" title="我的启发"></a>我的启发</h5><p>学习一个框架或者一个语言，并不一定非要把它用到生产上才算真的有用。更多地是因为想看看在面对同一个问题的时候，不同的人解决问题的思路是怎样的，从而帮助我们提高自己的视野，这才是学习框架和语言真正的魅力。</p>
<h3 id="Svelte-的异步更新实现原理"><a href="#Svelte-的异步更新实现原理" class="headerlink" title="Svelte 的异步更新实现原理"></a><a target="_blank" rel="noopener" href="https://lutaonan.com/blog/how-svelte-set-state-works/">Svelte 的异步更新实现原理</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://lutaonan.com/blog/how-svelte-set-state-works/">《Svelte 的异步更新实现原理》 | Randy’s Blog</a></em></p>
<p>如何异步更新：<strong>将所有导致 UI 更新的操作统一放到一个微任务里执行。</strong></p>
<p>Svelte 的实际做法：</p>
<ol>
<li>一个组件会被编译成一个 fragment</li>
<li>更新操作通过 <code>$$invalidate</code> 包裹</li>
<li>触发 <code>schedule_update()</code> ，通知框架需要被更新，框架会维护一个 <code>dirty_components</code> 数组。</li>
<li>在微任务更新时会统一遍历 <code>dirty_components</code> 数组里的任务，触发组件的更新方法。</li>
</ol>
<h3 id="开发模式-“Development-Mode”-是如何工作的？"><a href="#开发模式-“Development-Mode”-是如何工作的？" class="headerlink" title="开发模式 “Development Mode” 是如何工作的？"></a><a target="_blank" rel="noopener" href="https://overreacted.io/zh-hans/how-does-the-development-mode-work/">开发模式 “Development Mode” 是如何工作的？</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://overreacted.io/zh-hans/how-does-the-development-mode-work/">《开发模式 “Development Mode” 是如何工作的？》 | Dan Abramov</a></em></p>
<p><code>process.env.NODE_ENV</code> 实际上是一个常量，在构建时会被替换成一个字符串，所以判断条件最终是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// In development:</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&#x27;development&#x27;</span> !== <span class="string">&#x27;production&#x27;</span>) &#123; // <span class="literal">true</span></span><br><span class="line">  doSomethingDev(); // 👈</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  doSomethingProd();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// In production:</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&#x27;production&#x27;</span> !== <span class="string">&#x27;production&#x27;</span>) &#123; // <span class="literal">false</span></span><br><span class="line">  doSomethingDev();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  doSomethingProd(); // 👈</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上判断条件会被「死码消除」给优化，不被执行的代码将被移除。</p>
<p>但是，如果写成这样，则不会奏效：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> mode = <span class="string">&#x27;production&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (mode !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">  // 🔴 not guaranteed to be eliminated</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为 JavaScript 并没有智能到这种程度。</p>
<h5 id="我的启发-1"><a href="#我的启发-1" class="headerlink" title="我的启发"></a>我的启发</h5><p>以前看 Vue 源码的时候发现很多文件都会重复好几次这样的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (something) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;something error message&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>非常好奇为什么不重构成这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// utils.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">warn</span> = (<span class="params">condition, message</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (condition) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// something.js</span></span><br><span class="line"><span class="title function_">warn</span>(xxx, <span class="string">&#x27;something error message&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>现在知道为什么了，因为前者被「死码消除」后，所有相关代码都会被移除，</p>
<p>而后者，相当于调用了一个空的 <code>warn</code> 方法。</p>
<p>但没想到在 Vue3 中已经这么做了：<a target="_blank" rel="noopener" href="https://github.com/vuejs/core/blob/main/packages/compiler-core/src/errors.ts#L16">defaultOnWarn</a>。</p>
<p>延伸阅读：<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000041469096">高效实现框架和 JS 库瘦身</a></p>
<h3 id="通俗易懂的代数效应"><a href="#通俗易懂的代数效应" class="headerlink" title="通俗易懂的代数效应"></a><a target="_blank" rel="noopener" href="https://overreacted.io/zh-hans/algebraic-effects-for-the-rest-of-us/">通俗易懂的代数效应</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://overreacted.io/zh-hans/algebraic-effects-for-the-rest-of-us/">《通俗易懂的代数效应》 | Dan Abramov</a></em></p>
<p>代数效应是什么：</p>
<ul>
<li>类似于 try…catch 语法，无论我们在多少层里面 throw 一个错误，外层的 catch 都能捕获到。</li>
<li>如果内层的 throw 还可以接受从 catch 发送的数据，这就是代数效应。</li>
<li>使用 async、await 的缺点是我们内部定义了 async、则会影响该函数底部所有的调用者。</li>
</ul>
<p>React 中的代数效应：</p>
<ul>
<li>JS 并没有一个类似于 try…handle 的语法，但仅在 React 内部可以通过其它方式实现类似的效果。</li>
<li>典型的场景是：某个组件的渲染是异步的，需要等数据请求返回后再回过来继续渲染。</li>
</ul>
<h3 id="防御性-CSS"><a href="#防御性-CSS" class="headerlink" title="防御性 CSS"></a><a target="_blank" rel="noopener" href="https://ishadeed.com/article/defensive-css/">防御性 CSS</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://ishadeed.com/article/defensive-css/">《防御性 CSS》 | ishadeed</a></em></p>
<ol>
<li>确保 flex 布局能够换行</li>
<li>确保文字过长时的间距以及换行处理</li>
<li>防止图片被拉伸或压缩</li>
<li>弹窗锁定滚动</li>
<li>CSS 变量回退</li>
<li>尽量使用 min-height 固定宽度和高度</li>
<li>确保重置 <code>background-repeat</code></li>
<li>使用 <code>gap</code> 设置 flex 布局间距</li>
<li>给图片设置一个 background-color，以确保图片上方的文字能够正常显示</li>
<li>使用 <code>overflow: auto</code></li>
<li>图片 <code>object-fit: cover</code></li>
<li>分组选择器只要有一个无效，则所有选择器不生效</li>
</ol>
<h5 id="我的启发-2"><a href="#我的启发-2" class="headerlink" title="我的启发"></a>我的启发</h5><p>了解常用的防御性 CSS ，可以避免很多开发中没有意识到的问题。</p>
<h3 id="SSR、SSG、ISR、DPR-有什么区别？"><a href="#SSR、SSG、ISR、DPR-有什么区别？" class="headerlink" title="SSR、SSG、ISR、DPR 有什么区别？"></a><a target="_blank" rel="noopener" href="http://www.yyyweb.com/5407.html">SSR、SSG、ISR、DPR 有什么区别？</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="http://www.yyyweb.com/5407.html">《SSR、SSG、ISR、DPR 有什么区别？》 | 前端里</a></em></p>
<ul>
<li>CSR（Client Side Rendering）: 客户端渲染<ul>
<li>缺点：SPA 应用不利于 SEO</li>
</ul>
</li>
<li>SSR（Server Side Rendering）: 服务端渲染<ul>
<li>优点：利于 SEO</li>
<li>缺点：需要更多的服务器计算资源和运维成本</li>
</ul>
</li>
<li>SSG（Static Site Generation）: 静态网站生成<ul>
<li>常年不变的直接生成为静态页面，页面中的动态内容使用 CSR</li>
<li>缺点：对于网页数量极多的页面，生成一次需要花费很长时间</li>
</ul>
</li>
<li>ISR（Incremental Site Rendering）: 增量式网站渲染<ul>
<li>关键性页面预渲染，缓存至 CDN；非关键性页面先显示 fallback，再使用 CSR渲染，并且缓存至 CDN</li>
<li>缺点：需要先显示 fallback 内容，用户体验不好</li>
</ul>
</li>
<li>DPR（Distributed Persistent Rendering）: 分布式持续渲染<ul>
<li>基于 ISR 的基础上去除 fallback，并且使用「按需构建器」来响应未渲染的页面</li>
</ul>
</li>
</ul>
<h3 id="不优雅的-React-Hooks"><a href="#不优雅的-React-Hooks" class="headerlink" title="不优雅的 React Hooks"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/455317250">不优雅的 React Hooks</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/455317250">《不优雅的 React Hooks》 | 蚂蚁 RichLab 前端团队</a></em></p>
<p>「奇怪的」规矩：</p>
<ul>
<li>命名：react hooks 要求 hooks 命名以 use 开头，作者觉得破坏了语义，应该以 _ 或者 $ 开头</li>
<li>调用时序：react hooks 区分不同的 state 是通过 hooks 的调用顺序，在内部维护一个链表，这个做法是相对简单粗暴的，所以这就是为什么 hooks 不能条件分支中使用，作者认为这种要求完全需要依赖开发者的经验或者 lint 工具，并不符合直觉。</li>
<li>useRef 的「排除万难」：useRef 仅在组件 mount 阶段初始化，后面 update 时引用同一个变量，但是作者这样多少有点违反 react hooks 的设计初衷，也即 useRef 并不函数式。</li>
</ul>
<p>有缺陷的生命周期：</p>
<ul>
<li>构造时：Class Component 和 Function Component 之间存在一个很大的区别，那就是后者每次 re-render 时都在重新调用自身，所以它并没有 constructor 来做某些仅执行一次的操作。</li>
<li>设计混乱的 useEffect：它实际上只监听能够触发 re-render 的变量，也就是 state，但是它接受的参数 deps 又不做任何限制，很难不让人认为是设计缺陷。</li>
</ul>
<p>useCallback：</p>
<ul>
<li>性能问题？无限套娃✓：使用 useCallback 是为了解决每次渲染都会创建一个新的回调函数，从而导致重新渲染的问题，但是使用 useCallback 也会引发一个更大的问题，那就是当useCallback之前存在依赖关系时，它们的引用维护也变得复杂。调用某个函数时要小心翼翼，你需要考虑它有没有引用过时的问题，如有遗漏又没有将其加入依赖数组，就会产生 Bug。</li>
</ul>
<p>小结：</p>
<ul>
<li>本文没有鼓吹 Class Component 拒绝使用 React Hooks 的意思，反而是希望通过细致地比对二者，从而更深入理解 Hooks。</li>
<li>React Hooks 的各种奇怪之处，也正是潜在症结之所在。</li>
<li>在 Hooks 之前，Function Component 都是 Stateless 的，小巧、可靠但功能有限。Hooks 为 Function Component 赋予了 State 能力并提供了生命周期，使 Function Component 的大规模使用成为了可能。</li>
<li>Hooks 的「优雅」来自向函数式的致敬，但useRef的滥用让 Hooks 离「优雅」相去甚远。</li>
<li>大规模实践 React Hooks 仍然有诸多问题，无论是从语义理解抑或是封装的必要性。</li>
<li>创新不易，期待 React 官方之后会有更好的设计吧。</li>
</ul>
<h3 id="DevTools-实现原理"><a href="#DevTools-实现原理" class="headerlink" title="DevTools 实现原理"></a><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/H8iahg5WUOHXeRzvf0R01w?scene=25#wechat_redirect">DevTools 实现原理</a></h3><p><em>原文地址：<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/H8iahg5WUOHXeRzvf0R01w?scene=25#wechat_redirect">《DevTools 实现原理》 | vivo 互联网浏览器内核团队</a></em></p>
<p>DevTools 架构：</p>
<ul>
<li>Chrome：TCP + CDP<ul>
<li>CDP（Chrome DevTools Protocol） 本质上是一个 JSON 协议，目前使用 Puppeteer 实现</li>
</ul>
</li>
<li>使用 WebSocket</li>
<li>Android：利用 ADB forward 端口转发能力连接 PC 和 Android 的网络访问</li>
</ul>
<p>内核实现</p>
<ul>
<li>Server 层，用于接收外部网络发过来的操作请求。</li>
<li>Agent 层，对于 Server 层发过来的请求，进行拆解，根据操作的类型不同，再分发给不同的 Agent 来处理。</li>
<li>Session 层，Session 是对不同的业务模块进行了一层抽象。过了 Session 层后，将会进入不同的业务模块，可以到达 V8， Blink 等。</li>
<li>业务层，就是具体的功能模块，比如 V8 模块，主要负责 JavaScript 的调试相关能力的支撑。</li>
</ul>
<h2 id="有趣的链接"><a href="#有趣的链接" class="headerlink" title="有趣的链接"></a>有趣的链接</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://devtool.tech/tree">Tree 树形目录可视化生成器</a>：我们都知道 <code>tree</code> 这个命令，可以打印输出现有目录的树形结构，但现实中还存在一种情况，那就是需要输出并不存在的目录结构，这种需求在写开发设计文档时尤为常见，所以除了构造一个临时的目录，还可以使用这个工具直接生成树形目录结构。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh.z-lib.org/">Z-Library</a>：世界上最大的数字图书馆，在这里可以找到大量的电子书籍，格式包括：pdf、epub、mobi 等，对于我这种不爱看实体书的人来说，简直是神器。但需要注意每天一个 ip 会限制下载数量，未注册用户是 5 次，注册用户是 10 次，当然也可以通过捐赠来提高下载次数的限制。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.iizhi.cn/">毕方铺</a>：网盘搜索神器，个人认为是所有网盘搜索神器中最好的一个，所有资源都为用户自愿分享，下载需要耗费金币，你也可以上传你想要的分享的资源，别人购买你就能获取金币，当然到达一定金币后就可以提现。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://createfeed.fivefilters.org/index-mergefeeds.php?url%5B%5D=https://medium.com/feed/tag/open-source&max=20&order=feed">Feed Creator</a>：制作 RSS 源的工具，包括网页生成 RSS、合并多个 RSS 等功能；相信有些同学知道 <a target="_blank" rel="noopener" href="https://docs.rsshub.app/">RSSHub</a> 这个开源项目，显然这个项目更加强大，但并不是所有场景都需要用到 RSSHub，这时候就可以使用 Feed Creator。分享一下我个人会在什么场景下使用 Feed Creator 而不是 RSSHub：对于某些访问需要科学上网的网站，我们可以直接通过它生成一个国内可以直接访问的 RSS 源。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/learn/paths/rust-first-steps/">Microsoft 的 Rust 入门教程</a>：要说这两年前端最新的技术莫过于 Rust 了，大量的前端基础设施都通过 Rust 重写了一遍，哪怕笔者这种学不动的人也需要学一些 Rust 的知识，但无奈一直没有找到满意的 Rust 教程，前段时间听闻微软出了一个 Rust 教程，第一次打开后就直接跟着学了两个星期，根本停不下来，真心不错。xdm，Rust 学起来吧！</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/62-%E6%A0%B8%E9%85%B8%E6%A3%80%E6%B5%8B%E4%B8%8E%E7%AC%AC%E4%B8%89%E9%92%88%E7%96%AB%E8%8B%97">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/62-%E6%A0%B8%E9%85%B8%E6%A3%80%E6%B5%8B%E4%B8%8E%E7%AC%AC%E4%B8%89%E9%92%88%E7%96%AB%E8%8B%97" itemprop="url">核酸检测与第三针疫苗</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-18T23:00:00+08:00">
                2022-02-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%A7%82%E7%82%B9/" itemprop="url" rel="index">
                    <span itemprop="name">观点</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>最近香港的疫情又开始激增了，日增数量已经发展到千余人。这其实也是意料之中的，毕竟一直以来港府应对疫情的措施就是看着好像认真在防疫，但是仔细深究又感觉啥都没做。相比澳门，香港这边无论是政府还是资本家们，想着要和内地通关，盯着的一直是日增的人数，似乎只要日增人数下降到一定水平了就能通关了。但是好像从没有（或者说不愿意）思考是不是要普筛、要不要以清零为目标进行防疫隔离。</p>
<p><img src="https://cos.pinlyu.com/posts/2022/62-China_experience.webp#550x" alt="希望港府认真学习"></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2022/62-%E6%A0%B8%E9%85%B8%E6%A3%80%E6%B5%8B%E4%B8%8E%E7%AC%AC%E4%B8%89%E9%92%88%E7%96%AB%E8%8B%97#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/gRPC-%E6%B5%81%E5%BC%8F%E4%BC%A0%E8%BE%93%E6%9E%81%E7%AE%80%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/gRPC-%E6%B5%81%E5%BC%8F%E4%BC%A0%E8%BE%93%E6%9E%81%E7%AE%80%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97" itemprop="url">gRPC 流式传输极简入门指南</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-18T09:34:36+08:00">
                2022-02-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index">
                    <span itemprop="name">编程语言</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>最近一直在研究 gRPC 的 <a target="_blank" rel="noopener" href="https://github.com/grpc/grpc/blob/master/doc/server-reflection.md">ServerReflection</a>，顾名思义，这是 gRPC 里提供的反射接口，当你需要获取某个接口的描述信息，或者是希望动态调用 gRPC 的时候，这一切就会变得非常有用，如果你经常使用 <a target="_blank" rel="noopener" href="https://github.com/fullstorydev/grpcui/">gRPC UI</a> 这款工具来调试 gRPC 接口，那么，你一定会注意到一件事情，即它要求服务端必须支持 ServerReflection API，而这一点在 ASP.NET Core 中已经得到支持，对此感兴趣的朋友可以参考<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/aspnet/core/grpc/test-tools?view=aspnetcore-6.0#set-up-grpc-reflection">官方文档</a>。当然，这并不是我想表达的重点(我就知道)。重点是什么呢？在使用 ServerReflection API 的过程中，我发现它采用了 gRPC 双向流的方式来进行交互，在过去的日子里，我研究过诸如 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket">WebSocket</a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Server-sent_events">Server-Sent Events</a> 等等服务器推送的技术，我意识到这是一个非常接近的技术，所以，今天这篇文章，我们来一起聊聊 gRPC 中的流式传输。</p>
<h1 id="从-HTTP-2-说起"><a href="#从-HTTP-2-说起" class="headerlink" title="从 HTTP&#x2F;2 说起"></a>从 HTTP&#x2F;2 说起</h1><p>首先，我想说，流式传输并不是一个新的概念，这一切就好像，即使你从来没有听过流媒体的概念，可这并不妨碍你追剧、刷短视频，隐隐然有种“不识庐山真面目，只缘身在此山中”的感觉。随着网络带宽和硬件水平的不断提升，越来越多的云服务变得像水、电、天然气一样寻常，以此作喻，流式传输，就像你打开水龙头，此时，水就会源源不断地流出来，并且可以做到随用随取。因此，流式传输实际上就是指通过网络传输媒体，例如音频、视频等的技术统称，服务器可以连续地、实时地向客户端发送数据，而客户端不必等所有数据发送完就可以访问这些数据。按照实现方式的不同，流式传输可以分为 <code>实时流式传输</code> 和 <code>顺序流式传输</code> 两种，前者通常指<code>RTP/RTCP</code>，典型的场景是直播；后者通常是指由 Nginx、Apache 等提供支持的顺序下载。</p>
<p><img src="/gRPC-%E6%B5%81%E5%BC%8F%E4%BC%A0%E8%BE%93%E6%9E%81%E7%AE%80%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/HTTP_1.1_vs_HTTP_2.0.png" alt="HTTP/1.1 vs HTTP/2"></p>
<p>如果你对 HTTP&#x2F;2 有一定了解的话，就会知道它最为人所知的特性是多路复用。在 HTTP&#x2F;1.1 的时代，同一个时刻只能对一个请求进行处理或者响应，换句话说，下一个请求必须要等当前请求处理完才能继续进行，与此同时，浏览器为了更快地加载页面资源，对同一个域名下的请求并发数进行了限制，所以，你会注意到一个有趣的现象，部分网站会使用多个 CDN 加速的域名，而这正是为了规避浏览器的这一限制，HTTP&#x2F;1.1 时代，可以称为“半双工模式”。到了 HTTP&#x2F;2 的时代，多路复用的特性让一次同时处理多个请求成为了现实，并且同一个 TCP 通道中的请求不分先后、不会阻塞，是真正的“全双工通信”。一个和本文更贴近的概念是流，HTTP&#x2F;2 中引入了流(Stream) 和 帧(Frame) 的概念，当 TCP 通道建立以后，后续的所有操作都是以流的方式发送的，而二进制帧则是组成流的最小单位，属于协议层上的流式传输。</p>
<h1 id="gRPC-中的流式传输"><a href="#gRPC-中的流式传输" class="headerlink" title="gRPC 中的流式传输"></a>gRPC 中的流式传输</h1><p>OK，现在我们正式开始 gRPC 流式传输的话题。首先，对于一个 gRPC 接口而言，它的起源是 Protobuf 定义。所以，一个最为直观的认识是从 Protobuf 定义入手：</p>
<figure class="highlight protobuf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 普通 RPC</span></span><br><span class="line"><span class="function"><span class="keyword">rpc</span> SimplePing(PingRequest) <span class="keyword">returns</span> (PingReply)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端流式 RPC</span></span><br><span class="line"><span class="function"><span class="keyword">rpc</span> ClientStreamPing(stream PingRequest) <span class="keyword">returns</span> (PingReply)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务器端流式 RPC</span></span><br><span class="line"><span class="function"><span class="keyword">rpc</span> ServerStreamPing(PingRequest) <span class="keyword">returns</span> (stream PingReply)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 双向流式 RPC</span></span><br><span class="line"><span class="function"><span class="keyword">rpc</span> BothStreamPing(stream PingRequest) <span class="keyword">returns</span> (stream PingReply)</span>;</span><br></pre></td></tr></table></figure>

<p>可以注意到，相比普通的 RPC 方法(UnaryCall)，采用流式传输的 gRPC 接口，主要是多了一个<code>stream</code>关键字。当该关键字修饰参数时，表示这是一个客户端流式的 gRPC 接口；当该参数修饰返回值时，表示这是一个服务器端流式的 gRPC 接口；当该关键字同时修饰参数和返回值时，表示这是一个双向流式的 gRPC 接口。作为类比，双向流式的 gRPC 接口，约等于 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket">WebSocket</a>，即客户端、服务器端都可以以流的形式收&#x2F;发数据；服务器端流式的 gRPC 接口，约等于 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Server-sent_events">Server-Sent Events</a>，即服务器端以流的形式发数据。同理，客户端流式的 gRPC 接口，即客户端以流的的形式发数据。</p>
<p>我为什么会突然对这个话题产生兴趣呢？个人以为，主要有两个原因：其一，是工作中使用流式传输的机会不多，即使遇到数据量特别大的场合，大家想到的一定是修改 gRPC 数据传输的大小，而不是采用流式传输的做法；其二，是我注意到像 <a target="_blank" rel="noopener" href="https://istio.io/">Istio</a>、<a target="_blank" rel="noopener" href="https://www.envoyproxy.io/">Envoy</a>、<a target="_blank" rel="noopener" href="https://nacos.io/zh-cn/">Nacos</a> 等项目，内部都是用 gRPC 作为通信协议，当你需要实现一个控制平面的时候，你会发现那里有大量的流式 gRPC 接口等着你去实现。此前，我有一点关乎 gRPC 的想法，譬如动态地为 <a target="_blank" rel="noopener" href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_json_transcoder_filter">gRPC-JSON Transcoder</a> 生成配置信息、利用 <a target="_blank" rel="noopener" href="https://github.com/grpc/grpc/blob/master/doc/server-reflection.md">ServerReflection</a> 扩展 Swagger 等等，毫无疑问，这一切都需要你去了解 gRPC 的流式传输，一组重要的 API 是 <code>IAsyncStreamReader&lt;T&gt;</code> 和 <code>IAsyncStreamReader&lt;T&gt;</code>:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、调用 ServerReflection 获取 gRPC 服务</span></span><br><span class="line"><span class="keyword">var</span> callResult = _serverReflectionClient.ServerReflectionInfo(</span><br><span class="line">    deadline: deadline, </span><br><span class="line">    cancellationToken: cancellationToken</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、定义一个 Task 来解析服务端响应的流</span></span><br><span class="line"><span class="keyword">var</span> resolveServiceListTask = Task.Run(<span class="keyword">async</span> () =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">await</span> callResult.ResponseStream.MoveNext(cancellationToken))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> service <span class="keyword">in</span> callResult.ResponseStream.Current.ListServicesResponse.Service)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(service.Name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3、客户端以流的方式写入参数</span></span><br><span class="line"><span class="keyword">var</span> request = <span class="keyword">new</span> ServerReflectionRequest() &#123; ListServices = <span class="string">&quot;&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">await</span> callResult.RequestStream.WriteAsync(request);</span><br><span class="line"><span class="keyword">await</span> callResult.RequestStream.CompleteAsync();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4、客户端以流的方式读出结果</span></span><br><span class="line"><span class="keyword">await</span> resolveServiceListTask;</span><br></pre></td></tr></table></figure>

<p>如图所示，你大概可以理解 gRPC 流式传输的运作过程，<code>RequestStream</code> 实现了 <code>IAsyncStreamWriter&lt;T&gt;</code> 接口，负责流的写入，调用 <code>CompleteAsync()</code> 方法时表示数据已经写完；<code>ResponseStream</code> 实现了 <code>IAsyncStreamReader&lt;T&gt;</code> 接口，负责流的读取，典型的迭代器模式，如果你听说过 C# 8.0 里的异步流(AsyncStream)，就应该会知道，它属于可枚举类(Enumerable)异步变体，我相信，<code>MoveNext()</code> 和 <code>Current</code> 就不需要再做多余的解释啦，哈哈！</p>
<h2 id="客户端流"><a href="#客户端流" class="headerlink" title="客户端流"></a>客户端流</h2><p>对于客户端流式 gRPC 接口而言，客户端负责写入流，服务器端负责读取流，所以，<code>ClientStreamPing()</code> 会生成下面的方法签名，这里是一个简单的实现：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">async</span> Task&lt;PingReply&gt; <span class="title">ClientStreamPing</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    IAsyncStreamReader&lt;PingRequest&gt; requestStream, </span></span></span><br><span class="line"><span class="params"><span class="function">    ServerCallContext context</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 从 IAsyncStreamReader&lt;T&gt; 中读取流并放入队列</span></span><br><span class="line">    <span class="keyword">var</span> requestQueue = <span class="keyword">new</span> Queue&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">await</span> requestStream.MoveNext())</span><br><span class="line">    &#123;</span><br><span class="line">        requestQueue.Enqueue(requestStream.Current.RequestId);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 从队列中取出数据并返回</span></span><br><span class="line">    <span class="keyword">if</span> (requestQueue.TryDequeue(<span class="keyword">out</span> <span class="keyword">var</span> requestId))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> PingReply() &#123; RequestId = requestId, Message = <span class="string">&quot;OK&quot;</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> PingReply() &#123; RequestId = <span class="built_in">string</span>.Empty, Message = <span class="string">&quot;&quot;</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时，客户端对应实现如下，继续沿用 <code>IAsyncStreamWriter&lt;T&gt;</code> 的套路：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> callResult = heartBeatClient.ClientStreamPing();</span><br><span class="line"><span class="keyword">await</span> callResult.RequestStream.WriteAsync(<span class="keyword">new</span> PingRequest() &#123; </span><br><span class="line">    RequestId = GetCurrentTimeStamp().ToString() </span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">await</span> callResult.RequestStream.CompleteAsync();</span><br><span class="line"><span class="keyword">var</span> reply = <span class="keyword">await</span> callResult.ResponseAsync;</span><br></pre></td></tr></table></figure>

<h2 id="服务器端流"><a href="#服务器端流" class="headerlink" title="服务器端流"></a>服务器端流</h2><p>服务器端的流式 gRPC，意味着服务端会通过 <code>IAsyncStreamWriter&lt;T&gt;</code> 以流的方式写入数据：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> Task <span class="title">ServerStreamPing</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">     PingRequest request, </span></span></span><br><span class="line"><span class="params"><span class="function">     IServerStreamWriter&lt;PingReply&gt; responseStream, </span></span></span><br><span class="line"><span class="params"><span class="function">     ServerCallContext context</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    responseStream.WriteAsync(<span class="keyword">new</span> PingReply() &#123; </span><br><span class="line">        RequestId = request.RequestId, </span><br><span class="line">        Message = <span class="string">&quot;OK&quot;</span> </span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> Task.CompletedTask;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时，客户端还是像使用普通方法一样调用即可：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reply = heartBeatClient.ServerStreamPing(<span class="keyword">new</span> PingRequest() &#123; </span><br><span class="line">    RequestId = GetCurrentTimeStamp().ToString() </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h2 id="双向流"><a href="#双向流" class="headerlink" title="双向流"></a>双向流</h2><p>一旦我们熟悉了这个套路，理解双向流就再没有什么难度，客户端和服务器端都用 <code>IAsyncStreamWriter&lt;T&gt;</code> 和  <code>IAsyncStreamWriter&lt;T&gt;</code> 进行读写即可：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 读数据</span></span><br><span class="line"><span class="keyword">var</span> requestQueue = <span class="keyword">new</span> Queue&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">await</span> requestStream.MoveNext())</span><br><span class="line">&#123;</span><br><span class="line">    requestQueue.Enqueue(requestStream.Current.RequestId);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写数据</span></span><br><span class="line"><span class="keyword">while</span> (requestQueue.TryDequeue(<span class="keyword">out</span> <span class="keyword">var</span> requestId))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">await</span> responseStream.WriteAsync(<span class="keyword">new</span> PingReply() &#123; </span><br><span class="line">        RequestId = requestId, </span><br><span class="line">        Message = <span class="string">&quot;OK&quot;</span> </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>同理，客户端采用类似的做法，这里我们发 10 次心跳看看：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  写数据</span></span><br><span class="line"><span class="keyword">var</span> callResult = heartBeatClient.BothStreamPing();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">await</span> callResult.RequestStream.WriteAsync(<span class="keyword">new</span> PingRequest() &#123; </span><br><span class="line">        RequestId = GetCurrentTimeStamp().ToString() </span><br><span class="line">    &#125;);</span><br><span class="line">    Thread.Sleep(<span class="number">500</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> callResult.RequestStream.CompleteAsync();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读数据</span></span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">await</span> callResult.ResponseStream.MoveNext(CancellationToken.None))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> reply4 = callResult.ResponseStream.Current;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时，我们就可以得到下面的结果：</p>
<p><img src="/gRPC-%E6%B5%81%E5%BC%8F%E4%BC%A0%E8%BE%93%E6%9E%81%E7%AE%80%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/gRPC-Streaming.png" alt="gRPC 双向流效果演示"></p>
<p>个人感觉，这个可以用在那些需要做双向通信的场合，譬如心跳检测、数据看板、日志监控等等，坦白来讲，相对于 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket">WebSocket</a>、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Server-sent_events">Server-Sent Events</a> 等等服务器推送技术，gRPC 的双向流优势并不显著，唯一的优势可能是 HTTP&#x2F;2 多路复用带来的性能上的提升。</p>
<h1 id="本文小结"><a href="#本文小结" class="headerlink" title="本文小结"></a>本文小结</h1><p>最近的状态一直不太好，因为工作中的琐事消耗了大量精力。因而，这篇平淡如白开水般的线性叙事，委实不能被称之为一篇博客，而这大概就是我这段时间的真实写照。作为一名双子座，我的好奇心常常引导着我去关注那些意外的收获，就像 gRPC 里的流式传输，本质上因为我想通过  <a target="_blank" rel="noopener" href="https://github.com/grpc/grpc/blob/master/doc/server-reflection.md">ServerReflection</a> 为 gRPC 构建一份 Swagger 风格的 API 文档，这个工作目前还有些悬而未决的问题。当然，在这个过程中，大致搞懂了如何去动态调用一个 gRPC 接口，因为 <a target="_blank" rel="noopener" href="https://github.com/qinyuanpei/FluentGrpc.Gateway">FluentGrpc.Gateway</a> 目前依赖 gRPC 生成客户端代码，或者说这种建立在动态链接库上的方案有一定的缺陷。类似地，工作中发现 Envoy 的 <a target="_blank" rel="noopener" href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_json_transcoder_filter">gRPC-JSON Transcoder</a> 插件，需要手动配置每一个 gRPC 服务，开始琢磨怎么能让这个过程更智能一点，发现需要 Envoy 的 xDS API、了解控制平面，这种感觉就像在挖一口井，能不能看到水我不知道，每一铲子下去都有意外收获，这种探险的感觉非常有趣，唯一的平衡点在于，主动的发现永远都会比被动的接受花更多的时间。这篇流水账主要介绍了 gRPC 里流式传输，即客户端流、服务器端流和双向流，如果你足够有心，不妨回过头看看这篇文章 <a href="/posts/1679688265/">ASP.NET Core gRPC 拦截器的使用技巧分享</a>，我相信你会有不一样的感悟，好了，这就是全部的内容啦，谢谢大家！</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022/2022-02-18-install-docker-on-apple-silicon">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/2022-02-18-install-docker-on-apple-silicon" itemprop="url">为什么在 Apple Silicon 上装 Docker 这么难</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-18T00:00:00+08:00">
                2022-02-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>最近公司的很多同事都换上了搭载 M1 Pro 或 M1 Max 的新款 MacBook Pro，虽然日常使用的软件如 Chrome、Visual Studio Code 和 Slack 都已经适配得很好了，但面对 Docker 却犯了难。</p>
<p>众所周知，Docker 用到了 Linux 的两项特性：namespaces 和 cgroups 来提供隔离与资源限制，因此无论如何在 macOS 上我们都必须通过一个虚拟机来使用 Docker。</p>
<p>在 2021 年 4 月时，Docker for Mac（Docker Desktop）<a target="_blank" rel="noopener" href="https://www.docker.com/blog/released-docker-desktop-for-mac-apple-silicon/">发布了</a> 对 Apple Silicon 的实验性支持，它会使用 QEMU 运行一个 ARM 架构的 Linux 虚拟机，默认运行 ARM 架构的镜像，但也支持运行 x86 的镜像。</p>
<p><img src="https://r2-lc-cn.jysperm.me/pictures/2022/docker-for-mac.png"></p>
<p><a target="_blank" rel="noopener" href="https://www.qemu.org/docs/master/about/index.html">QEMU</a> 是一个开源的虚拟机（Virtualizer）和仿真器（Emulator），所谓仿真器是说 QEMU 可以在没有来自硬件或操作系统的虚拟化支持的情况下，去模拟运行一台计算机，包括模拟与宿主机不同的 CPU 架构，例如在 Apple Silicon 上模拟 x86 架构的计算机。而在有硬件虚拟化支持的情况下，QEMU 也可以使用宿主机的 CPU 来直接运行，减少模拟运行的性能开销，例如使用 macOS 提供的 <code>Hypervisor.Framework</code>。</p>
<p>Docker for Mac 其实就是分别用到了 QEMU 的这两种能力来在 ARM 虚拟机上运行 x86 镜像，和在 Mac 上运行 ARM 虚拟机。</p>
<p>Docker for Mac 确实很好，除了解决新架构带来的问题之外它还对文件系统和网络进行了映射，容器可以像运行在本机上一样访问文件系统或暴露网络端口到本机，几乎感觉不到虚拟机的存在。但 LeanCloud 加入 TapTap 之后已经不是小公司了，按照 Docker Desktop 在 2021 年 8 月推出的 <a target="_blank" rel="noopener" href="https://www.docker.com/blog/updating-product-subscriptions/">新版价格方案</a>，我们每个人需要支付至少 $5 每月的订阅费用。倒不是我们不愿意付这个钱，只是我想要找一找开源的方案。</p>
<p>之前在 Intel Mac 上，我们会用 Vagrant 或 minikube 来创建虚拟机，它们底层会使用 VirtualBox 或 HyperKit 来完成实际的虚拟化。但 VirtualBox 和 HyperKit 都没有支持 Apple Silicon 的计划。实际上目前开源的虚拟化方案中只有 QEMU 对 Apple Silicon 有比较好的支持，QEMU 本身只提供命令行的接口，例如 Docker for Mac 调用 QEMU 时的命令行参数是这样：</p>
<pre><code>/Applications/Docker.app/Contents/MacOS/qemu-system-aarch64 -accel hvf \
-cpu host -machine virt,highmem=off -m 2048 -smp 5 \
-kernel /Applications/Docker.app/Contents/Resources/linuxkit/kernel \
-append linuxkit.unified_cgroup_hierarchy=1 page_poison=1 vsyscall=emulate \
panic=1 nospec_store_bypass_disable noibrs noibpb no_stf_barrier mitigations=off \
vpnkit.connect=tcp+bootstrap+client://192.168.65.2:61473/f1c4db329a4a520d73a79eaa1360de7be7d09948a1ac348b04c8e01f6f6eb2c9 \
console=ttyAMA0 -initrd /Applications/Docker.app/Contents/Resources/linuxkit/initrd.img \
-serial pipe:/var/folders/12/_bbrd4692hv8r9bx_ggw5kp80000gn/T/qemu-console1367481183/fifo \
-drive if=none,file=/Users/ziting/Library/Containers/com.docker.docker/Data/vms/0/data/Docker.raw,format=raw,id=hd0 \
-device virtio-blk-pci,drive=hd0,serial=dummyserial -netdev socket,id=net1,fd=3 -device virtio-net-device,netdev=net1,mac=02:50:00:00:00:01 \
-vga none -nographic -monitor none
</code></pre>
<p>为了实际使用 QEMU 进行开发，我们需要一个使用上更友好的封装，能够自动配置好 Docker 和 Kubernetes（或者至少方便编写像 Vagrantfile 一样的脚本），提供类似 Docker for Mac 的网络映射和文件映射，于是我找到了 Lima。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/lima-vm/lima">Lima</a> 自称是 macOS 上的 Linux 子系统（macOS subsystem for Linux），它使用 QEMU 运行了一个 Linux 虚拟机，其中安装有 rootless 模式的 containerd，还通过 SSH 提供了文件映射和自动的端口转发。</p>
<p>但为什么是 containerd 而不是 Docker 呢？随着容器编排平台 Kubernetes 如日中天，社区希望将运行容器这个关键环节进行标准化，让引入 Docker 之外的其他容器运行时更加容易，于是 <a target="_blank" rel="noopener" href="https://kubernetes.io/blog/2016/12/container-runtime-interface-cri-in-kubernetes/">推出了 Container Runtime Interface</a> (CRI)。containerd 就是从 Docker 中拆分出的一个 CRI 的实现，相比于 Docker 本体更加精简，现在也交由社区维护。</p>
<p>因此如 Lima 这样新的的开源软件会更偏好选择 containerd 来运行容器，因为组件更加精简会有更好的性能，也不容易受到 Docker 产品层面变化的影响。nerdctl 是与 containerd 配套的命令行客户端（<code>nerd</code> 是 <code>containerd</code> 的末尾 4 个字母），用法与 docker 或 docker-compose 相似（但并不完全兼容）。</p>
<p>所谓 <a target="_blank" rel="noopener" href="https://rootlesscontaine.rs/">rootless</a> 则是指通过替换一些组件，让容器运行时（containerd）和容器都运行在非 root 用户下，每个用户都有自己的 containerd，这样绝大部分操作都不需要切换到 root 来进行，也可以减少安全漏洞的攻击面。</p>
<p>但我们希望能在本地运行完整的 rootful 模式的 dockerd 和 Kubernetes 来尽可能地模拟真实的线上环境，好在 Lima 提供了丰富的 <a target="_blank" rel="noopener" href="https://github.com/lima-vm/lima/blob/master/pkg/limayaml/default.yaml">自定义能力</a>，我基于社区中的一些脚本（<a target="_blank" rel="noopener" href="https://github.com/lima-vm/lima/blob/master/examples/docker.yaml">docker.yaml</a> 和 <a target="_blank" rel="noopener" href="https://github.com/afbjorklund/lima/blob/minikube/examples/minikube.yaml">minikube.yaml</a>）实现了我们的需求，而且这些自定义的逻辑都被以脚本的形式写到了 yaml 描述文件中，只需一条命令就可以创建出相同的虚拟机。</p>
<pre><code>~ ❯ limactl start docker.yaml
? Creating an instance &quot;docker&quot; Proceed with the default configuration
INFO[0005] Attempting to download the image from &quot;https://cloud-images.ubuntu.com/focal/current/focal-server-cloudimg-arm64.img&quot;
INFO[0005] Using cache &quot;/Users/ziting/Library/Caches/lima/download/by-url-sha256/ae20df823d41d1dd300f8866889804ab25fb8689c1a68da6b13dd60a8c5c9e35/data&quot;
INFO[0006] [hostagent] Starting QEMU (hint: to watch the boot progress, see &quot;/Users/ziting/.lima/docker/serial.log&quot;)
INFO[0006] SSH Local Port: 55942
INFO[0006] [hostagent] Waiting for the essential requirement 1 of 5: &quot;ssh&quot;
INFO[0039] [hostagent] Waiting for the essential requirement 2 of 5: &quot;user session is ready for ssh&quot;
INFO[0039] [hostagent] Waiting for the essential requirement 3 of 5: &quot;sshfs binary to be installed&quot;
INFO[0048] [hostagent] Waiting for the essential requirement 4 of 5: &quot;/etc/fuse.conf to contain \&quot;user_allow_other\&quot;&quot;
INFO[0051] [hostagent] Waiting for the essential requirement 5 of 5: &quot;the guest agent to be running&quot;
INFO[0051] [hostagent] Mounting &quot;/Users/ziting&quot;
INFO[0051] [hostagent] Mounting &quot;/tmp/lima&quot;
INFO[0052] [hostagent] Forwarding &quot;/run/lima-guestagent.sock&quot; (guest) to &quot;/Users/ziting/.lima/docker/ga.sock&quot; (host)
INFO[0092] [hostagent] Waiting for the optional requirement 1 of 1: &quot;user probe 1/1&quot;
INFO[0154] [hostagent] Forwarding TCP from [::]:2376 to 127.0.0.1:2376
INFO[0304] [hostagent] Forwarding TCP from [::]:8443 to 127.0.0.1:8443
INFO[0332] [hostagent] Waiting for the final requirement 1 of 1: &quot;boot scripts must have finished&quot;
INFO[0351] READY. Run `limactl shell docker` to open the shell.
INFO[0351] To run `docker` on the host (assumes docker-cli is installed):
INFO[0351] $ export DOCKER_HOST=tcp://127.0.0.1:2376
INFO[0351] To run `kubectl` on the host (assumes kubernetes-cli is installed):
INFO[0351] $ mkdir -p .kube &amp;&amp; limactl cp minikube:.kube/config .kube/config
</code></pre>
<p>我还发现了另外一个基于 Lima 的封装 —— <a target="_blank" rel="noopener" href="https://github.com/abiosoft/colima">Colima</a>，默认提供 rootful 的 dockerd 和 Kubernetes，但 Colima 并没有对外暴露 Lima 强大的自定义能力，因此我们没有使用，但对于没那么多要求的开发者来说，也是一个更易用的选择。</p>
<p>在默认的情况下，Lima 中的 Docker 在 Apple Silicon 上只能运行 ARM 架构的镜像，但就像前面提到的那样，我们可以使用 QEMU 的模拟运行的能力来运行其他架构（如 x86）的容器。<code>qemu-user-static</code> 是一个进程级别的模拟器，可以像一个解释器一样运行其他架构的可执行文件，我们可以利用 Linux 的一项 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Binfmt_misc">Binfmt_misc</a>（<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Binfmt_misc">中文版</a>）的特性让 Linux 遇到特定架构的可执行文件时自动调用 <code>qemu-user-static</code>，这种能力同样适用于容器中的可执行文件。</p>
<p>社区中也有 <a target="_blank" rel="noopener" href="https://dbhi.github.io/qus/">qus</a> 这样的项目，对这些能力进行了封装，只需执行一行 <code>docker run --rm --privileged aptman/qus -s -- -p x86_64</code> 就可以让你的 ARM 虚拟机魔法般地支持运行 x86 的镜像。</p>
<pre><code>/usr/bin/containerd-shim-runc-v2
\_ /qus/bin/qemu-x86_64-static /usr/sbin/nginx -g daemon off;
    \_ /qus/bin/qemu-x86_64-static /usr/sbin/nginx -g daemon off;
    \_ /qus/bin/qemu-x86_64-static /usr/sbin/nginx -g daemon off;
    \_ /qus/bin/qemu-x86_64-static /usr/sbin/nginx -g daemon off;
    \_ /qus/bin/qemu-x86_64-static /usr/sbin/nginx -g daemon off;
</code></pre>
<blockquote>
<p>使用 qus 运行 x86 镜像的进程树如上，所有进程（包括创建出的子进程）都自动通过 QEMU 模拟运行。</p>
</blockquote>
<p>回到题目中的问题，因为 Docker 依赖于 Linux 内核的特性，所以在 Mac 上必须通过虚拟机来运行；Apple Silicon 作为新的架构，虚拟机的选择比较受限，因为有些镜像并不提供 ARM 架构的镜像，所以有时还有模拟运行 x86 镜像的需求；Docker Desktop 作为商业产品，有足够的精力来去解决这些「脏活累活」，但它在这个时间点选择不再允许所有人免费使用；开源社区中新的项目都希望去 Docker 化，用 containerd 取代 dockerd，但这又带来了使用习惯的变化并且可能与线上环境不一致。因为这些原因，目前在 Apple Silicon 上安装 Docker 还是需要花一些时间去了解背景知识的，但好在依然有这些优秀的开源项目可供选择。</p>
<p>虽然 <a target="_blank" rel="noopener" href="https://developer.taptap.com/product-intro/cloud-engine">云引擎</a> 也是基于 Docker 等容器技术构建的，但云引擎力图为用户提供开箱即用的使用体验而不必自己配置容器环境、编写构建脚本、收集日志和统计数据。如果想得到容器化带来的平滑部署、快速回滚、自动扩容等好处但又不想花时间配置，不如来试试云引擎。</p>
<p>其他参考资料：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.tutorialworks.com/difference-docker-containerd-runc-crio-oci/">https://www.tutorialworks.com/difference-docker-containerd-runc-crio-oci/</a></li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-2-16-designtools">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-2-16-designtools" itemprop="url">打工人/新媒体小编/设计师常用工具整理</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-16T16:26:00+08:00">
                2022-02-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于我的公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/d6VxS3u0T5sCkU3jlCaCAQ">效率工具指南</a>」<br>作者&#x2F;彭宏豪      </p>
<p>Hello 各位好，这里是效率工具指南。<br>我是小豪。  </p>
<p>古话说「术业有专攻」，说的是每个人专攻一个方向就好了，但在如今啥都「卷」的当下，一个人不会多一点技能，好像就混不下去了。  </p>
<p>具体到<strong>工作中做一张图</strong>，以前是设计师才要干的活，现在好像是个岗位就会有要求：  </p>
<blockquote>
<p>熟练掌握 PS 的使用（事实上我只精通 PS 的安装与卸载）   </p>
</blockquote>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449984297049.jpg"></p>
<p>回到<strong>如何做一张图</strong>的问题上，今天的这篇文章将从以下几方面做出一些回答：   </p>
<ul>
<li>获取灵感</li>
<li>设计作品 &amp; 素材管理工具 </li>
<li>素材下载<ul>
<li>图标 icon</li>
<li>字体</li>
</ul>
</li>
</ul>
<h2 id="获取灵感"><a href="#获取灵感" class="headerlink" title="获取灵感"></a>获取灵感</h2><p>做一张图的工作流，和新媒体小编存在着共性：都需要寻找灵感，一个是寻找设计灵感，一个是寻找文章选题及切入角度。  </p>
<p>对于设计灵感，国内外有很多设计相关的网站：  </p>
<ul>
<li>Behance</li>
<li>Dribbble  </li>
<li>Pinterest  </li>
<li>站酷  </li>
<li>花瓣</li>
</ul>
<p>这些网站对许多设计师来说，应该非常熟悉，就不过多介绍了。</p>
<h3 id="浏览器插件-Muzli"><a href="#浏览器插件-Muzli" class="headerlink" title="浏览器插件 Muzli"></a>浏览器插件 Muzli</h3><p>下面介绍一个聚合了多个设计网站内容的浏览器插件 Muzli： </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449917315769.jpg"></p>
<p>安装插件后，它会替换掉浏览器默认的标签页，在你未进行搜索操作时，页面中央会显示来自不同设计网站的作品。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449899776063.jpg"></p>
<p>点击左下角的编辑按钮，打开左侧的编辑面板，可自由选择要查看的设计网站。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449901958964.jpg"></p>
<p>将鼠标指针置于网站图标左侧，指针会变成一个小抓手，长按左键拖拽可改变网站上下的顺序，你可以将优先级更高的网站排在列表的前排。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449911927235.jpg"></p>
<p>初次使用插件 Muzli，可以选择你想在标签页看到的内容，不局限于设计作品，还可以浏览：  </p>
<ul>
<li>科技 &amp; 代码   </li>
<li>新闻 &amp; 商业   </li>
<li>文化</li>
</ul>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449849538168.jpg"></p>
<p>Muzli 官网：<br><a target="_blank" rel="noopener" href="https://muz.li/">https://muz.li/</a>   </p>
<h2 id="设计作品-素材管理工具"><a href="#设计作品-素材管理工具" class="headerlink" title="设计作品 &amp; 素材管理工具"></a>设计作品 &amp; 素材管理工具</h2><p>看完别人的设计作品，为了方便后续查找和参考，最好还是要将它们保存起来。  </p>
<p>设计作品 &amp; 素材管理工具，主要有两类，一类是采集到在线网站的画板，例如花瓣、Pinterest，一类是采集到本地的管理软件。   </p>
<p>花瓣采集插件：<a target="_blank" rel="noopener" href="https://faq.huaban.com/faq/huaban-plugin-install/">https://faq.huaban.com/faq/huaban-plugin-install/</a>   </p>
<p>Pinterest 采集插件：<a target="_blank" rel="noopener" href="https://help.pinterest.com/zh-hans/article/save-pins-with-the-pinterest-browser-button">https://help.pinterest.com/zh-hans/article/save-pins-with-the-pinterest-browser-button</a>    </p>
<p>本地的设计作品 &amp; 素材管理工具：  </p>
<ul>
<li>Eagle（macOS + Windows）</li>
<li>Picsee（macOS）👉👉 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649919416&idx=1&sn=a27dc29eda0beb241e45217292987758&chksm=83a88b95b4df028359fd8cf6775093d207c9570f5fe42452f1796b9e54e9ad1314240fa57c14&token=879990072&lang=zh_CN#rd">戳这里了解 Picsee</a></li>
</ul>
<h2 id="图标-Icon"><a href="#图标-Icon" class="headerlink" title="图标 Icon"></a>图标 Icon</h2><p>有时在制作图片的时候，需要用到一些 <strong>App 图标</strong>作为素材。  </p>
<p>例如我之前做过的一个剪映加字幕的视频封面，需要用到剪映 App 的图标。   </p>
<p>直接从搜索引擎找 App 的图标，尤其是国内产品的图标，并不太好找，而且找到的图标清晰度一般都不高。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449931282248.jpg"></p>
<p>这里介绍两个获取 App 图标的实用技巧：   </p>
<h3 id="在线网站-HQ-Icon"><a href="#在线网站-HQ-Icon" class="headerlink" title="在线网站 HQ Icon"></a>在线网站 HQ Icon</h3><p>输入 App 名称，网站就会返回对应的应用图标，且提供了两种图标分辨率——512px 和 1024px，用起来非常方便。  </p>
<p>HQ Icon 网址：<br><a target="_blank" rel="noopener" href="https://icon.yukonga.top/">https://icon.yukonga.top/</a>      </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449936377283.jpg"></p>
<h3 id="快捷指令-App-获取应用图标"><a href="#快捷指令-App-获取应用图标" class="headerlink" title="快捷指令 App 获取应用图标"></a>快捷指令 App 获取应用图标</h3><p>前面获取图标的方法适用于所有用户，下面的这种方法，只对拥有 iPhone 或 iPad 设备的用户可用。  </p>
<p>之前发布过一篇介绍 iPhone 上的快捷指令 App 的文章，介绍过一个获取 App 图标的快捷指令「应用图标抓取」：  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449944232564.jpg"></p>
<p>错过或忘记的朋友，可以戳下面的文章：  </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649911233&idx=1&sn=ae14d222f9847022b35923abe005c872&chksm=83a86becb4dfe2fac78fc6060ec5d5b0e6d863453adc1cd9939a5f32bf53785a04d8b1717cd0&token=879990072&lang=zh_CN#rd">手机自带的多功能百宝箱，没人用真的太可惜了。</a>   </p>
<h3 id="其他图标-Icon-网站"><a href="#其他图标-Icon-网站" class="headerlink" title="其他图标 Icon 网站"></a>其他图标 Icon 网站</h3><p>前面介绍的两种获取 App 图标的方法，得到的图片都可以称为<strong>位图</strong>，位图的优点在于色彩丰富，细节清晰，但它也存在一个弊端：<strong>放大后容易失真</strong>。</p>
<p>与位图相对的图像格式，被称为<strong>矢量图</strong>，它是一种经过多倍放大后，仍能保持原有清晰度的图形格式，广泛应用于 logo 或插画设计中，常见的矢量格式有 svg、eps 和 ai。  </p>
<p>前几天整理了 13 个下载图标的网站（<strong>主要为矢量图标</strong>），制作成了下面的思维导图。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/tu-biao-wang-zhan-shi-liang-tu-biao.png" alt="图标网站 矢量图标"></p>
<p>获取上面的思维导图链接 🔗，可点击下方的公众号卡片「效率工具指南」，在后台回复【图标】即可。  </p>
<h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><h3 id="字体下载"><a href="#字体下载" class="headerlink" title="字体下载"></a>字体下载</h3><p>优先推荐各位使用免费可商用的字体，不管是自己的个人项目，还是公司内做的事情，以免之后引来不必要的纠纷。   </p>
<p>免费可商用的字体：  </p>
<ul>
<li>思源黑体&#x2F;思源宋体     </li>
<li>阿里巴巴普惠体（推荐）</li>
<li>优设标题黑体   </li>
<li>江西拙楷</li>
</ul>
<p>下载免费字体，可以去下图的网站「<strong>猫啃网</strong>」，网站提供了<strong>单个字体的下载链接</strong>，没有把所有免费字体打包在一起，节约下载时间。    </p>
<p>更重要的是，下载字体没套路，不需要关注公众号，不需要转发文章在后台返截图。     </p>
<p>猫啃网：<br><a target="_blank" rel="noopener" href="https://www.maoken.com/all-fonts">https://www.maoken.com/all-fonts</a>   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449817535106.jpg"></p>
<h3 id="识别字体"><a href="#识别字体" class="headerlink" title="识别字体"></a>识别字体</h3><p>除了下载字体，有时我们在海报上看到一个好看的字体，想知道字体的名称，但又联系不上设计师，该怎么办呢？  </p>
<p>介绍两款识别字体的工具，用起来非常简单：将想要识别的字体截图保存下来，再上传到下面的网站，一般就能找到字体的名称。   </p>
<p>求字体网：识别中文字体<br><a target="_blank" rel="noopener" href="https://www.qiuziti.com/">https://www.qiuziti.com/</a></p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449827148956.jpg"></p>
<p>WhatTheFont：识别英文字体<br><a target="_blank" rel="noopener" href="https://www.myfonts.com/WhatTheFont/">https://www.myfonts.com/WhatTheFont/</a></p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449826661344.jpg"></p>
<h3 id="字体版权查询"><a href="#字体版权查询" class="headerlink" title="字体版权查询"></a>字体版权查询</h3><p>不确定想使用的字体是否可商用，可以使用下面的字体版权查询工具，输入字体名称，看网站返回的结果是否为「免费可商用」？   </p>
<p>360 查字体：<br><a target="_blank" rel="noopener" href="https://fonts.safe.360.cn/">https://fonts.safe.360.cn/</a>      </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449828927180.jpg"></p>
<p>如果这个网站的数据库不包含你想查询的字体，最稳妥的办法，还是去到字体的官网查看相关文档，或者通过社交平台私信字体的作者。   </p>
<p>还有一点需要说明的是，有些字体网站虽然把某款字体归为「免费可商用」，但在实际使用还是存在一些坑的：  </p>
<p>以「锐字潮牌真言体」为例，它确实可以免费商用，但在未经书面授权的情况下，字体不能用于软件、游戏、数字出版物、拍照、视频剪辑、图片编辑等场景中。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/16449838473752.jpg"></p>
<p>关于免费字体隐藏的一些坑，还可以参考 B 站 Up 主 @doyoudo 出的一期视频：   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/16/img1827.PNG" alt="IMG_1827"></p>
<p>今天的分享暂时就到这里，下次有时间且了解了更多东西之后，再看看能不能出第二篇吧。    </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-2-14-notion">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-2-14-notion" itemprop="url">将 Notion 打造成 RSS 阅读器｜Notion 新鲜玩法 + 2</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-14T18:14:00+08:00">
                2022-02-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于「效率工具指南」<br>文&#x2F;彭宏豪</p>
<p>Hello 各位好，这里是效率工具指南。<br>我是小豪。  </p>
<p>距离上一次分享 Notion 相关的内容，已经过去两个多月了。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448284903084.jpg"></p>
<p>老实说现在对 Notion 的关注大不如前了，没有及时去跟进 Notion 更新了哪些功能。  </p>
<p>但 Notion 依旧还是有不少吸引人的地方，譬如今天要介绍的这两个 Notion 玩法（案例）：  </p>
<ul>
<li>将 Twitter 动态保存到 Notion   </li>
<li>将 Notion 变成 RSS 阅读器</li>
</ul>
<h2 id="将-Twitter-动态保存到-Notion"><a href="#将-Twitter-动态保存到-Notion" class="headerlink" title="将 Twitter 动态保存到 Notion"></a>将 Twitter 动态保存到 Notion</h2><p>说这个话题之前，还要提另外一件事情：  </p>
<p>用过微博的人，可能都有这么一种经历，在一条精彩微博的评论区，会看见许多人都在评论「@我的印象笔记」。  </p>
<p>不懂这种行为含义的人，第一次见到评论区整齐划一地都在评论相同的内容，搞不好还以为他们在进行某种行为艺术。   </p>
<p>实际上评论 @我的印象笔记，是评论的用户希望把微博内容保存到自己的笔记账户中，可能是收藏就等于看了，或者后期在查找内容的时候，方便随时调出。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448294930761.jpg"></p>
<p>如果你和我一样，已经弃用了印象笔记，换到了 Notion，但还是有「剪藏」网络内容的需求，可以使用之前介绍过的插件：  </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649918366&idx=1&sn=5c1c25ce464c3d84b02a9833c406c3b4&chksm=83a88fb3b4df06a5e9b48059e82b4f785015427abd337b66c0c7a72315e9906da44dfff329da&token=2093409823&lang=zh_CN#rd">Notion搭配这2个剪藏插件，才是真正All in one</a>     </p>
<p>上文介绍的两款插件，对剪藏长文章来说，非常方便，但如果是剪藏社交媒体上的内容，例如 Twitter，就有点大材小用了。  </p>
<p>在 Twitter 上有一位开发者 @Abdulhade Ahmad 开发了将 Twitter 动态保存到 Notion 的机器人 @SaveToNotion，它的用法和 @我的印象笔记 非常相似：  </p>
<p>在想保存的 Twitter 动态下方，评论 @SaveToNotion，并带上标签 #tweet 或者 #thread，程序就会自动将 Twitter 动态保存到你的 Notion 中。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448307156606.jpg"></p>
<p>配置方法：  </p>
<p>关注推特账号 @SaveToNotion</p>
<p>在浏览器打开 Notion 页面 <a target="_blank" rel="noopener" href="https://t.co/lqgK7KQ9BA">https://t.co/lqgK7KQ9BA</a> ，将页面复制(Duplicate)到自己的 Notion 账户中</p>
<p>向推特账号 SaveToNotion 私信 <code>/connect</code> ，机器人会返回一个链接，点击链接进行授权   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448308818074.jpg"></p>
<p>授权时选择我们刚复制的 Notion 页面「Tweets」  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448309198519.jpg"></p>
<p>完成授权后，推特账号 SavetoNotion 会给我们发送一条「连接成功」的消息   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448310121365.jpg"></p>
<p>完成上面操作后，你就可以将你喜欢的 Twitter 动态保存到 Notion 中啦。  </p>
<p>Twitter 动态保存到 Notion 的效果如下，会带有动态内容、作者名称、剪藏的时间、推特动态原始链接。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448312639194.jpg"></p>
<h2 id="将-Notion-变成-RSS-阅读器"><a href="#将-Notion-变成-RSS-阅读器" class="headerlink" title="将 Notion 变成 RSS 阅读器"></a>将 Notion 变成 RSS 阅读器</h2><p>有些朋友可能对 RSS 并不熟悉，了解 RSS 可以参考我之前写过的一篇文章：</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649904885&idx=1&sn=4cf0407adfa94e0e855ca3a5bc3bda20&chksm=83a852d8b4dfdbce023212961dfb446fc4fd8a8e595ea762ad8711602dd9c551811cdff19ca6&token=2093409823&lang=zh_CN#rd">算法当道，我们只能被动接收算法投喂的内容吗? | RSS</a>    </p>
<p>简言之，通过 <strong>RSS 订阅链接 + RSS 阅读器</strong>，我们可以很方便地在一个软件中获取来自多个作者、多个博客甚至是多个平台的内容，减少我们在多个应用或平台间来回切换的时间。   </p>
<p>将 Notion 变成 RSS 阅读器，需要用到一个项目 <strong>NotionFeed</strong>。  </p>
<p>NotionFeed 官网：<br><a target="_blank" rel="noopener" href="https://notion-feed.com/">https://notion-feed.com/</a>   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448320315656.jpg"></p>
<p>NotionFeed 提供的 Notion 模板中有两个数据库：  </p>
<ul>
<li>订阅源管理：添加或管理 RSS 订阅链接   </li>
<li>文章：查看 RSS 订阅链接获取到的内容</li>
</ul>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448321494245.jpg"></p>
<p>目前我在订阅源管理中添加了 4 个 RSS 链接，每当它们更新了内容，就可以在「文章」数据库查看更新的内容，如下图所示。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448325609065.jpg"></p>
<p>我将自己的 Hexo 博客的 RSS 订阅链接(<a target="_blank" rel="noopener" href="https://www.penghh.fun/atom.xml)%E4%B9%9F%E6%B7%BB%E5%8A%A0%E5%88%B0%E4%BA%86%E5%85%B6%E4%B8%AD%EF%BC%8C%E8%BF%99%E6%A0%B7%E6%AF%8F%E5%BD%93%E6%88%91%E6%9B%B4%E6%96%B0%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%86%85%E5%AE%B9%E4%B9%9F%E4%BC%9A%E8%A2%AB%E6%8A%93%E5%8F%96%E5%88%B0">https://www.penghh.fun/atom.xml)也添加到了其中，这样每当我更新博客，博客的内容也会被抓取到</a> Notion 的数据库中，相当于在 Notion 也做了多一重的备份。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448327065723.jpg"></p>
<p>NotionFeed 的使用方法，可以参考项目作者写的配置教程，配置起来不会有难度，这里就不展开了。   </p>
<p>初次在 Notion 中添加 RSS 订阅链接，要多等一点时间，才能看到程序抓取到足够多的内容。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/14/16448321041786.jpg"></p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/post/weekly-idea.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/post/weekly-idea.html" itemprop="url">我为什么要写周刊</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-14T00:00:00+08:00">
                2022-02-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="为什么想写周刊"><a href="#为什么想写周刊" class="headerlink" title="为什么想写周刊"></a>为什么想写周刊</h2><p>自从养成了阅读 RSS 的习惯以后，作为我获取信息的主要渠道，我每天都会花费 1 - 2 个小时去阅读大量的 RSS 订阅源，这其中的大部分基本都是只瞄一眼标题，或者快速阅读一下内容，而对于一些吸引我注意的标题，才会通过浏览器打开原文仔细阅读，当然这么多文章是无法一次性读完的，这时候会通过 <a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/onetab/chphlpgkkbolifaimnlloiipkdnihall">OneTab</a> 扩展先保存起来，也就是充当稍后阅读的工具（题外话：我在 OneTab 上常年保存着 200+ 以上的标签页），如果读到觉得不错的文章，就会通过 <a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/save-to-notion/ldmmifpegigmeammaeckplhnjbbpccmm">Save to Notion</a> 这个扩展保存到我的 Notion 页面中，使用这个扩展可以很方便地对文章进行分类、原文剪藏，方便后续快速索引。</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images202202121723977.png?imageMogr2/format/webp"></p>
<p>但是后面我发现，大部分文章读完就忘了，能记下来的往往只有少部分，这是因为我没有针对文章的内容做总结，也就是用自己的话去输出这些文章的核心内容、以及一些更深入的思考，以此加深自己的理解。</p>
<p>于是，我又开了一个 Notion 页面，利用 Relation 字段去关联文章，大概长这样：</p>
<p><img src="https://gd4ark-1258805822.cos.ap-guangzhou.myqcloud.com/images202202121826436.png?imageMogr2/format/webp"></p>
<p>但就这样「单机」玩，很难坚持下去，所以就索性把这个 Weekly 挂在 Blog 上，虽然也是基本没人看：）</p>
<p>但这意义就不一样了呀！无论是对保持更新频率、提高博客逼格都能提到一些帮助（不是吗？）。</p>
<p>所以，你会发现在 Blog 的顶部菜单栏里面多一个 Weekly 的栏目，当然也提供了 RSS 订阅。</p>
<h2 id="只是记录阅读吗"><a href="#只是记录阅读吗" class="headerlink" title="只是记录阅读吗"></a>只是记录阅读吗</h2><p>以上的确是我想办这个周刊的初衷，但我并不会局限于此，如果只是分享我阅读过的文章就未免显得过于学术性（流水账），我还是希望我这个周刊既有专业性的内容、也有我个人的一些思考在里面，毕竟有一些琐碎的事情不想专门开一篇文章来长篇大论，就特别适合写在我的周刊里面。还是那句话，我这个周刊的主要读者是我自己，所以这里也充当我一个定时输出我不成熟观点的地方。</p>
<p>其实已经有不少人在做这件事，就国内而言，最著名的莫过于阮一峰老师的 <a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/weekly/">《科技爱好者周刊》</a>，截止本文编写之时，已经更新到 194 期了，几乎坚持每周一更（没有经过仔细核实）。虽然他是一个相对有争议的人，但我还是非常敬佩他，相信很多人和我一样，是通过他的文章来入门前端技术的，所以尊称他一声老师并不为过。</p>
<p>我不是他最早的一批读者，这当然是因为我比较年轻：），但是我曾经把他博客上所有的文章从头开始读了一遍，从 03 年最早一篇文章开始（可能还是更早），这么多年写作风格自然也有很大的转变，从以前一名愤青，写作文章主要都是关注一些社会、文学、经济等问题，到后来开始转行计算机，主要写一些技术入门、科技新闻的文章。但无论如何，就从他坚持做这件事二十年来看，这种态度非常值得我们学习。</p>
<p>也有人和我一样，刚刚开始做这件事，这不，前几天就看到了这个：<a target="_blank" rel="noopener" href="https://www.codedump.info/post/20220116-weekly-1/">周刊第 1 期：开刊，数字化生活数据</a>。</p>
<p>总之，我希望和他们一样，通过这种方式来分享自己看到的东西、观点，多给自己一个与外界沟通的渠道。</p>
<h2 id="开刊日"><a href="#开刊日" class="headerlink" title="开刊日"></a>开刊日</h2><p>由于之前的比较零散，就从 2022 年 2 月 14 号这一天作为这个周刊的开始吧。</p>
<p>因为这一天意义非凡，首先当然是情人节，另外也是计算机的生日，不过更重要的是这一天也是我生日：）</p>
<p>可惜我们老家那边普遍过农历生日，所以要每隔 19 年才会碰上同一天生日，这周刊开在三年前就更有意义了。</p>
<p>不过每次想起我诞生于本世纪第一个情人节，还跟计算机同一天生日，想必我是一个无论在计算机还是感情方面都应该会有很高造诣的人，然而事实证明是我在这两方面都非常菜。</p>
<p>感谢阅读。</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-2-13-picsee">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-2-13-picsee" itemprop="url">图片管理+截图+图片编辑+图片格式转换，这个神器让我直呼内行｜Picsee</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-13T00:30:00+08:00">
                2022-02-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于我的公众号「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/JeS3ergTmhGknZACv0b61w">效率工具指南</a>」<br>文&#x2F;彭宏豪</p>
<p>Hello 各位好，这里是效率工具指南。<br>我是小豪。  </p>
<p>很久之前介绍过一款电脑上的图片管理工具 Eagle（说起来我也很久没用过这个工具了），功能很强大，可以将本地图片、网络图片（截图）、字体、视频、音频集中到一处，通过文件夹、标签、创建筛选条件等进行分类管理。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446619958775.jpg"></p>
<p>唯一不足的地方在于，这款软件是付费应用——买断制 199 元，如果你日常对图片管理的需求不高，可能不一定下得了手👋。   </p>
<p>但是别急，有需求的产品就会有替代品。  </p>
<p>国内的开发者 @chitaner 开发了一款可称作 Eagle 替代品的软件——<strong>Picsee</strong>。</p>
<p>它并没有完全复刻 Eagle，而是在 Eagle 管理图片的基础上，增加了差异化的设计，例如：  </p>
<ul>
<li>增加了截图功能，可作为系统级别的截图工具，免去安装其他的截图工具   </li>
<li>简单的图片编辑 &amp; 标注功能  </li>
<li>增加了智能筛选的功能，可以自动找出电脑上重复的照片，节省宝贵的磁盘空间  </li>
<li>将图片上传到图床，方便在博客或其他平台引入图片</li>
</ul>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446642617690.jpg"></p>
<p>Picsee 官网：<br><a target="_blank" rel="noopener" href="https://picsee.chitaner.com/">https://picsee.chitaner.com/</a></p>
<h2 id="管理的图片来源"><a href="#管理的图片来源" class="headerlink" title="管理的图片来源"></a>管理的图片来源</h2><p>Picsee 管理的图片主要有 3 种来源：  </p>
<ul>
<li>电脑本地的图片，在 Mac 上图片来自于照片 App</li>
<li>浏览器插件捕获的「整页截图」</li>
<li>Picsee 截图功能截取的图片</li>
</ul>
<p>和 Eagle 一样，Picsee 提供了可保存浏览器图片的剪藏插件，插件有两个选项：批量收藏和整页截图。  </p>
<p>整页截图类似于截图软件的「滚动截图」，可以将整个页面以长图的形式保存到 Picsee 中。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446660402452.jpg"></p>
<p>目前这个插件未上架到应用商店，可以从软件官网提供的链接下载。  </p>
<p>Picsee Extension 插件下载地址：<br><a target="_blank" rel="noopener" href="https://picsee.chitaner.com/webExtension/">https://picsee.chitaner.com/webExtension/</a></p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446690459364.jpg"></p>
<p>对比 Eagle 剪藏插件，Picsee 插件少了「选择区域截图」和「可视区域截图」的选项。  </p>
<p>表面上看 Picsee 无法自由截取保存局部区域，但实际上它把这个功能<strong>单独做成了截图功能</strong>，可在多个场景下使用，并不局限于浏览器中。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446712647750.jpg"></p>
<p>点击状态栏的 Picsee 图标，或者使用快捷键 Shift + Command + X，可以触发 Picsee 的截图功能。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446717747414.jpg"></p>
<p>下图是 Picsee 截图界面，选取截取的区域后，右下角提供了简单的标注工具、滚动截图、贴图和复制到剪贴板等选项。  </p>
<p>这与 Mac 上的第三方截图软件，例如 iShot 或者 Xnip 大同小异，如果你还没安装这些截图工具，可以<strong>考虑使用 Picsee 作为截图工具</strong>，管理图片和截图两不误。 </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446719885771.jpg"></p>
<p>截取的图片复制到剪贴板，切换到 Picsee 客户端，使用 Cmd + V 粘贴图片，可以将剪贴板的图片保存到 Picsee 中，这样就能实现类似 Eagle 插件「选择区域截图」的效果啦。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446749265477.jpg"></p>
<h2 id="预览图片-视频"><a href="#预览图片-视频" class="headerlink" title="预览图片&#x2F;视频"></a>预览图片&#x2F;视频</h2><p>保存在 Picsee 中的视频，左上角会显示视频格式，例如下图中的多个 mp4 的小字。  </p>
<p><strong>将鼠标移动到视频上方，会自动播放视频</strong>，且会播放声音，如果是在办公室使用，且电脑带有扬声器，预览视频之前，请记得先关闭声音。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446598488239.jpg"></p>
<p>视频可以用鼠标快速预览，此外还有一种预览图片&#x2F;视频的方法：选中图片&#x2F;视频，按下<strong>空格键</strong>。  </p>
<p>下图是一张图片的预览页面，电脑上安装过第三方「图片浏览器」的朋友，会不会觉得似曾相识呢？  </p>
<p>点击预览界面底部的编辑按钮，可以对图片进行简单的编辑。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446762567731.jpg"></p>
<p>在 Picsee 中可以对图片进行简单的编辑，也是它区别于 Eagle 的一个优点，想得真周到，在此为开发者点个赞👍。  </p>
<h2 id="图片导出"><a href="#图片导出" class="headerlink" title="图片导出"></a>图片导出</h2><p>在图片预览状态下，点击下方的「导出」按钮，可以打开导出面板。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446607599471.jpg"></p>
<p>不同于一些软件的导出功能就是单纯的导出，Picsee 的导出面板提供了一些额外的选项：  </p>
<ul>
<li>导出时转换为其他图片格式，包含 bmp、jpeg、png 和 tiff </li>
<li>若导出格式为 JPG，可以调整图片质量（即压缩强度） </li>
<li>清除图片的 EXIF 信息，这可以去除图片包含的位置信息，保护个人隐私</li>
</ul>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446605621218.jpg"></p>
<h2 id="智能筛选"><a href="#智能筛选" class="headerlink" title="智能筛选"></a>智能筛选</h2><p>除了图片编辑和格式转换，Picsee 中还有一个实用的功能：<strong>找出电脑上重复的照片</strong>，为磁盘腾出空间。  </p>
<p>点击左侧栏「智能任务」右侧的 + ，选择「创建智能任务」。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446770770282.jpg"></p>
<p>这里的「智能任务」，就是借助软件内置的程序，帮我们自动找出相似的照片。  </p>
<p>下图的「范围」是选定要查找可能存在重复照片的位置，勾选的位置越多，程序查找起来，花费的时间也会增加。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446809012846.jpg"></p>
<p>创建好智能任务后，等待程序运行完毕，就能看到相册中存在的重复照片。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446812247859.jpg"></p>
<p>由于苹果自带照片 App 的限制，无法直接在 Picsee 中删除重复的照片。  </p>
<p>这里提供一个删除重复照片的小技巧：选中两种重复的照片，右击鼠标，选择「<strong>在 Finder 中显示</strong>」，在 Finder 中就可以删除重复的照片啦。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446813310018.jpg"></p>
<h2 id="导入素材包"><a href="#导入素材包" class="headerlink" title="导入素材包"></a>导入素材包</h2><p>最后，还要给各位安利一下 Picsee 的作者 @chitaner 为用户整理的<strong>必应壁纸</strong>素材包，共计 7000 多张高清壁纸。   </p>
<blockquote>
<p>软件作者的话：偶尔上Bing搜索，经常被它的背景页，惊讶到，太美了！从网上搜索发现，有搜集这些图片，拿来做桌面壁纸的，也专门有人利用Bing作源做壁纸应用，壁纸网站的，微软也围绕这一点自己单独出了个壁纸应用。这次，从网络上搜集了Bing2009年到目前为止的，7000多张的壁纸，共6G左右大小，做成了Picsee素材包，方便分享下载研究学习使用，公开使用注意版权。  </p>
</blockquote>
<p>想要的朋友，可以从 Picsee 官网下载：<br><a target="_blank" rel="noopener" href="https://sourl.cn/5iZvEg">https://sourl.cn/5iZvEg</a>  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446818322269.jpg"></p>
<p>将素材包下载到本地后，点击顶部工具栏的按钮，选择「导入素材包」，导入后就可以看到所有的必应壁纸啦。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/13/16446822477006.jpg"></p>
<p>写完真累，还没有夜宵，有帮助的话，请多多点赞或分享～   </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-2-11-bilibili">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-2-11-bilibili" itemprop="url">如何将b站上的视频下载到本地？5个下载B站视频的好用工具！</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-11T10:57:00+08:00">
                2022-02-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于微信公众号「效率工具指南」<br>文&#x2F;彭宏豪     </p>
<h2 id="贝贝BiliBili"><a href="#贝贝BiliBili" class="headerlink" title="贝贝BiliBili"></a>贝贝BiliBili</h2><p>这是一个在线下载 B 站视频的工具，只要有网就可以使用，不限制特定的平台。 </p>
<p>在网站顶部粘贴要下载的视频链接，输入验证码，点击右侧的「解析视频」。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/11/16445897825726.jpg"></p>
<p>解析得到视频后，将鼠标移动到视频上方右击，选择「视频存储为」，确定保存视频的位置，等待视频完成下载。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/11/16445898557084.jpg"></p>
<p>贝贝BiliBili 网址：<br><a target="_blank" rel="noopener" href="https://xbeibeix.com/api/bilibili/">https://xbeibeix.com/api/bilibili/</a></p>
<h2 id="MikuTools"><a href="#MikuTools" class="headerlink" title="MikuTools"></a>MikuTools</h2><p>除了贝贝BiliBili，还有另外一个好用的多功能在线网站——<strong>MikuTools</strong>，这个网站聚合了多种常用的小工具，包含我们这里要用到的 B 站视频下载工具。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/11/16445905220528.jpg"></p>
<p>MikuTools 网址：<br><a target="_blank" rel="noopener" href="https://tools.miku.ac/bilibili_video_downloader/">https://tools.miku.ac/bilibili_video_downloader/</a>  </p>
<p>这个工具有一个不太好的地方在于，<strong>下载的视频格式为 flv</strong>，在导入一些剪辑软件之前，可能要先转换为 mp4 格式。  </p>
<p>如果你需要转换视频格式，可以使用之前介绍过的另外一款工具 QuickCut：  </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649919194&idx=1&sn=d51a53be3d5bdcb2f1c520800d55810e&chksm=83a88af7b4df03e137de5e218348c7f0cf34408d502605574b7ef859b28e4530b4c0dc8d37c4&token=855337760&lang=zh_CN#rd">多功能视频工具箱，免费良心还好用｜Quick Cut</a>       </p>
<h2 id="浏览器插件「B站下载助手」"><a href="#浏览器插件「B站下载助手」" class="headerlink" title="浏览器插件「B站下载助手」"></a>浏览器插件「B站下载助手」</h2><p>插件名称：B站下载助手</p>
<p>这是我一直以来使用的方法，到目前为止还未失效。</p>
<p>安装插件之后，在视频页面右下角会多出一个和小破站主色调相同的按钮。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/11/16445814939730.jpg"></p>
<p>点击按钮，会打开一个面板，下载的视频清晰度取决于播放时选择的清晰度。</p>
<p>其他的两个选项「下载模式」和「合并下载」保持默认即可，点击底部的「<strong>合并下载</strong>」，就可以下载视频啦。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/11/16445850605450.jpg"></p>
<p>目前这款浏览器插件已从应用商店下架，无法直接安装，有需要的朋友，可以扫描下方的二维码，在公众号「效率工具指南」后台回复「B站」，获取插件安装包。        </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>
<h2 id="Downie"><a href="#Downie" class="headerlink" title="Downie"></a>Downie</h2><p>Downie，可能是 Mac 上最强大的视频下载工具，可以下载多个视频网站的内容。  </p>
<p>它使用起来也非常简单：复制想要下载的视频链接，切换到 Downie，按下 Command + V 粘贴链接，就可以下载视频啦。   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/02/11/16445865620008.jpg"></p>
<p>Downie 用起来非常方便，省时又省力，是一个非常值得购入的工具，软件为买断制，79 元，一次付费可长期使用。  </p>
<p>Downie 官网：<br><a target="_blank" rel="noopener" href="https://software.charliemonroe.net/downie/">https://software.charliemonroe.net/downie/</a></p>
<h2 id="其他的工具"><a href="#其他的工具" class="headerlink" title="其他的工具"></a>其他的工具</h2><p>除了本文介绍的工具，我之前在另外一篇文章中，还介绍其他的下载 B 站视频的方法，感兴趣的可以戳下方👇的链接：</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649908756&idx=1&sn=3b0d554a0cb7e228adb3b21fdc2eab1d&chksm=83a86239b4dfeb2f2a9aa85501bd61ed373070a802baee26f51d92faa2e963b21a9189b114a5&token=855337760&lang=zh_CN#rd">以为是使用浏览器的高手，看了这些才知道我是个弟弟</a>    </p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/%E7%83%9F%E6%B3%A2%E6%A2%A6%E5%BD%B1%EF%BC%8C%E4%BB%8E%E5%A4%A9%E5%9B%BD%E7%8E%8B%E6%9C%9D%E5%88%B0%E5%88%BA%E5%AE%A2%E4%BF%A1%E6%9D%A1">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/%E7%83%9F%E6%B3%A2%E6%A2%A6%E5%BD%B1%EF%BC%8C%E4%BB%8E%E5%A4%A9%E5%9B%BD%E7%8E%8B%E6%9C%9D%E5%88%B0%E5%88%BA%E5%AE%A2%E4%BF%A1%E6%9D%A1" itemprop="url">烟波梦影，从天国王朝到刺客信条</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-03T18:30:45+08:00">
                2022-02-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%94%9F%E6%B4%BB%E6%84%9F%E6%82%9F/" itemprop="url" rel="index">
                    <span itemprop="name">生活感悟</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>最近看了一部叫做<a target="_blank" rel="noopener" href="https://movie.douban.com/subject/1309071/">《天国王朝》</a>的电影，主要讲述了第三次十字军东征时期的一段故事：法兰克铁匠巴利安，因为受到失散多年的父亲的召唤，亦是为了替自杀而死的妻子寻求救赎，来到了三教圣城——耶路撒冷。其间，父亲亡故，巴利安承袭了爵位和封地，甚至得到了西贝拉公主的青睐，可这依然无法阻止他深陷十字军的政治漩涡。当时，身染麻风病的耶路撒冷王鲍德温四世与阿拉伯传奇英雄萨拉丁，维持着基督教与伊斯兰教之间脆弱的和平；而以居伊和雷纳德为首的好战势力，则通过袭击穆斯林的方式不断挑起争端。战争终于不可避免地爆发了，这正是历史上著名的哈丁之战。此后，狮心王理查一世独自面对东方世界的滚滚黄沙，东西方的军事、宗教和文化碰撞出火花，更是堪比双子星一般的存在。</p>
<p><img src="/P9832764530.jpg" alt="天国王朝中的巴利安男爵形象"></p>
<h1 id="圣城耶路撒冷"><a href="#圣城耶路撒冷" class="headerlink" title="圣城耶路撒冷"></a>圣城耶路撒冷</h1><p>熟悉刺客信条系列的朋友，此刻应该会想到，这个系列的第一部作品，正是取材于第三次十字军东征时期，主角阿泰尔则是活跃在该时期的一名叙利亚刺客。因为电影中出现了刺客的敌对势力——<a target="_blank" rel="noopener" href="https://baike.sogou.com/v74701.htm">圣殿骑士(团)</a>。所以，我觉得透过历史去打通电影和游戏会是一件非常有趣的事情。也许，中世纪时期发生的事情，到今天已然无法做到存伪去真，可正如我曾经迷恋过亚瑟王从石头中拔出(伊甸)圣剑的故事一样，圆桌骑士或者说骑士本身，在一个(中二)男人眼中是接近武侠小说里侠客的存在。所以，在一个武侠没落的时代，你就不难理解，我为什么会喜欢上刺客信条这样一款游戏。虽然，这些骑士相当迷信，动辄要通过决斗让上帝来裁决，可就像塞万提斯笔下的<a target="_blank" rel="noopener" href="https://book.douban.com/subject/24854061/">堂·吉诃德</a>一样，当他准备大战风车的那一刻，你又会觉得他是一个英雄。</p>
<p><img src="/Alta%C3%AFr.png" alt="刺客信条中阿泰尔施展信仰之跃"></p>
<p>故事要从哪里说起呢？我想，应该从鲍德温四世那场著名的战役——蒙吉萨之战说起。那一年，年仅16岁的鲍德温四世，率领3000人击败了20000人的萨拉丁军队。这段历史带给我的震撼，丝毫不亚于中国历史上的官渡之战和淝水之战。如果你对此毫无概念，不妨对比一下孙权的合肥之战，当时的孙权号称有100000人的兵力，而张辽只有800人，史称“孙十万与张八百”。这一场战役令鲍德温四世获得了极好的威望，而雷纳德则因为参与了这场战役而成为主战派的首领。可惜，这场堪称为传奇的胜利仅仅为耶路撒冷换来了两年的和平。1779年鲍德温四世兵败泉水谷，病情的恶化令他的身体每况愈下，到1785年他因麻风病去世的时候，他只有24岁，电影里始终以面具示人的就是鲍德温四世。后期的耶路撒冷王国，基本是由他的姐夫居伊以及雷蒙德三世把持，朝局的不稳定无疑加速了耶路撒冷王国的覆灭。</p>
<p><img src="/P2355584352.jpg" alt="天国王朝中的鲍德温四世形象"></p>
<p>相传，鲍德温四世出生时，是由其伯父鲍德温三世主持洗礼的。当时，国王鲍德温三世决定把自己的名字作为礼物赠送给这个新生儿，一旁的大臣开玩笑地说道，“作为一国之王，如果只是赠送一个名字，是否显得太过吝啬了呢？”。国王听完以后，大笑一声，指着圣(真)十字架说道，“那我就再送一份礼物给他——耶路撒冷之王”。后来，鲍德温三世突然得了重症，而他又没有子女。于是，他的侄子，即鲍德温四世继承了他的王位，成为了新一任的国王。对于历史而言，我们永远无法假设，我们无法想象这个16岁就击萨拉丁的少年，如果没有染上麻风病，又会在历史上留下怎么样的故事？本片的男主角巴利安，其原型在历史上被称为“伊贝林的巴利安男爵”，曾经参与过蒙吉萨之战，支持雷蒙德三世摄政，基本可以认为是主和派。电影中主张袭击穆斯林的，主要是居伊、雷纳德以及圣殿骑士团。</p>
<h1 id="十字军与圣殿骑士"><a href="#十字军与圣殿骑士" class="headerlink" title="十字军与圣殿骑士"></a>十字军与圣殿骑士</h1><p>好了，现在总算和刺客信条产生某种联系了。在刺客信条第一部中，圣殿骑士主要是以十字军的形象出现。事实上，十字军东征是由天主教教会发起的解放圣地耶路撒冷的一项运动，因为按照基督教、伊斯兰教、犹太教各自的说法，耶路撒冷都是它们心目中的圣地。可是，从十一世纪末开始，耶路撒冷及其周边的拜占庭地区，一直都被穆斯林占领。因此，罗马教廷以解放圣地的名义发动了多次东征，这些东征的军队服饰均以红十字作为标志，故而称为“十字军”。十字军占领耶路撒冷以后，很多欧洲人前往圣地朝圣，为了保护这些朝圣者的安全、攻击异教徒，1名法国贵族和8名骑士建立了军事性质的修会，因为其地点位于所罗门神殿的遗址上，故又称为圣殿骑士团。类似的组织，还有医院骑士团、条顿骑士团。其实，在初代刺客信条中，阿泰尔的刺杀对象里就有医院骑士团的成员。</p>
<p><img src="/P2355584519.jpg" alt="天国王朝中的十字军形象"></p>
<p>从今天的角度来看，所谓的“讨伐异教徒”的圣战，其本身并不见得有多么神圣，神殿骑士团侵略和掠夺的成分更多一点，反倒是育碧用自由和秩序的命题，让圣殿骑士多了一点人性的光辉，从三代开始，圣殿骑士和刺客都不再是那种非黑即白的设定，甚至到法国大革命前夕，双方都意识到合作的可能性，可惜，这一切终究毁在各自阵营里的狂热分子手上，就像耶路撒冷王国是毁在一个毫无军事素养的居伊一样。法国刺客<a target="_blank" rel="noopener" href="https://assassinscreed.huijiwiki.com/wiki/%E9%98%BF%E5%B0%94%E8%AF%BA%C2%B7%E5%A4%9A%E9%87%8C%E5%AE%89">亚诺·多利安</a>不无遗憾地说到，“<strong>现在我懂了，诸行并非都得到允许，而是教条本身即为一种警告</strong>”。我们继续说回电影，截止到1187年，通过著名的哈丁之战，萨拉丁终于夺回圣地耶路撒冷，甚至缴获了钉死过耶稣的真十字架，他凭借自己出色的军事才能，一举收复了包括阿卡在内的众多港口城市，彻底切断了十字军在海上的补给线。</p>
<p><img src="/P7297435160.jpg" alt="天国王朝中的萨拉丁形象"></p>
<p>当然，不甘心的十字军，决定以英格兰国王理查一世(狮心王)和 法兰西国王腓力二世为主力，开始积极筹备又一次的十字军东征，大战一触即发。这一年，阿泰尔22岁，此时的他尚未成为刺客大师，但已然成为组织中的骨干力量。直到1191年，26岁的阿泰尔，被导师阿尔莫林派去所罗门圣殿遗址取得金苹果时，年轻而高傲的阿泰尔准备高调刺杀圣殿骑士罗伯特，这一举动把兄弟会成员马利克等彻底暴露在危险之中。而后面的故事我们都知道了，阿泰尔被剥夺了等级和武器，去完成刺杀9个圣殿骑士的任务。历史上的罗伯特，正是在前一年跟随狮心王舰队参与第三次十字军东征，甚至在1192年受封圣殿骑士团大师，可惜当他遇到阿泰尔的时候，这条仕途注定要永远地停留在1193年9月23日那一天。而这，大概就是，袖剑之下，众生平等，万物为虚，万事皆允。</p>
<h1 id="世界的十字路口"><a href="#世界的十字路口" class="headerlink" title="世界的十字路口"></a>世界的十字路口</h1><p>转眼间，时间来到12世纪，狮心王和萨拉丁，西方和东方，基督教和伊斯兰教，都在这一刻走向了对立面。如果说，土耳其的伊斯坦布尔是亚洲和欧洲的十字路口。那么，毫无疑问，这将会两个当世雄主间的终极对决。1191年9月7日，狮心王理查在阿苏夫会战中击败萨拉丁，在十字军进军耶路撒冷的途中，萨拉丁不断派出穆斯林骑兵进行袭扰，直到1192年1月，十字军抵达贝特努巴城堡，此时，距离圣地耶路撒冷只剩下12英里，耶路撒冷唾手可得。历史更像是一种巧合，那一年萨拉丁的埃及援军从南部抵达战场，狮心王理查一世在英国的统治地位随时都有可能被颠覆，战争顿时陷入了焦灼状态。1192年8月，互相怀有敬意的双方，在雅法城签署停战协定，史称“雅法合约”，正是从那一刻起，声势浩大的第三次十字军东征悄然落下帷幕。</p>
<p><img src="/P2307353790.jpg" alt="狮心王理查一世影视形象"></p>
<p>萨拉丁是否归还了真十字架，后世的我们已无从得知。我只知道，从那一刻开始，这对惺惺相惜、势均力敌的对手，再没有等来交手的机会，一年后萨拉丁去世，而理查一世则在回国途中被奥地利公爵扣押。直到1194年，经过英、奥双方多次谈判，理查一世终于获释。可这个拥有狮子般雄心壮志的传奇将领，永远都选择冲锋陷阵、选择身先士卒，获释后不久，他就再次陷入了英法战争的泥潭，于1199年战死沙场。以我狭隘的历史观，后世能匹敌理查一世这次东征运动的将领，也许，只有先后在莫斯科损兵折将的拿破仑和希特勒。在育碧的世界观中，马西亚夫最终没能挡住成吉思汗西征的步伐，原因是成吉思汗手中或许掌握着某种伊甸碎片。1222年，成吉思汗攻下花拉子模汗国首都撒马尔罕，丘处机远赴西域“止杀”，那一年阿泰尔57岁，他已经离开马西亚夫，开始长达20多年的“自我流放”。</p>
<p><img src="/Alta%C3%AFr-1.png" alt="结束隐居生活的阿泰尔"></p>
<p>谁能想到，丘处机路过牛家村的那一年，他的父亲奥马尔正准备潜入萨拉丁的营地，结果在回来的时候不慎触发警报，不得不杀死一名贵族。那一年，萨拉丁大军围攻马西亚夫，在萨拉丁的逼迫之下，奥马尔以生命为代价，从萨拉丁手中换回俘虏艾哈迈德·索菲安以及萨拉丁的撤军。那一年，阿泰尔11岁，几乎在同一天，阿泰尔和阿巴斯同时失去了父亲。阿巴斯不愿意接受父亲叛变的事实，并把一切都归咎于阿泰尔的父亲，两个人内心的芥蒂自此种下。这份怨恨直到阿巴斯死去都没能放下，那一年，阿泰尔80岁，利用从金苹果中学到的知识，阿泰尔研制出了袖枪，而这段故事，我们曾在启示录中，以艾吉欧·奥迪托雷的身份亲眼见证过。对于整个第三次十字军东征而言，阿泰尔的故事更像是惊鸿一瞥，可正是这段难辨真伪的传奇故事，让刺客信条系列成为此后育碧旗下最广为人知的游戏IP，万物为虚，万事皆允，耕耘于黑暗，服侍光明，这就是刺客。</p>
<h1 id="尾声"><a href="#尾声" class="headerlink" title="尾声"></a>尾声</h1><p>育碧说，<strong>History Is Our Playground</strong>，电影里的故事真真假假，游戏里的故事更不必说，甚至是我这些未曾考据过的文过饰非，可这恰恰是历史最为迷人的地方，一个人的形象，其实是由无数个人的记忆拼凑出来的，你可以去肆意地想象你心目中的鲍德温四世、萨拉丁，亦或者是狮心王理查一世、传奇刺客阿泰尔，只要这一切都能自圆其说。所以，育碧选择用阴谋论、用自由与秩序来填补那些虚构的情节，听起来像一款游戏对不对？可玫瑰岛这个社会实验告诉我们，这一切还真的就是一款游戏，毕竟，意大利唯一一场打赢的战争，对手是一座面积只有400平米的小岛，试想，如果西泽尔·波奇亚泉下有知，怕是连胡子都要气得歪掉？当然，请记住一句话，<strong>我说的都是错的！</strong></p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-1-29-flomo">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-1-29-flomo" itemprop="url">flomo 为何与众不同？</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-01-29T10:47:00+08:00">
                2022-01-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>文&#x2F;彭宏豪   </p>
<p>flomo，是一个类似于私密版微博的轻量笔记工具，可以在多种设备、平台上使用。  </p>
<p>如果你对 flomo 还不了解，可以查看我之前写过的一些文章：  </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649910143&idx=1&sn=41dd71db6a5892735694bbb2deef53ff&chksm=83a86f52b4dfe644df026cd7c7fdfcd1e00269e8a4b44af95c8776fd61ad22934d07bae49f63&scene=21#wechat_redirect">轻量好看的笔记工具，虽然小但操作真的骚｜flomo</a><br><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649917151&idx=1&sn=4f4625cf29530f35b0cb9a21c5db523c&chksm=83a882f2b4df0be42df6a4e0df12a1e5c277ef6a8a81fa20a75745688c4c4f01e0346e56603b&token=1635685711&lang=zh_CN#rd">flomo 好用玩法</a>    </p>
<p>使用一个产品，除了关注产品本身的功能、界面设计，对比它和其他同类产品的差异，有时候更细心的人，可能还会关注到产品背后的人。  </p>
<p>想起前两天在公众号「乱翻书」看到作者「潘乱」说的一句话：  </p>
<blockquote>
<p>产品是产品经理世界观的映射。  </p>
</blockquote>
<p>我相信，许多选择使用 flomo 的人，不仅因为它是一款新产品、它的轻量简洁，可能还有一部分原因来自于：  </p>
<ul>
<li>产品调性（很虚的东西，但又确实存在），产品给人的「感觉」   </li>
<li>创始人持续输出内容的加持（创始人气质），具体体现在服务号 flomo weekly 周刊文章中表达的各种观点，他们不仅造了工具，还在一些问题上给我们提供一些思路           </li>
<li>借助 API，flomo 原来还可以和这么多软件一起使用，flomo 就像是无处不在  </li>
<li>不少人会主动为 flomo 贡献自己写的代码、插件和用法等   </li>
<li>flomo 和许多其他软件推出了「弱弱联合」的活动，看到两个自己都在用的产品，有一天居然合作了，某种程度上算是一种惊喜</li>
</ul>
<h2 id="产品-思路"><a href="#产品-思路" class="headerlink" title="产品 &amp; 思路"></a>产品 &amp; 思路</h2><p>做产品可能有两种人：  </p>
<ul>
<li>一种是觉得做出来的产品能赚钱，所以我要去做；</li>
<li>一种是我想做的产品刚好是我要用到的，所以我要去做，做一个产品来取悦自己。</li>
</ul>
<p>看 flomo 的少楠老师写的东西，我会好奇：他是怎么写出那些高质量的内容的，他的思考能力是如何炼成的，他是如何处理自己输入的各种信息的。    </p>
<p>在做 flomo 之前，少楠老师在 Notion 上维护了一个付费专栏「产品沉思录」，每周向订阅者发送他筛选的有价值的信息。   </p>
<p>关于如何维护这个付费订阅服务，少楠老师在一期播客节目《“我想用flomo改善一代人的思考方式”》中谈到：  </p>
<blockquote>
<p>写产品沉思录，其实不是写，更多像是在「<strong>拼装</strong>」，把日常积累的想法、观点，一周大概 50-70 条左右的内容，在需要用到的时候调出来，再拿格式、语言组织一遍就完了，写作现在更像是拼积木的过程。</p>
</blockquote>
<p>播客节目文字稿 ➡️ <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/tkgaIp7mQfMJMZuI2igVyQ">AhaClub X 少楠：“我想用flomo改善一代人的思考方式”（附文字版）</a>   </p>
<p>而他打造的 flomo，正是他用来存放日常产生的想法、观点的工具（容器）。    </p>
<p>但是，有了工具还不够，工具不是目的，而是达成目的——<strong>更多的记录，以及通过记录引发的思考</strong>——的路径。   </p>
<p>因此，他不仅提供了工具，还不余遗力地向我们提供用好工具的思路：    </p>
<blockquote>
<p>重要的不是记出漂亮的笔记，而是更好地思考。   </p>
<p>使用 flomo 的最好方法不是丢进去一个链接，或者全文收藏。而是把你需要的内容先标记出来，然后汇总；或者在阅读完成之后，用自己的理解再在 flomo 中写一遍。  </p>
<p>如果你在获取知识的途中没有做任何的加工（即用自己的话说出来），那么只是一个知识的搬运工。（最初源自卢曼）  </p>
<p>一个事实：任何漂亮的输出工具，都不能帮你解决输入过少的问题。而多数时候，难以输出的问题往往是后者。</p>
<p>所谓的「知识管理」只是一种手段，而不是目的。如果你本身没有需要解决的问题（或者说专注研究的领域），那么知识管理只是个伪命题。</p>
</blockquote>
<h2 id="弱弱联合"><a href="#弱弱联合" class="headerlink" title="弱弱联合"></a>弱弱联合</h2><p>与 flomo 合作过的软件名单：  </p>
<ul>
<li>轻芒  </li>
<li>白描 </li>
<li>滴答清单 </li>
<li>有知有行  </li>
<li>看理想  </li>
<li>简悦  </li>
<li>幕布  </li>
<li>得到</li>
</ul>
<p>弱弱联合，本质上是一种合作，像是「抱团取暖」，合作的基础可能是彼此气质相投，合作也是产品之间交换用户的过程：  </p>
<blockquote>
<p>用户可能本身就很喜欢自己在用的产品了，突然有一天，看到官方推荐了另外一个产品，基于此前的信任，可能会更倾向于尝试一下这个新产品。   </p>
</blockquote>
<h2 id="flomo-101"><a href="#flomo-101" class="headerlink" title="flomo 101"></a>flomo 101</h2><p>除了这些，flomo 的帮助文档「<strong>flomo 101</strong>」，也是一个比较特殊的存在：   </p>
<p>帮助文档名称包含的数字 101，来自于：</p>
<blockquote>
<p>「101课程」，通常是指 XXXX 的入门级课程。许多教程的第一章或者导论部分都会用「101」做标注，这个词汇渐渐的就被引申了出来，用来表示基础入门级课程，变成了一个代号，也就是<strong>基础课程的同义词</strong>。</p>
</blockquote>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/29/16432694521229.jpg"></p>
<p>为了让你更清晰地了解 flomo 101 的内容，我在幕布中梳理了首页的框架：   </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/29/16432695938219.jpg"></p>
<p>帮助文档中介绍产品是什么、能解决你的什么问题、产品从哪里来，这些都没毛病，但唯独有一个——<strong>flomo 不擅长什么</strong>，让人眼前一亮。  </p>
<p>不少产品在宣传的时候，都会扬长避短，往自己好的方面说，对做不来的事情避而不谈。</p>
<p>flomo 却明确列出了自己「不擅长」的地方，并附上链接，推荐了相应的工具。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/29/16432709591199.jpg"></p>
<p>列出自己的不擅长这种做法，一方面可能是在提醒自己明确产品的边界，只把当前的「小事」做好就够了，不要想着 All in one，一方面是让用户不要对 flomo 未来的迭代方向抱有过高的预期。   </p>
<h2 id="互动一下"><a href="#互动一下" class="headerlink" title="互动一下"></a>互动一下</h2><p>你有在用 flomo 吗？你使用 flomo 的原因是什么呢？</p>
<p>如果还没使用过，可以扫描下方的二维码注册，注册后可获得 28 天的 Pro 会员： </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/29/qrcodea--a1.jpg" alt="QRcode_A — a1"></p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2022-1-24-fcpx">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022-1-24-fcpx" itemprop="url">用 FCPX 给视频加字幕 | MacBook</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-01-24T15:57:00+08:00">
                2022-01-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>本文首发于「<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/8VCrqI_pDRlRDTFJZwOQtw">效率工具指南</a>」<br>文&#x2F;彭宏豪</p>
<p>Hello 各位好，我是小豪。</p>
<p>今天的文章，想来聊一下，如何给视频添加「观看体验更好」的字幕。  </p>
<p>👉 温馨提示：本文配合之前发过的一期视频食用更佳</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1hS4y1M7ye">剪辑软件的隐藏用法，给视频加字幕真的太爽啦！</a>   </p>
<p>剪映电脑版出来之前，给视频添加字幕，不少人可能会使用 <strong>Arctime</strong>，一款免费的跨平台字幕软件，支持 Windows、macOS 和 Linux 系统。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16429905484613.jpg"></p>
<p>剪映出来后，对于简单的视频剪辑、给视频加字幕，用剪映都可以完成。  </p>
<p>以「加字幕」为例：</p>
<ul>
<li>内置的「识别字幕」和「识别歌词」功能，识别准确率很高，且完全免费</li>
<li>识别得到的字幕，还可以套用右侧栏的「预设样式」，让字幕更好看一些，或是让字幕与视频画面对比更明显、观众更容易看清</li>
</ul>
<p>当然，内置的字幕样式用起来是很方便，但不一定能满足所有人的需求。</p>
<p>因为它只是一个模板，只能满足需求的最大公约数——快、容易出效果、最好不要让「我」调整参数。   </p>
<p>譬如下面的「黑底白字」字幕样式，第一次使用可能会觉得没有什么问题，字幕下方的黑色背景，让字幕与画面可以很好地分隔开来。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16429903700576.jpg"></p>
<p>不过后来看了一些 Up 主的视频，会发现这个字幕样式还是会有一些问题：</p>
<p>白色的文字和黑色的背景挨得太近，左右和上下的间距很小，看起来有点拥挤。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16429963050436.jpg"></p>
<p>剪映目前只提供了更改黑色背景<strong>透明度</strong>的功能，暂不支持调节黑色背景的宽度。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16429984254858.jpg"></p>
<p>我觉得更理想的字幕样式，应该如下图所示，字幕文本和后面的黑色背景的四周留有一定的宽度，保持呼吸感。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16429985968994.jpg"></p>
<p>要实现这种字幕效果，目前我知道的两种方式，或者两个工具：</p>
<ul>
<li>Arctime</li>
<li>FCPX</li>
</ul>
<p>Arctime 的实现方法我在这里就不展开了，感兴趣的朋友可以去 B 站搜索 Arctime 相关的教程。 </p>
<p>下面说一下在剪辑软件 FCPX 上的实现方法： </p>
<h3 id="将-srt-字幕转换为-fcpxml"><a href="#将-srt-字幕转换为-fcpxml" class="headerlink" title="将 srt 字幕转换为 fcpxml"></a>将 srt 字幕转换为 fcpxml</h3><p>开始操作之前，请先准备好视频字幕文件 srt，接着打开网站 crossub，点击「去转换 .srt」。</p>
<p>crossub 网址：<br><em><a target="_blank" rel="noopener" href="https://crossub.xiaowude.com/">https://crossub.xiaowude.com/</a></em></p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430016643361.jpg"></p>
<p>上传字幕文件后，调整下方的参数： </p>
<ul>
<li>目标输出：选择 FCPX 可用的「fcpxml」</li>
<li>帧速率：根据剪辑工程设置的帧率，选择相应的帧率</li>
<li>字幕风格：选择「自适应背景字幕」</li>
</ul>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430017925080.jpg"></p>
<p>这里的「自适应背景字幕」中的<strong>自适应</strong>，说的是字幕文本后面<strong>黑色背景的宽度</strong>，会随文本字数的变化而变化，而不是一直保持不变。 </p>
<p>调节下面的两个参数，可以调整字幕文本与黑色背景四周的间距——</p>
<ul>
<li>X 轴边距比例：数值越大，字幕文本与黑色背景左右两侧的宽度越大</li>
<li>Y 轴边距比例：数值越大，字幕文本与黑色背景上下边缘的高度越大</li>
</ul>
<p>网站也提供了调整参数后的<strong>预览效果</strong>，你可以实时查看设置不同参数的效果。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430022239308.jpg"></p>
<p>经过测试后，我觉得 <strong>X 设置为 0.5，Y 设置为 0.3</strong>，得到的字幕文本与黑色背景四周的边距，是我比较满意的，供你参考。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430029084299.jpg"></p>
<p>调整好参数后，点击页面最下方的「导出文件」，下载转换后的 fcpxml 字幕文件。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430030173186.jpg"></p>
<p>下载得到的 fcpxml 文件，它的文件名多了一段后缀「.删除此后缀」，需要对文件进行<strong>重命名</strong>，删除后缀多余的文本，之后才能导入 FCPX。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16143501796977.jpg" alt="-w1560"></p>
<h3 id="FCPX-添加插件"><a href="#FCPX-添加插件" class="headerlink" title="FCPX 添加插件"></a>FCPX 添加插件</h3><p>在 FCPX 导入 fcpxml 字幕前，我们还需要给 FCPX 安装一个「自适应背景字幕」的插件。  </p>
<p>这个插件最初来自 B 站 Up 主 @少年广志，不过目前他的账号已经注销了，还好有另外一位 Up 主 @偷偷不偷懒 在经过授权后，将这个插件上传到了自己的网站上。  </p>
<p>插件下载地址：<br><em><a target="_blank" rel="noopener" href="https://crossub.xiaowude.com/plugins">https://crossub.xiaowude.com/plugins</a></em></p>
<p>在有些浏览器中，点击插件「下载」按钮可能会遇到无法下载的情况。</p>
<p>如果你无法顺利下载，可以在我的公众号「效率工具指南」后台回复【<strong>自适应</strong>】，获取插件的备用下载链接。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430035793342.jpg"></p>
<p>解压下载的插件，会得到一个文件夹，将这个文件夹移动到 <code>影片/Motion Templates/Titles</code> 路径下。 </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430039412090.jpg"></p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430040095351.jpg"></p>
<h3 id="03-将-fcpxml-字幕导入-FCPX"><a href="#03-将-fcpxml-字幕导入-FCPX" class="headerlink" title="03. 将 fcpxml 字幕导入 FCPX"></a>03. 将 fcpxml 字幕导入 FCPX</h3><p>安装好插件后，就可以导入 fcpxml 字幕了。</p>
<p>选择「文件 &gt;&gt; 导入」，选择 <strong>XML</strong>，导入 fcpxml 文件。</p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430046199831.jpg"></p>
<p>导入 fcpxml 文件后，它会在 FCP 中创建一个<strong>新的事件</strong>「crossub」，切换到新事件，再点击右侧的剪辑工程。  </p>
<p>在剪辑工程下方的<strong>时间轴</strong>上，就能看到所有的字幕文本，Cmd + A 全选所有字幕文本，再按下 Cmd + C 复制。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16143506613307.jpg" alt="-w1252"></p>
<p>点击时间轴中部的<strong>向左的箭头</strong>，切换到原来的剪辑工程中。   </p>
<p>将时间线移动到字幕开始的位置，再按下 Cmd + V 粘贴，操作无误的话，字幕与视频此时应该是刚好能对上的。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16143508723977.jpg" alt="-w1414"></p>
<p>下图就是在 FCPX 中的字幕效果，导入的字幕如果发现有错别字，<strong>双击字幕，就可以直接修改</strong>，不需要重新折腾一遍字幕格式转换。  </p>
<p>FCPX 中的字幕默认使用的是苹果的「苹方」字体，保险起见，建议将字体更改为<strong>免费可商用的字体</strong>，例如阿里巴巴普惠体或思源黑体。    </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430048942170.jpg"></p>
<p>在 FCPX 中调整字幕的字号大小，可能还会遇到一个问题：调整后的字幕文本偏离了原来的位置，无法居中显示。  </p>
<p>这个问题也很好解决，只需要全选所有字幕，调整右侧的「<strong>基线</strong>」参数，将字幕恢复到看起来<strong>垂直居中</strong>的位置即可。  </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2022/01/24/16430057071332.jpg"></p>
<h2 id="欢迎关注"><a href="#欢迎关注" class="headerlink" title="欢迎关注"></a>欢迎关注</h2><p>以上，就是本次想和你分享的内容，希望能够对你有一点帮助。     </p>
<p><img src="https://article-picbed-1302715071.cos.ap-guangzhou.myqcloud.com/2021/05/28/gong-zhong-hao-wei-bu-er-wei-ma-dailogo.png" alt="公众号：效率工具指南">     </p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/">&lt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/73/">73</a><a class="extend next" rel="next" href="/page/11/">&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">1451</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">914</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5358884258"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Laird Lau</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  

  

  
  

  

  

  

</body>
</html>
