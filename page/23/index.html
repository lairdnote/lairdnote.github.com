<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Liunx Python Rust Goalng DevOPS" />










<meta name="description" content="个人随想，瞎子的世界">
<meta property="og:type" content="website">
<meta property="og:title" content="逐流小站">
<meta property="og:url" content="https://blog.feedscoin.com/page/23/index.html">
<meta property="og:site_name" content="逐流小站">
<meta property="og:description" content="个人随想，瞎子的世界">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Laird Lau">
<meta property="article:tag" content="Liunx Python Rust Goalng DevOPS">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://blog.feedscoin.com/page/23/"/>





  <title>逐流小站</title>
  





<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MW47YH6RH0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MW47YH6RH0');
</script>





<meta name="generator" content="Hexo 7.0.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">逐流小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">想回到那个能随便跳槽的年代</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020-04-15-how-to-make-decision">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020-04-15-how-to-make-decision" itemprop="url">做决策的时候，你相信什么？</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-15T21:23:43+08:00">
                2020-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>​</p>
<h2 id="一、引言"><a href="#一、引言" class="headerlink" title="一、引言"></a>一、引言</h2><p>最近发生了两件事情：</p>
<p>1、同事 A 给我说，有一个产品他想迭代，因为那个产品的视觉他觉得不好。而我觉得那视觉还行。于是我就给他说：是不是要做个调研，让用户们评一下？</p>
<p>2、同事 B 给我说，他想把某个产品的视觉迭代一下。我对新的视觉风格不确定，就问了一些人。有一些人说好，有一些人说不好。我问同事 B，要不要做个用研投个票。同事 B 觉得这样不好，因为他认为专业的判断更靠谱。</p>
<p>就决策来看，我们应该相信自己的判断或感觉，还是相信专家，还是相信一个流程？这引发了我的思考。</p>
<h2 id="二、决策的原则"><a href="#二、决策的原则" class="headerlink" title="二、决策的原则"></a>二、决策的原则</h2><p>更多时候，人性是相信自己的感觉的，然后会靠着自己的感觉，来选择性的相信一些信息。</p>
<p>比如我发现，当我对一件事情怀疑的时候，我就会选择性相信自己看到的证据，忽视或者怀疑别的证据。我不会简单地以证据的多少为决策依据，当支持我的观点少的时候，我会觉得“<strong>真理掌握在少数人手里__”，当支持我的观点多的时候，我会觉得”__应该听取大部分人的观点，减少风险</strong>“。</p>
<p>那么，真正好的决策原则是什么？是相信自己的直观，还是相信专家，还是依赖于投票，调研的结论？</p>
<p>我首先觉得，<strong>盲目自信是不好的</strong>。别人说的信息，应该还是消化吸收进来，对的接受，不对的过滤。</p>
<p>另外，<strong>依赖投票和调研数据来做决策是不对的</strong>。因为投票和调研都非常容易被问题或者场景或者调研样本影响。依赖这个做决策很多时候都会死很惨。比如历史上的 1985 年可口可乐的<a target="_blank" rel="noopener" href="https://wenku.baidu.com/view/e847c601cc175527072208b9.html">换口味事件</a>，依赖于用户盲测，结果最后决策是完全错误的。</p>
<p>桥水基金的创始人 Ray 在公司发明了一种基于置信度的带权重的投票决策机制，但是我觉得这个机制只适用于他们公司，同时这对于大部分人来说做不到。</p>
<p>对于大部分人来说，可能最好的决策方式就是：<strong>客观</strong>。客观是指先把自己的观点放一把，然后把自己的观点和别人的观点都放在一起看一看，逐个分析每个观点是否正确。最后分析完了，还是得”相信自己的分析“。</p>
<p>因为这本质上对于一个决策，<strong>一个人只能相信自己相信的决策</strong> 。对于自己不相信的决策，即使短期妥协，一旦遇到一些相反的信息就会后悔，会坚持不住。</p>
<p>这跟自己没研究透的股票在持续下跌的过程中拿不住是一个道理。这波疫情造成的股市下跌，我发现我最后拿住的股票，都是我坚信会涨回来的，没拿住的，都是不确定能不能涨回来的。</p>
<h2 id="三、决策能力差怎么办"><a href="#三、决策能力差怎么办" class="headerlink" title="三、决策能力差怎么办"></a>三、决策能力差怎么办</h2><p>不是每个人都有很好的决策能力。如果一个人最终决策能力低，那可以不决策，把决策过程完全交给自己信得过的人，这也是可以的。</p>
<p>比如在家里，夫妻可以让决策能力强的人拿主意；工作上，可以让决策能力强的人做负责人；在生活上，也可以多咨询身边决策能力强的朋友的意见。决定把决策交给别人，并坚信别人，也是一种决策。</p>
<p>这就类似于买私募基金，就是一种将理财的方案决策交给专家来做的行为。</p>
<h2 id="四、小结"><a href="#四、小结" class="headerlink" title="四、小结"></a>四、小结</h2><p>1、决策的时候要理性，客观，不能盲目自信。</p>
<p>2、不要轻信专家，投票，用户调查，历史经验，而应该把这些信息当作参考，从底层自己独立思考。</p>
<p>3、只有自己相信的事情，才能持久。</p>
<p>4、精力有限或能力有限的情况下，可以考虑把一些事情的决策交给别人。</p>
<p>就酱~</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/47-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2Hexo%E5%8D%9A%E5%AE%A2%E5%92%8C%E7%9C%8B%E6%9D%BF%E5%A8%98Live2D-API">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/47-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2Hexo%E5%8D%9A%E5%AE%A2%E5%92%8C%E7%9C%8B%E6%9D%BF%E5%A8%98Live2D-API" itemprop="url">服务器部署静态博客和看板娘 Live2D API</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-15T19:45:00+08:00">
                2020-04-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <h2 id="1-服务器部署静态博客"><a href="#1-服务器部署静态博客" class="headerlink" title="1. 服务器部署静态博客"></a>1. 服务器部署静态博客</h2><p>在服务器上部署静态博客有两种方案，一是直接在服务器上用博客源代码构建网页文件并部署；二是用 GitHub 作为源代码托管，然后用 GitHub Actions 构建博客，再同步到服务器的网站根目录下。这里，我选择后一种方案。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/47-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2Hexo%E5%8D%9A%E5%AE%A2%E5%92%8C%E7%9C%8B%E6%9D%BF%E5%A8%98Live2D-API#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020-04-11-snowball-ceo-book-summary">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020-04-11-snowball-ceo-book-summary" itemprop="url">方三文的聊天记录 - 读《您厉害，您赚得多》</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-11T23:49:34+08:00">
                2020-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <img src="/images/snowball-ceo-book.jpg" class="">

<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>最近读完了雪球 CEO 方三文的《您厉害，您赚得多》。这是一本比较特别的书，里面很多内容以雪球上的聊天记录的方式呈现，稍微显得体系感没那么强。但是一本书能够给读者带来几个点的思考和总结，也就值回书价和时间了。</p>
<p>整本书给我带来的思考还是挺多的，以下是一些记录。</p>
<h2 id="什么是赌徒"><a href="#什么是赌徒" class="headerlink" title="什么是赌徒"></a>什么是赌徒</h2><p>书中关于「股市与赌徒」让我思考，什么才是真正的价值投资者。结果我发现，实际上基本上所有的投资都带有赌博的成分。</p>
<p>我们通常可能认为，股票挣钱的方式有两种：</p>
<ul>
<li>挣市场的钱</li>
<li>挣交易对手的钱</li>
</ul>
<p>但是，即便是所谓的价值投资者，也是在目标股票价格合理或者极低时买入。这个时候，他如果真的做到了超过平均收益率的回报，那前提是他假定当时和他对手的交易都是傻子，并且事实上确实如此。所以，他其实也是挣的是交易对手的钱。</p>
<p>同时，当你在买入一支股票的时候，你其实就做了两件事情：择股，择时。这两件事情本身都有极大不确定因素：</p>
<ul>
<li>没有人能够预测股票未来的涨跌，所以你的择时就是一种赌博。</li>
<li>没有人能够获得一家公司所有的信息，决策都是不完全信息情况下做出的。这个时候做出的投股决定，虽然有很多信息当作参考，但是因为不完整，所以也是一种赌博。</li>
</ul>
<p>唯一可能没有赌博操作的，可能就只有指数定投了，因为它放弃了择股和择时，它是纯粹挣市场的钱，而其它的都不是。</p>
<h2 id="如何研究公司"><a href="#如何研究公司" class="headerlink" title="如何研究公司"></a>如何研究公司</h2><p>方三文认为研究公司研究 3 件事情就可以了：</p>
<ul>
<li>所处行业是否可持续增长。</li>
<li>商业模式是否有优势和壁垒。</li>
<li>公司的治理结构和创始人人格是否有优势。</li>
</ul>
<h3 id="行业"><a href="#行业" class="headerlink" title="行业"></a>行业</h3><p>书中讲到很多案例，对于行业的案例中，我印象最深的是移动互联网。这是我亲身经历的行业，我是最早的一批 iOS 开发者，经历了移动互联网从 2010 年起步到飞速发展的这十年。</p>
<p>其实移动互联网对于整个行业的影响是巨大的，但是我身处当中对此其实并不敏感，本质上就是一个人拥有了一块随时在线的屏幕。这对于信息交流的便利性，实时性，以及内容展示的个性化，位置化都是极大的改变。</p>
<h3 id="公司治理"><a href="#公司治理" class="headerlink" title="公司治理"></a>公司治理</h3><p>方三文在书中介绍了他是如何研究比亚迪的公司治理的：</p>
<ul>
<li>有空就去比亚迪 4S 店观察，跟销售员和顾客交流</li>
<li>从供应商那儿打听比亚迪的采购体系</li>
<li>看公司对外的承诺是否兑现过</li>
</ul>
<p>有一些公司，治理结构相对不那么重要，反倒显示出这个公司壁垒高，比如茅台。</p>
<h2 id="估值"><a href="#估值" class="headerlink" title="估值"></a>估值</h2><p>书中又一次讲到了「现金流折现法」，我最早是在段永平的一个采访文章中看到的。</p>
<p>现金流折现（discounted cash flow ，DCF）旨在通过将所有未来的现金流折成现值来求得资产内在价值。相关的介绍文章很多，比如知乎上的<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/23005134">这篇文章</a>。</p>
<p>估值方面，段永平介绍过<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/80541445">《谈毛估估的思路与方法》</a>，其实也挺有价值，里面提到的估值法包括：</p>
<ul>
<li>现金流折现法</li>
<li>存银行本金估值法</li>
<li>市盈率（PE）估值法</li>
<li>隐性资产估值法</li>
<li>企业价值（含负债）e&#x2F;e估值法</li>
</ul>
<p>这些计算其实都不算是特别精细，都是估算，所以段永平叫毛估估。但是如果初步算起来，都觉得特别便宜，那可能股价就是便宜的。</p>
<h2 id="什么时候卖出"><a href="#什么时候卖出" class="headerlink" title="什么时候卖出"></a>什么时候卖出</h2><p>有人说，价值投资者就应该永远持有股票，或者至少持有 5 年以上。我去年 220 多买了特斯拉，年底 420 卖出了，很多人评论我这个是伪价值投资。这让我一度思考应该什么时候卖出标的。</p>
<p>我去年觉得特斯拉的估值底部在 300 亿美元，所以我就在那个区间买入，但是涨到多少是合理的，我并不清楚，所以就没拿住，这也算是我能力不行吧。</p>
<p>就巴菲特来看，他既有像可口可乐这种长期持有的案例，也有像中石油，迪士尼这种高价卖出的案例。</p>
<p>就本书的讨论来看，我觉得卖出标的时机还是这个股票的价格远远超过了它的价值。那远远是多远呢？我想了一个办法：如果这家公司的行业&#x2F;模式&#x2F;治理都好，那就以一个偏长期（5-10年）的心态，来计算出公司未来的长期赢利能力，然后买入之后的目标就是持有到这种长期赢利能力达成之后的合理股价。</p>
<p>一般来说，一个行业&#x2F;模式&#x2F;治理都好的公司，10 年之后的复合增长应该是非常夸张的。这个时候计算出来的长期合理股价就会非常高，这个时候中途卖掉之后，不排除就遇不到合理的买回来的机会了，那不如就长期持有了。</p>
<h2 id="资产配置"><a href="#资产配置" class="headerlink" title="资产配置"></a>资产配置</h2><p>其实资产配置就是把钱放在合适风险的产品上。</p>
<ul>
<li>银行活期，零风格，但是利率低。</li>
<li>银行定期，失去一定流动性，但是利率变高。</li>
<li>货币基金，低风险。比活期和短期的定期都好，现在大概 3% 左右。</li>
<li>债券基金，中低风险，平均能到 5% 左右。</li>
<li>信托，风险再高一些，牺牲流动性，收益能再高一些。</li>
<li>股票型基金，中高风险，有可能做到 10% 以上的收益。</li>
<li>股票，高风险。</li>
</ul>
<p>所谓的资产配置，就是你在调几个参数：风险、流动性、波动率。高收益的配置同时也意味着高风险，流动性差，流动率高。</p>
<p>下图是中国的各类资产规模情况：</p>
<img src="/images/distribution.jpg" class="">

<p>具体怎么做呢？</p>
<ul>
<li>把保命的钱放在低风险资产中，这部分的钱至少是家庭未来 6 个月的开销。</li>
<li>把你亏得起、亏光不影响生活的钱放在中高风险的产品中，最多不超过 1&#x2F;3。</li>
</ul>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>方三文的这本书给我带来了一些关于投资的思考，包括：</p>
<ul>
<li>如何研究公司：行业&#x2F;公司&#x2F;管理层</li>
<li>如何估值公司</li>
<li>什么时候卖出股票</li>
<li>资产配置的思考</li>
</ul>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/23005134">https://www.zhihu.com/question/23005134</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/80541445">https://zhuanlan.zhihu.com/p/80541445</a></li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/code-summary">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/code-summary" itemprop="url">程序员日常开发注意事项总结</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-11T22:28:43+08:00">
                2020-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index">
                    <span itemprop="name">其他</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>作为一名刚入行不久的菜鸟 Java 程序员，经常被自己的一些不好的开发习惯给坑，导致明明运行好好的项目突然出现意想不到的 Bug。然后，我就被导师叫过去进行了一番细心的指导，这里要特别感谢一下我的导师，可以说他是我目前开发路上的指路明灯。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/code-summary#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/WebApiClient%E4%B8%AD%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E4%BD%BF%E7%94%A8">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/WebApiClient%E4%B8%AD%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E4%BD%BF%E7%94%A8" itemprop="url">WebApiClient 中动态路由的实现与使用</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-02T10:26:53+08:00">
                2020-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index">
                    <span itemprop="name">编程语言</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          博主曾经在「[声明式 RESTful 客户端 WebApiClient 在项目中的应用](https://blog.yuanpei.me/posts/380519286/)」这篇博客中，介绍过.NET 平台下的“Retrofit”——[WebApiClient](https://github.com/dotnetcore/WebApiClient)，它是一种声明式的 RESTful 客户端，通过动态代理来生成 Http 调用过程代码，而调用方只需要定义一个接口，并使用相关“注解”对接口进行修饰即可，类似的实现还有[Refit](https://github.com/reactiveui/refit)，是一种比 HttpWebRequest、HttpClient 和 RestSharp 更为优雅的接口调用方式;是的，你猜对了，实际运作过程中，测试环境和正式环境不单单会使用不同的域名，可能还会使用不同的路由，虽然，理论上两个环境的程序应该完全一样，应该使用相同的路由;在今天这篇博客中，我想聊聊 WebApiClient 中动态路由的实现与使用
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/WebApiClient%E4%B8%AD%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E4%BD%BF%E7%94%A8">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/45-%E5%85%A8%E7%90%83%E6%96%B0%E5%86%A0%E8%82%BA%E7%82%8E%E7%9A%84%E6%89%A9%E6%95%A3%E4%B8%8E%E9%98%B2%E7%96%AB%E8%A7%82%E5%AF%9F">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/45-%E5%85%A8%E7%90%83%E6%96%B0%E5%86%A0%E8%82%BA%E7%82%8E%E7%9A%84%E6%89%A9%E6%95%A3%E4%B8%8E%E9%98%B2%E7%96%AB%E8%A7%82%E5%AF%9F" itemprop="url">全球新冠肺炎的扩散与防疫观察</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-29T13:50:37+08:00">
                2020-03-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%A7%82%E7%82%B9/" itemprop="url" rel="index">
                    <span itemprop="name">观点</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>从一月开始蔓延的新冠病毒疫情至今已经两个多月了，本以为随着中国疫情的逐渐缓和，病毒蔓延得到了控制，生活也可以逐渐恢复正常了，谁知道本月以来疫情在全世界扩散开来。从一开始报道的韩国新天地教会疫情，到如今的美国、意大利确诊病例纷纷超越中国，形势也是越来越严峻。这个新冠肺炎疫情已经变成了一场影响全球经济社会发展的重大挑战。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/45-%E5%85%A8%E7%90%83%E6%96%B0%E5%86%A0%E8%82%BA%E7%82%8E%E7%9A%84%E6%89%A9%E6%95%A3%E4%B8%8E%E9%98%B2%E7%96%AB%E8%A7%82%E5%AF%9F#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020-03-25-automatic-thinking">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020-03-25-automatic-thinking" itemprop="url">利用 Automator 自动化你的工作</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-25T11:52:39+08:00">
                2020-03-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/shell/" itemprop="url" rel="index">
                    <span itemprop="name">shell</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <img src="/images/automator.png" class="">

<h2 id="开端"><a href="#开端" class="headerlink" title="开端"></a>开端</h2><p>最近需要压缩一些 MP3 和 MP4 的大小。首先我在网上搜了一下相关的 App，试了好几个都没有理想的，于是我就想用 ffmpeg 或许更方便一些。</p>
<p>安装好 <a target="_blank" rel="noopener" href="https://www.ffmpeg.org/download.html">ffmpeg</a> 之后，我搜了一下，找到了相关的压缩指令：</p>
<p><a target="_blank" rel="noopener" href="https://superuser.com/questions/552817/fastest-way-to-convert-any-audio-file-to-low-bitrate">压缩 MP3</a>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i source.mp3 -map 0:a:0 -b:a 96k dest.mp3</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/28803/how-can-i-reduce-a-videos-size-with-ffmpeg">压缩 MP4</a>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i source.mp4 -vcodec libx265 -crf 26 dest.mp4</span><br></pre></td></tr></table></figure>

<p>于是，我很快就完成了相关的压缩。</p>
<h2 id="存档和同步"><a href="#存档和同步" class="headerlink" title="存档和同步"></a>存档和同步</h2><p>不过，我发现这些指令参数都很长，我很可能下次用的时候还是记不住要查询。于是，我想到了 <a href="hDashttps://kapeli.com/dash">Dash</a>。</p>
<img src="/images/dash-0.jpg" class="">

<p>Dash 是为程序员提供的一个文档查找工具，同时它还有一个代码片段（Snippets）功能，可以帮助你保存和查询常用的代码片段。</p>
<p>我首先把这些命令放到了我的 Dash 的 Snippets 里，这样我以后只需要输入 <code>mp3</code> 或者 <code>compress</code> 或者 <code>ffmpeg</code> 即可调出这条命令（如下图）。</p>
<img src="/images/dash-1.jpg" class="">

<p>我的 Dash 的存储目录是在 Dropbox 下，于是这条命令<strong>自动同步</strong>到了我所有的电脑中。</p>
<h2 id="Automator"><a href="#Automator" class="headerlink" title="Automator"></a>Automator</h2><p>但是这样的使用还是不够方便，因为我还是需要切换到命令行来输入这些指令，我想以后能不能我在 mp3 或 mp4 文件上点击右键，就自动出现相关的压缩指令呢？于是我想到了 Mac 自带的 <a target="_blank" rel="noopener" href="https://support.apple.com/zh-cn/HT2488">Automator</a>。</p>
<p>Automator 可以帮你将一些自动化的流程转换成右键菜单甚至是 App。</p>
<p>首先在 Application 目录下找到 Automator 并启动它。然后选择新建一个 Quick Action:</p>
<img src="/images/quick-action-1.jpg" class="">

<p>接着，设置 workflow 只在音频文件的右键菜单中出现，也只在 Finder 中生效。</p>
<img src="/images/quick-action-2.jpg" class="">

<p>接下来进行 3 步：</p>
<ul>
<li>拖入一个 「Run Shell Script」模块</li>
<li>将「Pass input」设置成 <code>as arguments</code></li>
<li>在 Shell 中填入以下内容</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输入文件</span></span><br><span class="line">fileName=<span class="variable">$1</span></span><br><span class="line"><span class="comment"># 输出文件名</span></span><br><span class="line">targetName=<span class="variable">$&#123;fileName:0:-4&#125;</span><span class="string">&quot;-compressed.mp3&quot;</span></span><br><span class="line"></span><br><span class="line">/usr/local/bin/ffmpeg -i <span class="variable">$fileName</span> -map 0:a:0 -b:a 96k <span class="variable">$targetName</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img src="/images/quick-action-3.jpg" class="">

<p>编辑完成之后保存。找一个 MP3 文件测试，在 finder 中右键已经可以出现我们想到的菜单了：</p>
<img src="/images/quick-action-4.jpg" class="">

<p>以下是最终的操作效果图(用 <a target="_blank" rel="noopener" href="https://ezgif.com/">EZGif</a> 生成）：</p>
<img src="/images/automator-effect.gif" class="">

<h2 id="运行状态"><a href="#运行状态" class="headerlink" title="运行状态"></a>运行状态</h2><p>像这种运行时间挺长的执令，其实可以在系统的顶部状态栏看到一个滚动的小齿轮，点击即可看到运行状态：</p>
<img src="/images/automator-processing.gif" class="">

<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><p>~~Service 是保存在本地的，我们还是要备份一下，直接复制到 Dropbox 同步盘即可： cp -r ~&#x2F;Library&#x2F;Services&#x2F;* ~&#x2F;Dropbox&#x2F;Service-backup&#x2F; ~~</p>
<p>可以直接将 workflow 文件保存到 iCloud 上：</p>
<img src="/images/automator-icloud.jpg" class="">

<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p><a target="_blank" rel="noopener" href="https://kapeli.com/dash">Dash</a> 和 <a target="_blank" rel="noopener" href="https://support.apple.com/zh-cn/HT2488">Automator</a> 是你自动化命令的好帮手，再借助 Dropbox、iCloud 等云盘将它们同步到你所有的电脑，你就可以随时随地使用这些命令。</p>
<p>祝大家玩得开心~</p>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/google-analytics-api-page-views-counter">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/google-analytics-api-page-views-counter" itemprop="url">使用 Google Analytics API 实现博客阅读量统计</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-25T07:07:00+08:00">
                2020-03-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>前段时间，Google Analytics 给我发了封邮件，说二月份我的博客有 9.3K 的 UV。点进去看了看热门的文章，访问量最多的是「<a target="_blank" rel="noopener" href="https://prinsss.github.io/twitter-account-has-been-locked/">Twitter 账号被锁定是种怎样的体验</a>」（17 年的博文了……），其他比较高的还有以前写的教程「<a target="_blank" rel="noopener" href="https://prinsss.github.io/windows-terminal-setup-guide/">Windows Terminal 安装与配置指南</a>」「<a target="_blank" rel="noopener" href="https://prinsss.github.io/wsl-guide/">WSL 配置指北：打造 Windows 最强命令行</a>」，以及后起之秀「<a target="_blank" rel="noopener" href="https://prinsss.github.io/namebase-handshake-airdrop/">记一次 HNS 币空投薅 $500 羊毛的经历</a>」，很真实。</p>
<p>看着报表上的访问量排名，我突然一寻思，这白花花的数据都在眼前，那能不能利用 GA 里的这些数据，给博客加个访问计数、阅读量统计功能呢？</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/google-analytics-api-page-views-counter#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/44-%E8%BF%91%E6%9C%9F%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E7%9A%84%E6%9B%B4%E6%96%B0">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/44-%E8%BF%91%E6%9C%9F%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E7%9A%84%E6%9B%B4%E6%96%B0" itemprop="url">近期博客站点的更新</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-23T00:10:23+08:00">
                2020-03-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index">
                    <span itemprop="name">生活</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>最近再次对博客站点进行了一番比较大的更新升级，主要是成功解决了几个历史性遗留问题，例如访问的速度、图片没有缩略图预览、自定义样式代码不太清楚等等。经过这一次的改造，感觉未来短期内大规模的更新变动应该不会有了，毕竟主要的需求都已经实现。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/44-%E8%BF%91%E6%9C%9F%E5%8D%9A%E5%AE%A2%E7%AB%99%E7%82%B9%E7%9A%84%E6%9B%B4%E6%96%B0#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020-03-21-option-learning-notes-4">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020-03-21-option-learning-notes-4" itemprop="url">美股期权学习笔记（四）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-22T21:40:01+08:00">
                2020-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>前面写完了 3 篇笔记之后，说说我的一些体会吧。</p>
<h2 id="期权不适合大部分人"><a href="#期权不适合大部分人" class="headerlink" title="期权不适合大部分人"></a>期权不适合大部分人</h2><p>期权的操作太复杂，不适合大部分人，特别是通过期权组合来建立各种头寸，对非专业人士来说很难掌握。</p>
<p>我感觉如果要成为这方面的专家，应该需要投入非常多的时间，对于普通人来说不但不划算，而且即便投入了也不一定能挣到钱。</p>
<h2 id="用裸卖看跌（PUT-期权来买入股票"><a href="#用裸卖看跌（PUT-期权来买入股票" class="headerlink" title="用裸卖看跌（PUT)期权来买入股票"></a>用裸卖看跌（PUT)期权来买入股票</h2><p>用裸卖看跌（PUT)期权来尝试降低买入股票的价格，是我认为<strong>唯一</strong>适合普通投资人尝试的操作。</p>
<p>比如特斯拉现在股票值 450，但是你觉得只有跌到 220 你才愿意买入。那你可以裸卖出一周或一个月到期的 220 元的 PUT 期权。这样：</p>
<ul>
<li>如果到期时股价跌到 220 以下，你则以 220 完成了建仓。</li>
<li>如果到期时股价没有跌到 220 以下，你则收取了权利金。</li>
</ul>
<p>这个事情的风险有几个:</p>
<ul>
<li>如果股价跌得特别多（比如跌到 100），这种操作实际上把买入的价格被锁定到了 220，造成帐面上的亏损。</li>
<li>如果股价上涨很多，这种操作会失去拥有这个股票的机会。</li>
</ul>
<h2 id="产品化的版本"><a href="#产品化的版本" class="headerlink" title="产品化的版本"></a>产品化的版本</h2><p>该操作被一个 App 产品化了，这个 App 叫<a target="_blank" rel="noopener" href="https://www.toweringsecurities.cn/">高格证券</a>。高格证券把该操作称作「优买计划」，如下图所示：</p>
<img src="/images/gaoge.jpg" class="">

<p>我觉得这种产品化的思路还挺好，首先它强化了这个策略应该用来长期持有看好的股票。然后它把权利金描述成现金收益，并且提供了年化收益和买入概率等信息。</p>
<p>如果你打算尝试，可以用我的邀请二维码（下图），这样我们俩各可以获得 5 美金的现金奖励。</p>
<img src="/images/gaoge-invite.jpg" class="">

<p>也说说高格的缺点吧。高格的优势也同时是它的劣势，因为高格把它产品化了，为你隐藏了大量信息，所以你也就无法做各种各样期权的组合以及中途回购期权。另外从保证金角度，如果是深度的虚值期权，保证金会动态变化，大多时候不会到 100%，而高格因为是鼓励以购买为目标来使用「优买计划」，所以你需要交 100% 的保证金。</p>
<h2 id="该操作的风险"><a href="#该操作的风险" class="headerlink" title="该操作的风险"></a>该操作的风险</h2><p>《麦克米伦谈期权》的 2.5.3 章节提到了这种操作。作者认为，如果你目的并不是持有股票，而是通过这种方式获取权利金，那么极端风险情况下，你会有极大的账面损失。书中也讲了一个真实的案例：</p>
<blockquote>
<p>市场上的专业投资者在裸卖空看跌期权的时候，喜欢选择低权利金，低波动率的股票，而 IBM 就是一个这类的股票。当时，IBM 的股价是 100 ~ 105 之间，挂牌的有行价权为 90 的 IBM 长期期权。<br>许多投资者裸卖出了看跌期权，他们的理由是他们不介意有机会以 90 的价格持有 IBM 的股票。<br>结果，IBM 的股价意外下跌到了 45。这个期权由虚值变为了深度实值。虽然期权没有到期，但是因为它是深度实值，很多被对手方提前行权了。<br>最后分析发现，其中很多投资者并没有打算真正地在熊市中持有 IBM 的股票。</p>
</blockquote>
<p>所以，这个故事告诉我们，再好的股票也有经历它自己的熊市的时候，而当事件发生时，裸卖空看跌期权就会遭受损失。</p>
<p>如果你想控制这种情况发生时的风险，有一个办法是用更低的成本买入深度虚值看跌期权，这样就形成了一个牛市价差的期权组合，这将控制你的下行风险。下图是牛市价差的盈亏图。</p>
<img src="/images/sell-put_buy-put.jpg" class="">

<h2 id="我自己的一些体会"><a href="#我自己的一些体会" class="headerlink" title="我自己的一些体会"></a>我自己的一些体会</h2><p>我自己尝试了一段时间裸卖空看跌（PUT)期权，以下是一些感悟：</p>
<ul>
<li><p>期权的到期时间不要过长。最好不要超过 3 个月。主要的原因一个是 3 个月时间波动可能非常大，另一个原因是你的保证金锁定时间太长。我建议过期时间选择 1 周 ~ 1 个月这个范围。</p>
</li>
<li><p>想清楚自己是为了挣权利金还是持有。如果是为了持有，不要将卖空的价格设置得特别低，否则大概率是不可能完成建仓的。而一些极端情况下完成的建仓，真正发生的时候，可能跌幅就不止是当时设置的那个买入价了。</p>
</li>
<li><p>如果是为了挣权利金而裸卖空看跌（PUT)期权。那么需要关注好 Theta 指标和 Vega 指标。因为 Theta 是时间价值指标。如果 Theta 指标特别低，而期权收益又高的话，那很可能是由于波动率（Vega）高带来的。那么这么高的波动率本身可能就意味着买入的风险。最好选低波动率的，同时时间价值高的期权。例如：下图中的一周到期的 Tesla 期权，Theta 值就很高：</p>
</li>
</ul>
<img src="/images/theta-tesla.jpg" class="">

<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>一些朋友告诫我不要操作任何期权，我觉得他们说的很可能是对的。我的以上总结大概率是有一些片面性的，未来我也有极大可能交一些学费。</p>
<p>不过，如果使用完全不影响生活质量的钱，抱着学习的心态，不上杠杆，心里能够接受最后全部赔光，我想这样也没什么大不了。人生苦短，生活总得有些事情不试试不死心，对吧。</p>
<p>愿大家玩得开心！</p>
<p>本系列文章汇总：</p>
<ul>
<li><a href="/2020/02/08/option-learning-note/">美股期权学习笔记（一）</a></li>
<li><a href="/2020/03/15/option-learning-notes-1/">美股期权学习笔记（二）</a></li>
<li><a href="/2020/03/21/option-learning-notes-3/">美股期权学习笔记（三）</a></li>
<li><a href="/2020/03/22/option-learning-notes-4/">美股期权学习笔记（四）</a></li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020-03-15-option-learning-notes-3">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020-03-15-option-learning-notes-3" itemprop="url">美股期权学习笔记（三）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-21T11:02:41+08:00">
                2020-03-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>这篇再展开讨论一下期权的指标。</p>
<h2 id="影响期权的变量"><a href="#影响期权的变量" class="headerlink" title="影响期权的变量"></a>影响期权的变量</h2><p>期权因为相关的变量很多，包括时间，行权价等。所以任何一个变量变化就会影响期权的价格。人们研究发现，影响期权的价格因素一共有如下 6 个：</p>
<ul>
<li>标的资产价格。对于看涨期权，标的资产上涨，看涨期权也上涨。</li>
<li>期权行权价格。</li>
<li>距离到期时间的长短。</li>
<li>标的波动率。标的波动率越高，期权价格越高。</li>
<li>短期利率，一般是 90 天的短期票据利率。</li>
<li>股息。公司如果提高股息，看涨期权会下跌，看跌期权上涨。因为股价会随着派息后下降，但是期权所有人无法获得股息。</li>
</ul>
<p>实值期权和虚值期权受到期时间的影响不一样：</p>
<ul>
<li>距离到期时间越近，虚值期权的价格越低。所以会出现随着临近，虚值的看涨和看跌期权都下跌的情况。</li>
<li>距离到期时间越近，实值期权的价值越来越接近标的行权价与市场价的差价。</li>
</ul>
<p>对此，《麦克米伦谈期权》1.9.2 节有一个汇总表格：</p>
<img src="/images/option-price-factors.jpg" class="">

<h2 id="期权的指标"><a href="#期权的指标" class="headerlink" title="期权的指标"></a>期权的指标</h2><p>为了更好的理解期权，人们又抽象出一些指标来描述它。</p>
<h3 id="Delta"><a href="#Delta" class="headerlink" title="Delta"></a>Delta</h3><p>Delta 表示随着股价的变化，期权价格的变化速度。Delta 变化区间在 <code>[-1, 1]</code> 之间。其中看涨期权的 Delta 变化区间在 <code>[0, 1]</code>，看跌期权的 Delta 变化区间在 <code>[-1, 0]</code>。</p>
<p>比如 Delta 为 0.5 就表示，股价每变化 1 点，期权变化 0.5 点。比如实值的看涨期权，Delta 就比较高，股价每上涨 1 点，期权几乎也上涨 1 点。</p>
<p>实值看涨期权的 Delta 接近 1，虚值看涨期权的 Delta 接近 0 一些。说明实值看涨期权更像是股票。</p>
<p>如果 Delta 为 0，则表示无论股价怎么变化，该组合的价格都不会变化，这种情况下，我们也称作该组合的 Delta 是中性，这也解释了上面提到的套利为什么被称作 <strong>Delta 中性头寸</strong>。</p>
<p>Delta 随着时间也会变化。比如对于虚值期权来说，随着时间流逝，它的 Delta 会趋于 0。因为时间越接近，股价的波动除非将虚值改变为实值，否则就没有意义。</p>
<p>与虚值期权相反，实值期权随着时间的流逝，它的 Delta 会趋近于 1（或-1）。因为这个时候，期权的时间价值几乎没有了，它的价格反映的就是行权价和股价之间的差。</p>
<p>书中对 Delta 还有一种另类的看待角度：<strong>Delta 可以看作期权最终到期时为实值期权的概率</strong>。虽然数学解释不严谨，但是很有效。</p>
<h3 id="波动率"><a href="#波动率" class="headerlink" title="波动率"></a>波动率</h3><p>波动率是用来衡量标的价格变化速度。</p>
<ul>
<li>历史波动率（historical volatility）是根据股票历史的波动率数据，是算出来的。</li>
<li>隐含波动率（implied volatility）是隐含在场内期权价格中的未来波动率水平。</li>
</ul>
<p>当隐含波动率远高于历史波动率，说明股票在经历一些事件，例如：并购，诉讼，重大合作，重大危机，这些事件因为没有确定，所以买卖双方力量均衡，但事件结束后股票就会有大的变化。</p>
<p>书中 6.6.2 节举了一个有趣的例子：</p>
<blockquote>
<p>1994 年，一家名为 Gensia 的制药公司被 FDA 宣布，将对它的主要药品举行听证会。该公司的股票没有什么巨大的波动，因为 FDA 的结果没有出来，所以看多和看空的双方力量均衡。<br>但是，这家公司的期权的隐含波动率即上升至 140% 左右的区域。这是因为交易者知道 FDA 的结果将决定这家公司的成败。结果 FDA 最终做出了不利于这家公司的决定。<br>这家公司股价瞬间下跌 50%，同时期权的隐含波动率回归到了正常水平。</p>
</blockquote>
<h3 id="Vega"><a href="#Vega" class="headerlink" title="Vega"></a>Vega</h3><p>Vega 描述的是波动率的变化如何影响期权价格（假定其它变量不变）。实际上 Vaga 就是代表的是隐含波动率。</p>
<ul>
<li>Vega 值如果为 -5.0，则表示波动率每增加 1 点，期权会亏损 500 元。</li>
<li>Vega 值如果为 +5.0，则表示波动率每增加 1 点，期权会收益 500 元。</li>
</ul>
<p>所以 Vega 代表的是波动率变化后，期权价格的变化情况。</p>
<h3 id="Theta"><a href="#Theta" class="headerlink" title="Theta"></a>Theta</h3><p>Theta 表示的是期权时间价值的减少。它是用负数来表示的，期权每过一天它的时间价值就会减少一些。</p>
<p>如果一个期权到期时间还很长，那么它的 Theta 值可能非常低。</p>
<p>例如：下图是 哔哩哔哩（BILI）在 3.20 的一份 7.17 到期的 22.5 PUT 合约，可以看到因为到期时间还有 4 个月，所以每天由于时间因素带来的影响只有 -0.014：</p>
<img src="/images/theta.jpg" class="">

<p>而与此对比，只有一周就到期的 3.27 Tesla PUT 的 Theta 则高达 -0.23：</p>
<img src="/images/theta-tesla.jpg" class="">

<h3 id="Rho"><a href="#Rho" class="headerlink" title="Rho"></a>Rho</h3><p>Rho 表示的是利率变化对于期权价格的影响。但是大部分活跃的期权交易因为到期时间都比较短（1-3个月），所以 Rho 的值都很小。</p>
<h3 id="Gamma"><a href="#Gamma" class="headerlink" title="Gamma"></a>Gamma</h3><p>因为 Delta 和 Vaga 值会变化得非常快，不利于构建中性头寸，所以理论家们又引入了 Gamma。</p>
<p>Gamma 是衡量 Delta 变化快慢的指标。如果 Delta 和 Gamma 都是中性的，那么组合保持中性的概率就高了很多。</p>
<p>对于如何建立一个中性头寸组合，书中介绍了详细的方法，但估计一般人都应该用不到，我就不展开介绍了。</p>
<h3 id="时间价值"><a href="#时间价值" class="headerlink" title="时间价值"></a>时间价值</h3><p>期权时间价值是指期权合约的购买者为购买期权而支付的权利金超过期权内在价值的那部分价值。期权购买者之所以愿意支付时间价值，是因为他预期随着时间的推移和市价的变动，期权的内在价值会增加。</p>
<p>期权的内在价值是通过对标的股票价格变化而变化的，如果股票没有超着预期的方向波动，那么期权的内在价值就不会增加，而随着时间流逝，期权的时间价值又会减少，期权的价值就会减少。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>因为期权的影响因素很多，所以人们抽像出来 Delta, Vega, Theta 等指标来更好地理解它。</p>
<p>本系列文章汇总：</p>
<ul>
<li><a href="/2020/02/08/option-learning-note/">美股期权学习笔记（一）</a></li>
<li><a href="/2020/03/15/option-learning-notes-1/">美股期权学习笔记（二）</a></li>
<li><a href="/2020/03/21/option-learning-notes-3/">美股期权学习笔记（三）</a></li>
<li><a href="/2020/03/22/option-learning-notes-4/">美股期权学习笔记（四）</a></li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/reverse-proxy-for-126-mail-pop-server">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/reverse-proxy-for-126-mail-pop-server" itemprop="url">反向代理解决 Gmail 代收 126 邮箱出现 Connection timed out 的问题</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-18T14:27:58+08:00">
                2020-03-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>我有很多个电子邮箱地址，并且都设置了转发或者代收到 Gmail 上，方便集中处理。其中看重实时性、邮件需要尽快处理的邮箱地址（比如 <a href="mailto:printempw@gmail.com">printempw#gmail.com</a>）是设置的自动转发规则，其他无关紧要的邮箱则是在 Gmail 上设置了 POP3 代收信（<a target="_blank" rel="noopener" href="https://support.google.com/mail/answer/21289">查收其他帐号的邮件</a>），一直用到现在也没什么问题。</p>
<p>然而前段时间我却突然发现，Gmail 里收不到网易 126 邮箱里的邮件了。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/reverse-proxy-for-126-mail-pop-server#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020-03-10-option-learning-notes-1">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020-03-10-option-learning-notes-1" itemprop="url">美股期权学习笔记（二）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-15T22:41:43+08:00">
                2020-03-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <p>最近研读了《麦克米伦谈期权》，以下是一些总结。</p>
<h2 id="什么是期权"><a href="#什么是期权" class="headerlink" title="什么是期权"></a>什么是期权</h2><p>期权是以特定价格买入或者卖出特定证券的权利，该权利在特定时间内有效。</p>
<p>期权有几个关键的概念：</p>
<ul>
<li>过期时间（expiration date），到了时间就过期。有期权的一方可以在到期前选择执行期权或放弃执行。</li>
<li>行权价（strike price），买卖双方按行权价执行。</li>
<li>权利金（premium），也就是期权的现金价值。期权的现金价值会随着时间以及股价波动。</li>
<li>类型。分为买入权利（CALL）和卖出权利（PUT）。CAll 又被称为看涨期权，PUT 被称为看跌期权。</li>
<li>标的。指目标期权。</li>
</ul>
<p>期权在美股上按手交易，每手代表 100 份标的。据说历史上有人把 1 手当成 1 股，结果就是多买了 100 倍的期权。</p>
<h2 id="行权时间"><a href="#行权时间" class="headerlink" title="行权时间"></a>行权时间</h2><p>美式期权和欧式期权不一样，美式期权可以在到期前的任意时间随时行权，欧式期权只能在到期时行权。美股上交易的股票期权都是美式期权。大部分的指数期权是欧式期权。</p>
<p>所以，对于美式期权，如果你通过卖 CALL 或者卖 PUT 做空一个期权，即使最终到了过期时间你的期权收益为正，但是有可能在中段波动的时候，你的期权在某一个时间点是亏损的，只要你的对手方提前行权了，你的这个亏损就被确定了。</p>
<p>我使用的期权软件背后的券商是<a target="_blank" rel="noopener" href="https://www.interactivebrokers.com.hk/cn/home.phplink">盈透证券（IB）</a>, 使用它提供的 <a target="_blank" rel="noopener" href="https://www1.interactivebrokers.com/en/index.php?f=16040">TWS 软件</a>，即可将自己的期权提前行权。</p>
<p>具体操作方式是在 TWS 中选择 “账户”-&gt;“期权行权”，然后操作相关的期权选择“提前行权”即可，如下图所示：</p>
<img src="/images/tws-1.jpg" class="">

<img src="/images/tws-2.jpg" class="">

<h2 id="期权拥有方到期的默认操作"><a href="#期权拥有方到期的默认操作" class="headerlink" title="期权拥有方到期的默认操作"></a>期权拥有方到期的默认操作</h2><p>期权拥有方按理说在到期时有行权和不行权的权利，那么如果不进行任何操作，默认的操作是行权还是不行权呢？美股的规则如下：</p>
<ul>
<li><p>到期日，期权在价内 0.01 或以上的股票期权将被自动行权，但是当投资者的保证金不满足行权条件时则会按照市场价平仓。</p>
</li>
<li><p>到期日，价格已低于 0.01 且投资者不主动行权或者平仓。这时候期权会自动失效，您的损失为全部期权费；一般情况下，这时候如果主动行权损失会更多。</p>
</li>
</ul>
<h2 id="实值期权与虚值期权"><a href="#实值期权与虚值期权" class="headerlink" title="实值期权与虚值期权"></a>实值期权与虚值期权</h2><p>如果行权价低于股票的价格，则我们称这个期权是有实值的，是实值期权，反之则称为虚值期权。</p>
<p>虚值期权之所以有交易，是因为它们具有时间价值，随着时间的变化，股价也会变动，有可能当时还是虚值的期权，未来就是实值了。</p>
<p>如果到了期权的到期时间，期权还是一个虚值期权，则它的价值就会归为 0。比如一个以 30 元买入的看涨期权，如果到期时股票价格是 20 元，那么期权所有者肯定不会行权，因为行权的价格比从市场上直接买还贵，这个期权就相当于废纸。</p>
<h2 id="盈亏曲线"><a href="#盈亏曲线" class="headerlink" title="盈亏曲线"></a>盈亏曲线</h2><p>我们假设某家公司的股价是 50 元，然后可以画出不同期权的盈亏曲线。不得不说，画这些图还挺有意思的，笔者用 keynote 完成的所有图的绘制。</p>
<h3 id="买入看涨期权"><a href="#买入看涨期权" class="headerlink" title="买入看涨期权"></a>买入看涨期权</h3><p>买入行权价 52 元的看涨期权的价格是 2 元，则盈亏曲线如下：</p>
<img src="/images/buy-call.jpg" class="">

<p>从图中可以看出，期权到期时：</p>
<ul>
<li>当股价低于 52 元时，损失为 200 元（1手期权的价格）</li>
<li>当股价等于 54 元时，刚好盈亏平衡</li>
<li>当股价高于 54 元时，有盈利</li>
<li>买入看涨期权，最大损失为 200 元，最大盈利无上限</li>
</ul>
<h3 id="卖出看涨期权"><a href="#卖出看涨期权" class="headerlink" title="卖出看涨期权"></a>卖出看涨期权</h3><p>卖出看涨期权的盈亏曲线和买入的刚好上下对称，因为两者互为对手盘。你盈多少，对手就亏多少，所以盈亏曲线如下：</p>
<img src="/images/sell-call.jpg" class="">

<p>从图中可以看出，期权到期时：</p>
<ul>
<li>当股价低于 52 元时，盈利为 200 元（1手期权的价格）</li>
<li>当股价等于 54 元时，刚好盈亏平衡</li>
<li>当股价高于 54 元时，有亏损</li>
<li>卖出看涨期权，最大收益为 200 元，最大亏损无上限</li>
</ul>
<h3 id="买入看空期权"><a href="#买入看空期权" class="headerlink" title="买入看空期权"></a>买入看空期权</h3><p>如果我们买入一个 48 元的期权，期权价格是 2 元，则盈亏曲线如下：</p>
<img src="/images/buy-put.jpg" class="">

<p>从图中可以看出，期权到期时：</p>
<ul>
<li>当股价高于 48 元，则亏损为 200 元（1手期权的价格）</li>
<li>当股价等于 46 元，刚好盈亏平衡</li>
<li>当股价低于 46 元，则有盈利。理论上，最高盈利是 4600 元，对应股价是 0 元。</li>
</ul>
<h3 id="卖出看空期权"><a href="#卖出看空期权" class="headerlink" title="卖出看空期权"></a>卖出看空期权</h3><p>同样，卖出看跌期权的盈亏曲线和买入的刚好上下对称，因为两者互为对手盘。盈亏曲线如下：</p>
<img src="/images/sell-put.jpg" class="">

<p>从图中可以看出，期权到期时：</p>
<ul>
<li>当股价高于 48 元，则盈利为 200 元（1手期权的价格）</li>
<li>当股价等于 46 元，刚好盈亏平衡</li>
<li>当股价低于 46 元，则有亏损。理论上，最高亏损是 4600 元，对应股价是 0 元。</li>
</ul>
<h2 id="保证金"><a href="#保证金" class="headerlink" title="保证金"></a>保证金</h2><p>当你买 CALL 或者买 PUT ，你付出的就是权利金，损失是有限的，最坏情况下就是期权价值变为 0，损失掉所有的权利金。但是你的理论收益是无穷的。</p>
<p>当你卖 CALL 或者卖 PUT，你就会收到权利金，但是你的收益上限就是权利金。当你的对手方行权的时候，你需要执行相应的义务：</p>
<ul>
<li>对于 CALL 期权，你需要按指定价格卖出标的股票</li>
<li>对于 PUT 期权，你需要按指定价格买入标的股票</li>
</ul>
<p>为了保证你有行使这个义务的能力，你需要在帐户中保留足够的保证金。保证金的计算规则比较复杂，与你的期权仓位占比以及期权集中性都有关系，在盈透证券的<a target="_blank" rel="noopener" href="https://www.interactivebrokers.com.hk/cn/index.php?f=27149">帮助页面</a>上有详细的介绍。</p>
<p>如果你的证券价值和现金加起来的保证金不足，则系统会随机平仓你的一部分股票以维持保证金要求。</p>
<h2 id="期权的组合（一）"><a href="#期权的组合（一）" class="headerlink" title="期权的组合（一）"></a>期权的组合（一）</h2><p>期权组合起来，可以构建一些特殊的盈利曲线。比如我们同时卖出看涨和看跌期权，就可以将以下两种曲线叠加。《麦克米伦谈期权》在 2.5.5 小结中介绍了这种被称为跨式期权的组合。</p>
<p>下图中的红色和蓝色分别为卖出看跌和卖出看涨的盈亏曲线，而黄色则表示叠加之后的组合盈亏曲线。</p>
<img src="/images/sell-buy-put.jpg" class="">

<p>这个曲线很有意思，它表示不管股票是上涨还是下跌，只要股价到期时的波动范围在 44 ~ 52 元之间，这个组合就是盈利的。</p>
<p>想当然的，你可以构建一个波动范围极宽的跨式组合期权，虽然这种组合期权盈利不多，但是盈利的概率极大。历史上曾经这种策略很流行，但是市场总是会出现小概率事件，这种跨式期权收益有上限，但是亏损无限的特点，遇上一次极端事件就能让投资者破产。</p>
<h2 id="期权的组合（二）"><a href="#期权的组合（二）" class="headerlink" title="期权的组合（二）"></a>期权的组合（二）</h2><p>相比刚刚介绍的那种组合，以下的期权组合更被做市商所采用，即：买入看涨期权 + 卖出看跌期权。</p>
<p>你看完下图就能明白这个组合的有趣之处了：</p>
<img src="/images/buy-call-sell-put.jpg" class="">

<p>这种组合的收益曲线和直接买入股票是完全一样的。但是在这种组合下，你所需要的资金只是买入股票的一部分，所以你可以以更小的资金成本，达到同样的收益曲线。</p>
<p>实际当中，这种策略与买入股票并不是完全一样收益，因为股票还会涉及分红，而持有期权是没有分红权的。另外则是交易费率和交易次数的差异。</p>
<h2 id="组合套利"><a href="#组合套利" class="headerlink" title="组合套利"></a>组合套利</h2><p>因为买卖价差的原因，有些时候做市商会通过组合，构建一个收益为正，但是风险为零的套利。</p>
<p>刚刚说到<code>期权的组合（二）</code>就是一种持有股票的策略，如果我们用<code>期权组合（二）</code>再加上<code>卖空股票</code>，就构建出一种组合。由于买卖价差的原因，这种组合虽然相当于什么都没干，但是却会有收益。</p>
<p>以下我就以一个实际的案例进行说明。我们拿好未来在美股的真实股价与期权价举例。</p>
<p>好未来在 3 月 6 日的收盘价格是 56.49，同时</p>
<ul>
<li>4.17 到期的 50 元看涨期权挂单价格是 7.8(买) ~ 9.8（卖），最近成交价是 7.62</li>
<li>4.17 到期的 50 元看跌期权挂单价格是 1.45（买）~ 1.95（卖），最近成交价是 1.69</li>
</ul>
<p>我们假设，我们在 3.6 收盘前，以：</p>
<ul>
<li>以 56.49 的价格卖空 100 股股票</li>
<li>以 7.62 的成交价买入 1 手看涨期权</li>
<li>以 1.69 的成交价卖出 1 手看跌期权</li>
</ul>
<p>那我们的收益应该是多少呢？为了计算收益，我们需要搬出初中学习的二元一次方程。如果你不想跟着我计算，可以直接看最后的结论。</p>
<h3 id="计算卖空的收益函数"><a href="#计算卖空的收益函数" class="headerlink" title="计算卖空的收益函数"></a>计算卖空的收益函数</h3><p>假设未来股价为 x，则卖空 100 股股票的收益函数 y1 为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">y1 = (56.49 - x) * 100</span><br><span class="line">   = (50 - x) * 100 + 6.49 * 100</span><br><span class="line">   = (50 - x) * 100 + 649</span><br></pre></td></tr></table></figure>
<p>应该很简单对吧？因为是做空，x 越大，则 y1 越小。</p>
<h3 id="计算买入看涨期权的收益函数"><a href="#计算买入看涨期权的收益函数" class="headerlink" title="计算买入看涨期权的收益函数"></a>计算买入看涨期权的收益函数</h3><p>假设未来股价为 x，则期权到期时收益函数 y2 为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x &lt; 50 时：</span><br><span class="line">	y2 = -7.62 * 100 = -762</span><br><span class="line">x &gt;= 50 时：</span><br><span class="line">	y2 = (x - 50) * 100 - 762</span><br></pre></td></tr></table></figure>

<p>能看懂吧？因为期权行权价是 50，所以股价少于 50 则期权就作废了，损失为 762 元的权利金。如果股价高于 50，则可以按上面的公式来计算盈亏。</p>
<h3 id="计算卖出看跌期权的收益函数"><a href="#计算卖出看跌期权的收益函数" class="headerlink" title="计算卖出看跌期权的收益函数"></a>计算卖出看跌期权的收益函数</h3><p>假设未来股价为 x，则期权到期时收益函数 y3 为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x &lt; 50 时：</span><br><span class="line">	y3 = (x - 50) * 100 + 169</span><br><span class="line">x &gt;= 50 时：</span><br><span class="line">	y3 = 1.69 * 100 = 169</span><br></pre></td></tr></table></figure>
<p>因为我们是卖出看跌，所以如果股价高于 50，我们的收益就是 169 的权利金，否则我们就需要按上面的公式计算收益。</p>
<h3 id="求和"><a href="#求和" class="headerlink" title="求和"></a>求和</h3><p>我们将 y1, y2, y3 进行求和</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">x &lt; 50时：</span><br><span class="line">	y1 = (50 - x) * 100 + 649</span><br><span class="line">	y2 = -762</span><br><span class="line">	y3 = (x - 50) * 100 + 169</span><br><span class="line">  求和：</span><br><span class="line">	y = y1 + y2 + y3</span><br><span class="line">	  = (50 - x) * 100 + 649 -762</span><br><span class="line">	   + (x - 50) * 100 + 169</span><br><span class="line">	  = 649 - 762 + 169</span><br><span class="line">	  = 56</span><br><span class="line"></span><br><span class="line">y &gt;= 50时：</span><br><span class="line">	y1 = (50 - x) * 100 + 649</span><br><span class="line">	y2 = (x - 50) * 100 - 762</span><br><span class="line">	y3 = 169</span><br><span class="line">  求和：</span><br><span class="line">	y = y1 + y2 + y3</span><br><span class="line">	  = (50 - x) * 100 + 649</span><br><span class="line">	   + (x - 50) * 100 - 762</span><br><span class="line">	   + 169</span><br><span class="line">	  = 649 - 762 + 169</span><br><span class="line">	  = 56</span><br></pre></td></tr></table></figure>

<p>最后，我们发现，x 不管是大于 50 还是小于 50，情况都一样，<code>y = 56</code>。</p>
<p>你看，如果你当时按市场价同时完成了这 3 笔交易，你就构建了一个套利。这也是做市商的生意模式。</p>
<p>这种组合在《麦克米伦谈期权》的 6.2 章节中被称作 <strong>Delta 中性头寸</strong>。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ul>
<li>期权是以特定价格买入或者卖出特定证券的权利，该权利在特定时间内有效。</li>
<li>美式期权是可以提前行权的。</li>
<li>卖出期权收到权利金，但是需要帐户中留有足够执行期权义务的保证金。</li>
<li>期权的组合可以用来构建各种特殊的盈利曲线。</li>
<li>如果一个组合与标的股价无关，我们就说这个组合是 Delta 中性的。它可以用来做无风险套利。</li>
</ul>
<p>本系列文章汇总：</p>
<ul>
<li><a href="/2020/02/08/option-learning-note/">美股期权学习笔记（一）</a></li>
<li><a href="/2020/03/15/option-learning-notes-1/">美股期权学习笔记（二）</a></li>
<li><a href="/2020/03/21/option-learning-notes-3/">美股期权学习笔记（三）</a></li>
<li><a href="/2020/03/22/option-learning-notes-4/">美股期权学习笔记（四）</a></li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/short-domain-name-for-blog">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/short-domain-name-for-blog" itemprop="url">博客短域名 printem.pw 和 prin.studio</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-15T19:22:00+08:00">
                2020-03-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%97%A5%E5%B8%B8/" itemprop="url" rel="index">
                    <span itemprop="name">日常</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>前几天在 Twitter 上看到一个「<a target="_blank" rel="noopener" href="https://github.com/timqian/chinese-independent-blogs">中文独立博客列表</a>」，点进去观摩了一下大佬们，然而正当我准备关掉页面时，看到项目的 README 底部赫然写着：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## 什么是独立博客</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> 拥有自己的域名</span><br><span class="line"><span class="bullet">-</span> 作者本人原创内容</span><br></pre></td></tr></table></figure>

<p>且不说这定义是否准确，我就琢磨，我这 <code>github.io</code>，配当独立博客不？</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/short-domain-name-for-blog#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/assess-performance-impact">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/assess-performance-impact" itemprop="url">How to Estimate Web Performance Impact Before Making Fixes</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-14T07:15:00+08:00">
                2020-03-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          Learn about several ways of assessing the potential performance gains before implementing improvements. This will help building the case and prioritizing performance work.
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/assess-performance-impact">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/angular-directive">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/angular-directive" itemprop="url">Angular：使用[@Directive]自定义指令</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-09T17:26:27+08:00">
                2020-03-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Angular/" itemprop="url" rel="index">
                    <span itemprop="name">Angular</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>在 Angular 中有三种类型的指令：</p>
<ul>
<li><p>组件，有模板的指令，组件是继承于指令的，只是扩展类与 UI 相关的属性。</p>
</li>
<li><p>属性型指令，改变 DOM 元素、组件或其他指令的行为和外观的指令。如，NgStyle、NgClass。</p>
</li>
<li><p>结构型指令，通过添加或移除 DOM 元素改变 DOM 布局的指令。如，NgIf、NgFor。</p>
</li>
</ul>
<p>然而，在实际的开发中，根据业务的需要，我们经常会拓展 Angular 组件的指令来方便业务的开发。下面让我们来看看如何创建自己的指令。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/angular-directive#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/angular-controlvalueaccessor">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/angular-controlvalueaccessor" itemprop="url">Angular: [ControlValueAccessor] 自定义表单控件</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-09T17:23:32+08:00">
                2020-03-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Angular/" itemprop="url" rel="index">
                    <span itemprop="name">Angular</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>我们在实际开发中，通常会遇到各种各样的定制化功能，会遇到有些组件会与 Angular 的表单进行交互，这时候我们一般会从外部传入一个 FormGroup 对象，然后在组件的内部写相应的逻辑对 Angular 表单进行操作。如果我们只是对表单中的一个项进行定制，将整个表单对象传入显然不合适，并且组件也会显得臃肿。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/angular-controlvalueaccessor#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020/deal-with-manjaro-19-package-changes">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/deal-with-manjaro-19-package-changes" itemprop="url">处理 Manjaro 19.0 升级中的软件包变更</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-29T12:47:00+08:00">
                2020-02-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
          <p>看到这标题你可能会觉得奇怪，Manjaro 不是滚动更新的发行版吗？<code>pacman -Syu</code> 一下就完事儿了，这有什么好写的。</p>
<p>其实不然。就算你一路滚上来所有包都是最新版本，也不代表你机器上的软件包就和最新的 ISO 一致了。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/deal-with-manjaro-19-package-changes#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020-02-26-machine-learning-for-ios">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020-02-26-machine-learning-for-ios" itemprop="url">写给 iOS 的机器学习入门</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-26T21:52:24+08:00">
                2020-02-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/summary/" itemprop="url" rel="index">
                    <span itemprop="name">summary</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <img src="/images/ml-book-cover.png" class="">

<p>最近买了 <a target="_blank" rel="noopener" href="https://www.raywenderlich.com/">Ray Wenderlish</a> 上面的 <a target="_blank" rel="noopener" href="https://store.raywenderlich.com/products/machine-learning-by-tutorials">《Machine Learning by Tutorials》</a>一书看了看，对机器学习有了进一步的理解。</p>
<p>这本书前面几章特别适合 iOS 背景的同学，因为相关的实践都是直接在 Xcode 环境下做的。</p>
<p>以下是我的一些小结。</p>
<h2 id="机器学习基础概念"><a href="#机器学习基础概念" class="headerlink" title="机器学习基础概念"></a>机器学习基础概念</h2><p>首先我们需要理解一些非常基础的概念。</p>
<h3 id="深度学习"><a href="#深度学习" class="headerlink" title="深度学习"></a>深度学习</h3><p>虽然严格意义上的机器学习定义范围很广，但是这本书讲的其实是指深度学习（Deep Learning），这也是当前最火的机器学习研究领域。</p>
<p>深度学习其实是一项相对有些年头的研究成果了，它之所以最近 5 年才这么火，主要是因为人们发现了可以用 GPU 来加速其计算过程。原本需要算几年才能训练出来的模型，现在在 GPU 的帮助下可以在几天训练出来了。</p>
<p>这样，一项原本理论上完美但是实际上困难的技术终于落地了。Google 旗下的 DeepMind 研究出来的围棋 AI <a target="_blank" rel="noopener" href="https://deepmind.com/blog/article/alphago-zero-starting-scratch">Alpha Zero</a>，就是在 40 天的训练后，超过了世界围棋冠军以及它的前辈们。</p>
<p><img src="https://lh3.googleusercontent.com/atTt6Okt1LQIjIAF225ptfDdCtndp-OD4ZNPAmxTEAESk-sRvQg0cHbULyxh4wci7QH_TD3jIMGWMraOZHPW-C9UU6ZUx9jN4yms3g=w2048-rw-v1"></p>
<p>深度学习之所以名字中带深度，是因为它的模型是分层的，这一层一层的模型与人类的大脑皮层类似，我们把它叫做神经网络（Neural Network）。</p>
<h3 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h3><p>模型代表的是训练（Training）出来的神经网络，训练的方式有三种：</p>
<ul>
<li>监督学习（supervised learning）。在训练的时候告诉模型什么是对的，什么是错的，让模型学习。</li>
<li>非监督学习（unsupervised learning）。主要是通过 k-means 之类的算法，让模型自己从数据中找规律。</li>
<li>强化学习（reinforcement learning）。设立一些简单的规则，让模型通过正向奖励和负向惩罚来训练。</li>
</ul>
<p>模型在训练的时候会抽取特征（feature），比如一个预测房价的模型，那么它的 feature 可能有房间数，面积，楼层，位置，朝向等。</p>
<p>大多数情况下，为了让模型训练出好的能力，都需要进行大量的训练。而很多大量的训练数据，都是通用人工标注来完成的。小猿搜题的拍照搜题算法就是基于深度学习的，为此我们长年维持着一个上百人的标注团队，用于提升模型的准确度。所以我们的同事戏称：</p>
<p><strong>人工智能是有多少人工就有多少智能。</strong></p>
<p>这也是我去年为什么重仓 Tesla 的原因，在相关法律法规还不完善的情况下，特斯拉的自动驾驶算法已经靠它全球几十万辆车收集了海量的数据。有一些甚至是自动驾驶算法的事故数据，而这些海量数据是自动驾驶技术的核心优势。除了 Google，没有第二家有这么海量的数据，特斯拉的自动驾驶算法就值 300 亿美金。</p>
<h2 id="神经网络的工作原理"><a href="#神经网络的工作原理" class="headerlink" title="神经网络的工作原理"></a>神经网络的工作原理</h2><p>这本书用了一种很简单的方式解释了神经网络的工作原理。</p>
<p>我们首先定义任务：设计一个神经网络，从一堆图片中区分出猫和狗的图片。</p>
<p>其实任何数据，我们都可以把它看作一段输入的序列。比如一张图片，我们可以看成图片的点的序列，每个点我们又可以看成一个 RGB 值的序列，这样我们就可以把一张图片，变成一个序列。</p>
<p>假设所有图片长宽是 NxN 的，那么它就包含 NxN 个点，每个点有 R,G,B 三个值，这样就是 <code>3xNxN</code> 个值。我们知道，在二维的平面，所有点都是 <code>[x,y]</code> 两个值的。在三维空间，所有点都是 <code>[x,y,z]</code> 三个值的。所以我们当前任务的图片，如果长宽都一样，那么就都是 <code>3xNxN</code> 维空间上的一个点。</p>
<p>这一堆图片，其实就是 <code>3xNxN</code> 维空间上的一堆点。</p>
<p>而神经网络的任务，就是在这个空间中，找出一种方式，把这些点分成两堆，其中一堆全是猫，另一堆全是狗。</p>
<p>为了更形象地举例，书中拿 3 维空间举例，神经网络的任务就是找出一个平面，把下面的点分成两堆。</p>
<img src="/images/ml-sample-1.png" class="">

<p>但是，很多时候，这些点明显不是像上面这样排列的，它们很可能混淆在一起，像下面这样：</p>
<img src="/images/ml-sample-2.png" class="">

<p>所以，你需要进行变换，把这些点通过一些变换，映射到另一些点上面，我们希望通过这些变换，最终可以找到一个平面，把这些点很方便地分割开。拿图中的例子来说，如果你可以变换成下面这样，我想你用肉眼就可以找到分割方式了。</p>
<img src="/images/ml-sample-3.png" class="">

<p>神经网络的厉害之处在于，它会自动进行这种变换尝试，最终找到一种尽可能好的变换，这也就是训练模型的过程。而最常见的变换方式就是卷积（convolutions）。</p>
<p>卷积神经网络（CNN）也是现在最常见的处理图像类的深度学习模型。卷积运算被大量用在图像显示处理中，这也是为什么深度学习更适合使用 GPU 而不是 CPU 的原因。</p>
<h2 id="CNN-和-RNN"><a href="#CNN-和-RNN" class="headerlink" title="CNN 和 RNN"></a>CNN 和 RNN</h2><p>卷积神经网络（CNN） 和 （循环神经网络）RNN 是当前最常见的两种神经网络。</p>
<p>CNN 通过卷积来完成神经网络的变换，通常情况下适用于图像一类的场景，比如人脸识别。CNN 通过卷积，将图像的特征一步步地提取，从最初的像素点，慢慢变成边，再慢慢提取出小的部件，最终能够识别出复杂的东西。比如下图就是 CNN 人脸识别的过程（来自<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/51241366">参考资料2</a>）：</p>
<img src="/images/ml-sample-4.png" class="">

<p>CNN 通常要求输入数据是相同规格的，刚刚我们提到那个识别小猫小狗的问题，其实用 CNN 的话，首先需要做的就是把图片缩放成一样的尺寸。但是有些时候，我们并不能很方便地做这种事情。</p>
<p>例如：我们要用 CNN 做一个语言翻译模型。我们不可能让所有的语言输入的时候长度都是一样的。这个时候，RNN 的优势就体现了。RNN 更注意关注输入数据的连续性，并且每次运算的时候，可以反复地把当前层的输出又当作输入进行运算。</p>
<p>拿数据结构来说，CNN 应该是一个有向无环图，而 RNN 是一个有向有环图。</p>
<h2 id="如何理解卷积"><a href="#如何理解卷积" class="headerlink" title="如何理解卷积"></a>如何理解卷积</h2><p>卷积如果上数学描述来解释，容易让人晕。我打一个比方吧：</p>
<p>卷积就是拿一个矩阵，我们可以把它想像成一个盖子，这个盖子在目标图形上不停地移动。每次移动的时候，这个矩阵就和目标图形上被“盖住”的区域做一个操作，这个操作形成一个新的数字，填到新的图形中。</p>
<p>具体的操作方式是：将这个矩阵和被盖住的矩阵对应位置做乘积，然后求和。下面是一个示意图（来自<a target="_blank" rel="noopener" href="http://imgtec.eetrend.com/d6-imgtec/blog/2017-05/9715.html">参考资料1</a>）：</p>
<img src="/images/ml-sample-5.jpg" class="">

<p>卷积的公式选择得好，就有助于提取图像中关键的信息，下面是一个示意，可以看到花瓣通过卷积，在目标图形上得到明显地体现，而其它信息被抹去了。（来自<a target="_blank" rel="noopener" href="http://imgtec.eetrend.com/d6-imgtec/blog/2017-05/9715.html">参考资料1</a>）。</p>
<img src="/images/ml-sample-6.jpg" class="">

<h2 id="使用-Create-ML-来训练数据"><a href="#使用-Create-ML-来训练数据" class="headerlink" title="使用 Create ML 来训练数据"></a>使用 Create ML 来训练数据</h2><p>我们可以使用 Xcode 自带的 Create ML 来训练一些基础的深度学习模型，然后应用到我们的 App 上。苹果系统自带的 Core ML 和 Metal 可以很方便地在底层提供这些支持。下面是一个例子。</p>
<p>从 Xcode 的菜单 <code>Xcode</code> -&gt; <code>Open Developer Tool</code> -&gt; <code>Create ML</code> 可以打开 Create ML 工具。</p>
<img src="/images/create-ml-1.png" class="">

<p>然后，新建一个图像分类的模型，然后选择 Input，将需要训练的图片导入进入。每一种类型的图片需要放在同一个目录。导入之后可以看到 Create ML 识别出图像的种类数（class）。点击工具栏上的训练按钮即可开始训练。</p>
<img src="/images/create-ml-2.png" class="">

<p>训练结束后，可以看到 准确率（precision）和 召回率（recall）。</p>
<img src="/images/create-ml-3.png" class="">

<p>直接拖动 output 中的那个文件到 Finder 中，即可将训练好的模型导出。</p>
<p>在代码中应用训练好的模型也非常方便，将模型文件拖入到 Xcode 工程中，就可以看到这个模型对应的类名和方法定义了。可以直接在 Xcode 中初始化这个模型，然后调用其 <code>prediction</code> 方法进行图像的分类。</p>
<img src="/images/create-ml-4.png" class="">


<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ul>
<li>深度学习其实是利用神经网络的变换，来对训练数据进行学习的技术。</li>
<li>大部分的深度学习案例都需要大量的标注数据。</li>
<li>卷积神经网络（CNN）和（循环神经网络）RNN 是当前最常见的两种神经网络。</li>
<li>CNN 常用于图像处理，RNN 常用于语音识别和翻译。</li>
<li>Xcode 的 Create ML 可以进行一些简单的模型训练工作。</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a target="_blank" rel="noopener" href="http://imgtec.eetrend.com/d6-imgtec/blog/2017-05/9715.html">秒懂各种深度学习卷积神经网络操作</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/51241366">DNN、RNN、CNN.一文带你读懂这些绕晕人的名词</a></li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://blog.feedscoin.com/2020-02-26-talk-about-theme-changing-feature">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="逐流小站">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020-02-26-talk-about-theme-changing-feature" itemprop="url">App 换肤功能的思考</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-26T10:17:37+08:00">
                2020-02-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5167312561"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      

      
        
        
          
            <h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>我们发现市面上的 App，有一些做了换肤功能，比如网易云音乐，而大部分 App 没有做换肤功能。那么：</p>
<p><strong>什么样的 App 适合做换肤功能，什么样的 App 不适合做换肤功能？</strong></p>
<p>最近我找一些同行交流了一下，做了一些小结，分享给大家。</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>我们在讨论的时候，常常把为运营活动提供的换肤和为用户提供的换肤混为一谈，因为毕竟它们最终都是达成了用户界面外观的更换。</p>
<p>在讨论的时候，我发现大家对于为运营活动提供的换肤功能都持正面态度，因为：</p>
<ul>
<li>这种功能并不增加 App 可见的换肤入口，运营同事是通过企业后台的 CRM 系统来配置相应活动的皮肤。</li>
<li>运营活动需要新鲜的活动界面来刺激用户感兴趣，而一个视觉上的界面变化就是最直接的刺激。</li>
<li>运营活动的换肤功能通常涉及的界面相对小，不会影响整个 App 的视觉体验。</li>
</ul>
<p>所以，我们下面就只讨论为 C 端用户提供的，可供用户主动挑选和设置的换肤功能。</p>
<h2 id="用户需求"><a href="#用户需求" class="headerlink" title="用户需求"></a>用户需求</h2><p>我们可以先从用户需求角度来看换肤功能解决的问题。</p>
<p>用户换肤的需求我觉得来自两个角度：</p>
<ul>
<li>社交角度</li>
<li>情感和审美角度</li>
</ul>
<p>其实还有一个特殊的场景角度：夜间模式。这个比较特殊，我们放到最后讨论。</p>
<h3 id="社交角度"><a href="#社交角度" class="headerlink" title="社交角度"></a>社交角度</h3><p>在社交角度，换肤代表着 TA 的个性化表达，用户希望界面能够传达出一种自己的个性或审美。这种需求多涉及个人展示的地方，比如社交头像、个人主页、个人博客等。</p>
<p>本质上，这是一种偏社交属性的需求，用户是希望让其它人看到才用换肤。</p>
<p>案例包括：微信的聊天背景，QQ 空间，bilibili 的个性挂件，王者荣耀的英雄皮肤等。</p>
<h3 id="情感和审美角度"><a href="#情感和审美角度" class="headerlink" title="情感和审美角度"></a>情感和审美角度</h3><p>情感和审美角度是内在的，即有一些别人看不见的界面，用户基于内在的情感表达或者对于审美有新鲜感的需求来使用换肤功能。比如：</p>
<ul>
<li>用户喜欢某个人，就可能拿这个人的照片当自己某些界面的背景。</li>
<li>用户觉得 Mac 桌面太单调了，就会时不时换一张。</li>
</ul>
<p>当然，也有时候是原来的界面用户不喜欢，希望自己定制。</p>
<p>案例包括：网易云音乐、QQ 浏览器、Chrome、手机锁屏界面、系统界面等。</p>
<h2 id="成本角度"><a href="#成本角度" class="headerlink" title="成本角度"></a>成本角度</h2><p>换肤的成本可以从以下几个角度评估：</p>
<ul>
<li><p>研发实施成本。换肤看功能的强弱程度，可能涉及比较多的界面，这种情况下，在未来调整功能的时候，不同皮肤下功能是否正常或许都是需要测试来覆盖的。研发也需要调整架构，以支持换肤。整体这方面的难度算中低吧，基本上都能搞定。兼容性需要未来持续投入时间成本来测试，但也算是一个低程度的成本。</p>
</li>
<li><p>功能复杂性成本。产品的功能都需要占据用户界面，多了一个功能，对于那些不喜欢用的用户来说，就是成本。因为占据了他们的注意力精力，特别是他们看到了这个功能之后不用。这也是为什么一个不好的功能不是零分，是负分。就这个功能来说，可以通过上线之后用户使用率&#x2F;留存率来评估，如果用户使用率低于 1%，留存率低于 20% 那么可能需要思考这个功能是否还有必要为了少数人保留。</p>
</li>
<li><p>产品焦点缺失。换肤可能会影响用户对于产品功能的焦点或核心功能的体验。一个朋友提到微博当年不做皮肤，也是觉得微博产品的核心是内容，不希望界面抢内容的焦点。</p>
</li>
</ul>
<p>个人觉得研发成本和功能复杂性都可以几乎忽视，最影响的还是产品焦点，一个产品的核心功能或体验如果被界面干扰，反倒是不好的。我们看到苹果的界面风格越来越简洁，越来越凸显内容，也是为了聚焦核心体验。</p>
<h2 id="夜间模式"><a href="#夜间模式" class="headerlink" title="夜间模式"></a>夜间模式</h2><p>夜间模式需要单独拿出来说，因为它还是比较特别。本质上他和前面的都不一样，满足的是用户在特定场景下使用 App 的体验问题。比如猿题库的夜间模式，是为了保证孩子在被窝里面刷题的体验。</p>
<p>做不做这个功能，要看用户在这个场景下的使用频率。常见的新闻客户端、阅读软件都有夜间模式，比如网易新闻、多看阅读。</p>
<p>夜间模式对整体的界面设计改动比较大，开发成本会稍大一些。但是如果需求成立，那么就不存在产品焦点缺失这些担心。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>小结一下：</p>
<ul>
<li>运营角度的换肤是成立的，并且是好的。可以为特定节点的活动增加整体的视觉效果，提升运营效率。</li>
<li>用户定制的换肤，有一类偏社交的，这一类的换肤能让其他人看到，如微信的聊天背景，bilibili的个性挂件。</li>
<li>用户定制的换肤，有一类是满足用户情感和审美需求的，比如网易云音乐。</li>
<li>换肤的成本包括：产品研发（偏小），功能复杂性（偏中），产品焦点影响（偏大）。</li>
</ul>

          
        
      
    </div>
    
    
    

    


    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/22/">&lt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/73/">73</a><a class="extend next" rel="next" href="/page/24/">&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">1451</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">914</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522670236044605"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-4522670236044605"
     data-ad-slot="5358884258"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Laird Lau</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  

  

  
  

  

  

  

</body>
</html>
